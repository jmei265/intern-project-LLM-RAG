[[{"text": "hello and welcome to red teaming for", "start": 0.719, "duration": 4.881}, {"text": "beginners i know for some of you the", "start": 2.8, "duration": 4.479}, {"text": "title might suggest this is an", "start": 5.6, "duration": 3.68}, {"text": "introduction for those who are trying to", "start": 7.279, "duration": 3.36}, {"text": "break into", "start": 9.28, "duration": 4.56}, {"text": "red teaming failed um i will say that is", "start": 10.639, "duration": 5.761}, {"text": "not necessarily true because i believe", "start": 13.84, "duration": 4.72}, {"text": "even if an experienced red teamer", "start": 16.4, "duration": 4.799}, {"text": "penetration tester ethical hacker or", "start": 18.56, "duration": 5.84}, {"text": "even a blue teamer you might find one or", "start": 21.199, "duration": 7.041}, {"text": "two techniques or concepts we capture in", "start": 24.4, "duration": 6.48}, {"text": "this course relevant to your line of", "start": 28.24, "duration": 5.12}, {"text": "work i have designed this course in such", "start": 30.88, "duration": 4.48}, {"text": "a way that we're going to", "start": 33.36, "duration": 4.32}, {"text": "walk through the whole process of", "start": 35.36, "duration": 5.519}, {"text": "running red teaming from beginning all", "start": 37.68, "duration": 6.24}, {"text": "the way through to post engagement or", "start": 40.879, "duration": 5.601}, {"text": "all the way through to the end of your", "start": 43.92, "duration": 4.72}, {"text": "red team operation now most of the", "start": 46.48, "duration": 4.079}, {"text": "concepts and techniques that i'll be", "start": 48.64, "duration": 4.0}, {"text": "discussing in this course are coming", "start": 50.559, "duration": 4.801}, {"text": "from my own real world experience and", "start": 52.64, "duration": 4.88}, {"text": "some of them are also coming from other", "start": 55.36, "duration": 5.76}, {"text": "people's work based on my research hence", "start": 57.52, "duration": 6.48}, {"text": "along the line i'll give shout outs to", "start": 61.12, "duration": 5.999}, {"text": "the people who may have brought up the", "start": 64.0, "duration": 6.479}, {"text": "concepts or built tools because you have", "start": 67.119, "duration": 5.68}, {"text": "to give credit where credit is due in", "start": 70.479, "duration": 4.64}, {"text": "our line of work so", "start": 72.799, "duration": 4.801}, {"text": "let's jump into what is going to be", "start": 75.119, "duration": 4.161}, {"text": "covered in this course because it's", "start": 77.6, "duration": 4.159}, {"text": "going to be a long one and it's going to", "start": 79.28, "duration": 5.199}, {"text": "be a fun and exciting um you know", "start": 81.759, "duration": 5.121}, {"text": "training so we are going to start with", "start": 84.479, "duration": 4.721}, {"text": "about the course which is going to give", "start": 86.88, "duration": 5.599}, {"text": "a breakdown or the high level of what", "start": 89.2, "duration": 5.84}, {"text": "this course is going to be about and", "start": 92.479, "duration": 5.121}, {"text": "then we talk about introduction to red", "start": 95.04, "duration": 5.28}, {"text": "team operation this is just going to be", "start": 97.6, "duration": 6.72}, {"text": "a high level overview of what rating", "start": 100.32, "duration": 5.52}, {"text": "operation is", "start": 104.32, "duration": 4.0}, {"text": "and then we'll look into some frameworks", "start": 105.84, "duration": 5.76}, {"text": "and methodologies that you could use", "start": 108.32, "duration": 5.68}, {"text": "when it comes to rating operation we are", "start": 111.6, "duration": 4.32}, {"text": "not going to cover all of them we just", "start": 114.0, "duration": 5.119}, {"text": "cover a couple of frameworks and", "start": 115.92, "duration": 5.92}, {"text": "methodologies we can use when it comes", "start": 119.119, "duration": 5.921}, {"text": "to running a red team engagement next is", "start": 121.84, "duration": 6.479}, {"text": "going to be the faces of the framework", "start": 125.04, "duration": 6.72}, {"text": "that i had modified based on an existing", "start": 128.319, "duration": 7.041}, {"text": "one which is going to be the faces or", "start": 131.76, "duration": 7.52}, {"text": "the attack kill chain so in this course", "start": 135.36, "duration": 6.0}, {"text": "we are going to have them broken down", "start": 139.28, "duration": 4.72}, {"text": "into three pieces the first one is going", "start": 141.36, "duration": 5.12}, {"text": "to be initial access", "start": 144.0, "duration": 4.48}, {"text": "within this phase we have some", "start": 146.48, "duration": 5.839}, {"text": "activities we are going to conduct one", "start": 148.48, "duration": 6.32}, {"text": "of them is reconnaissance and then we", "start": 152.319, "duration": 6.0}, {"text": "also jump into attack infrastructure", "start": 154.8, "duration": 6.0}, {"text": "setup weaponization", "start": 158.319, "duration": 5.601}, {"text": "social engineering and then finish up", "start": 160.8, "duration": 6.159}, {"text": "with delivery and exploitation of a", "start": 163.92, "duration": 5.76}, {"text": "system which is going to lead into us", "start": 166.959, "duration": 6.56}, {"text": "gaining a foothold on a victim's machine", "start": 169.68, "duration": 6.72}, {"text": "on a corporate network", "start": 173.519, "duration": 6.8}, {"text": "the second phase of the methodology is", "start": 176.4, "duration": 5.04}, {"text": "going to be", "start": 180.319, "duration": 3.92}, {"text": "network propagation this is where we", "start": 181.44, "duration": 6.48}, {"text": "have established some sort of a foothold", "start": 184.239, "duration": 6.961}, {"text": "based off on our initial access phase", "start": 187.92, "duration": 5.84}, {"text": "and now the goal is for us to move", "start": 191.2, "duration": 6.319}, {"text": "around the network so within the network", "start": 193.76, "duration": 6.64}, {"text": "propagation will cover persistence", "start": 197.519, "duration": 5.121}, {"text": "situational awareness privilege", "start": 200.4, "duration": 5.68}, {"text": "escalation defense evasion credential", "start": 202.64, "duration": 6.64}, {"text": "harvesting and lateral movement the", "start": 206.08, "duration": 6.32}, {"text": "third phase is going to be actions on", "start": 209.28, "duration": 4.48}, {"text": "objectives", "start": 212.4, "duration": 4.96}, {"text": "almost every red team operation is going", "start": 213.76, "duration": 6.16}, {"text": "to have some objectives we have to", "start": 217.36, "duration": 4.959}, {"text": "accomplish so some of them are going to", "start": 219.92, "duration": 5.84}, {"text": "be data collection data exfiltration or", "start": 222.319, "duration": 6.48}, {"text": "even target manipulation and then we'll", "start": 225.76, "duration": 5.44}, {"text": "finish up the course with the post", "start": 228.799, "duration": 5.36}, {"text": "engagement phase which is when we are", "start": 231.2, "duration": 6.08}, {"text": "wrapping up on the engagement so", "start": 234.159, "duration": 6.401}, {"text": "let us start with the about the course", "start": 237.28, "duration": 6.08}, {"text": "and discuss what is going to be covered", "start": 240.56, "duration": 4.319}, {"text": "in this course", "start": 243.36, "duration": 4.48}, {"text": "so we are going to use this course to", "start": 244.879, "duration": 5.44}, {"text": "discuss the concept of red team", "start": 247.84, "duration": 5.84}, {"text": "operation because um we don't have a", "start": 250.319, "duration": 6.401}, {"text": "well-defined definition of what a red", "start": 253.68, "duration": 6.64}, {"text": "team is and i'll do my possible best", "start": 256.72, "duration": 6.88}, {"text": "to provide just a high level now don't", "start": 260.32, "duration": 6.64}, {"text": "get me wrong i am not an expert", "start": 263.6, "duration": 6.159}, {"text": "in defining what writing operation is", "start": 266.96, "duration": 5.76}, {"text": "but i'll give some key points that would", "start": 269.759, "duration": 4.241}, {"text": "help you", "start": 272.72, "duration": 4.24}, {"text": "to at least have an idea as to what a", "start": 274.0, "duration": 5.36}, {"text": "red team operation is and then you might", "start": 276.96, "duration": 5.04}, {"text": "be able to use that in your discussion", "start": 279.36, "duration": 6.0}, {"text": "with the potential clients of your", "start": 282.0, "duration": 4.639}, {"text": "engagements", "start": 285.36, "duration": 3.839}, {"text": "we'll cover some of the ins and outs", "start": 286.639, "duration": 6.081}, {"text": "on how to conduct a rating operation", "start": 289.199, "duration": 5.361}, {"text": "we'll look at some of the tools the", "start": 292.72, "duration": 4.8}, {"text": "tactics techniques and procedures which", "start": 294.56, "duration": 5.68}, {"text": "we can use to execute a successful", "start": 297.52, "duration": 5.519}, {"text": "writing operation and throughout this", "start": 300.24, "duration": 5.36}, {"text": "course i will discuss some real-world", "start": 303.039, "duration": 5.841}, {"text": "trade crafts for successful operation", "start": 305.6, "duration": 5.68}, {"text": "and we'll go through some hands-on live", "start": 308.88, "duration": 5.84}, {"text": "demos that i have built my red team lab", "start": 311.28, "duration": 6.24}, {"text": "for to cover some of the concepts we'll", "start": 314.72, "duration": 5.68}, {"text": "be discussing in this course", "start": 317.52, "duration": 6.56}, {"text": "what is a red team operation the title", "start": 320.4, "duration": 6.799}, {"text": "red team has the word team in it so we", "start": 324.08, "duration": 6.16}, {"text": "have to understand it is a team-based", "start": 327.199, "duration": 7.121}, {"text": "exercise which would basically try to", "start": 330.24, "duration": 7.36}, {"text": "simulate offensive cyber attack the same", "start": 334.32, "duration": 6.56}, {"text": "way that the bad guys or the threat", "start": 337.6, "duration": 6.4}, {"text": "actors would do in real world so we try", "start": 340.88, "duration": 6.4}, {"text": "to emulate or simulate the tactics the", "start": 344.0, "duration": 5.84}, {"text": "techniques and procedures that the", "start": 347.28, "duration": 5.04}, {"text": "adversaries use in real world to", "start": 349.84, "duration": 6.639}, {"text": "showcase or demonstrate how impactful on", "start": 352.32, "duration": 7.52}, {"text": "our client or our target organization", "start": 356.479, "duration": 6.081}, {"text": "there are some few distinctions between", "start": 359.84, "duration": 4.88}, {"text": "red teaming and other", "start": 362.56, "duration": 3.84}, {"text": "operations such as", "start": 364.72, "duration": 3.52}, {"text": "penetration test vulnerability", "start": 366.4, "duration": 4.88}, {"text": "assessment and the likes and one of them", "start": 368.24, "duration": 6.16}, {"text": "is the fact that red team operation", "start": 371.28, "duration": 7.44}, {"text": "focuses on technology people processes", "start": 374.4, "duration": 7.519}, {"text": "and procedural controls of the target", "start": 378.72, "duration": 7.759}, {"text": "organization to detect and also mitigate", "start": 381.919, "duration": 7.201}, {"text": "any adversarial activities", "start": 386.479, "duration": 5.601}, {"text": "so let me elaborate or expand on that", "start": 389.12, "duration": 5.28}, {"text": "when it comes to let's say penetration", "start": 392.08, "duration": 5.76}, {"text": "test we are most of the time looking at", "start": 394.4, "duration": 6.4}, {"text": "technological controls that the company", "start": 397.84, "duration": 4.799}, {"text": "has in place you know we scan the", "start": 400.8, "duration": 4.72}, {"text": "network we look for vulnerabilities and", "start": 402.639, "duration": 6.161}, {"text": "any controls they have technically that", "start": 405.52, "duration": 5.84}, {"text": "would detect our attack or stop us from", "start": 408.8, "duration": 4.72}, {"text": "attacking it doesn't necessarily", "start": 411.36, "duration": 6.0}, {"text": "consider people processes or procedures", "start": 413.52, "duration": 6.16}, {"text": "an organization has in place", "start": 417.36, "duration": 5.52}, {"text": "and that is where penetration tests and", "start": 419.68, "duration": 4.239}, {"text": "other", "start": 422.88, "duration": 3.599}, {"text": "operations fall short", "start": 423.919, "duration": 5.041}, {"text": "compared to rating operation because in", "start": 426.479, "duration": 5.241}, {"text": "rating operation we're trying to have a", "start": 428.96, "duration": 6.32}, {"text": "comprehensive or holistic look at the", "start": 431.72, "duration": 6.28}, {"text": "organization so let's take for instance", "start": 435.28, "duration": 5.12}, {"text": "in a rating operation let's say we're", "start": 438.0, "duration": 5.12}, {"text": "trying to execute efficient campaign to", "start": 440.4, "duration": 5.84}, {"text": "test for the technological control of", "start": 443.12, "duration": 5.44}, {"text": "the entity or the organization", "start": 446.24, "duration": 4.16}, {"text": "when we send our phishing campaign out", "start": 448.56, "duration": 2.639}, {"text": "there", "start": 450.4, "duration": 4.16}, {"text": "we may be expecting the company to have", "start": 451.199, "duration": 7.201}, {"text": "let's say an email gateway in place", "start": 454.56, "duration": 4.72}, {"text": "to", "start": 458.4, "duration": 2.0}, {"text": "maybe", "start": 459.28, "duration": 4.88}, {"text": "put our email or an adversary's email", "start": 460.4, "duration": 6.479}, {"text": "into a spam folder that could be", "start": 464.16, "duration": 5.28}, {"text": "considered as a technical control the", "start": 466.879, "duration": 4.801}, {"text": "people's control would be", "start": 469.44, "duration": 7.36}, {"text": "how many employees were able to identify", "start": 471.68, "duration": 6.799}, {"text": "or discover", "start": 476.8, "duration": 4.72}, {"text": "our phishing campaign as a result of the", "start": 478.479, "duration": 6.961}, {"text": "company's continuous user awareness", "start": 481.52, "duration": 6.48}, {"text": "training so that will cover the people's", "start": 485.44, "duration": 5.92}, {"text": "control right the processes control is", "start": 488.0, "duration": 7.36}, {"text": "when the users or a user discovered our", "start": 491.36, "duration": 5.6}, {"text": "phishing campaign", "start": 495.36, "duration": 3.119}, {"text": "what process", "start": 496.96, "duration": 4.079}, {"text": "does a company have in place for", "start": 498.479, "duration": 5.681}, {"text": "employees to report such an attack", "start": 501.039, "duration": 5.84}, {"text": "assuming that there is a good process in", "start": 504.16, "duration": 5.28}, {"text": "place for reporting efficient attack and", "start": 506.879, "duration": 6.4}, {"text": "let's say employees send this phishing", "start": 509.44, "duration": 6.64}, {"text": "attack to let's say a stock analyst what", "start": 513.279, "duration": 6.161}, {"text": "procedures does a company have in place", "start": 516.08, "duration": 5.839}, {"text": "to ensure that the moment a stock", "start": 519.44, "duration": 4.8}, {"text": "analyst receives this", "start": 521.919, "duration": 5.521}, {"text": "threat notification from employee", "start": 524.24, "duration": 6.0}, {"text": "what procedures are in place", "start": 527.44, "duration": 5.519}, {"text": "to make sure that there is a follow-up", "start": 530.24, "duration": 6.08}, {"text": "to escalate this to the appropriate team", "start": 532.959, "duration": 6.641}, {"text": "to contain isolate and remediate this", "start": 536.32, "duration": 6.4}, {"text": "attack you see so now all the way from", "start": 539.6, "duration": 5.6}, {"text": "the beginning of the phishing campaign", "start": 542.72, "duration": 5.04}, {"text": "which is going to try to bypass the", "start": 545.2, "duration": 5.759}, {"text": "technical let's say email gateway the", "start": 547.76, "duration": 5.84}, {"text": "people's control which is people not", "start": 550.959, "duration": 4.081}, {"text": "being able to catch their phishing", "start": 553.6, "duration": 2.48}, {"text": "campaign", "start": 555.04, "duration": 4.0}, {"text": "their process a breakdown of let's say", "start": 556.08, "duration": 5.12}, {"text": "how do people report email phishing", "start": 559.04, "duration": 4.239}, {"text": "campaign to a soft analyst or the", "start": 561.2, "duration": 4.96}, {"text": "appropriate team and then a procedure on", "start": 563.279, "duration": 6.0}, {"text": "the follow-ups on how to escalate all", "start": 566.16, "duration": 6.0}, {"text": "the way through to remediation and this", "start": 569.279, "duration": 4.481}, {"text": "will be something that will be part of", "start": 572.16, "duration": 4.08}, {"text": "our objective and that is the next", "start": 573.76, "duration": 5.199}, {"text": "concept about red team is much more", "start": 576.24, "duration": 5.12}, {"text": "objective oriented and that is why we", "start": 578.959, "duration": 5.281}, {"text": "have the actions on objective part of it", "start": 581.36, "duration": 4.56}, {"text": "and because of that all of our", "start": 584.24, "duration": 5.039}, {"text": "activities we begin to record all these", "start": 585.92, "duration": 6.56}, {"text": "step by step for future measure against", "start": 589.279, "duration": 6.081}, {"text": "the set objective the goal with the red", "start": 592.48, "duration": 6.16}, {"text": "team operation is to identify gaps in", "start": 595.36, "duration": 5.76}, {"text": "the target organization security program", "start": 598.64, "duration": 5.52}, {"text": "now that we understand what a rating", "start": 601.12, "duration": 6.08}, {"text": "operation is let's look at why would an", "start": 604.16, "duration": 6.96}, {"text": "organization need a rating operation", "start": 607.2, "duration": 7.44}, {"text": "we want to simulate an end-to-end", "start": 611.12, "duration": 6.32}, {"text": "attacks against an organization which", "start": 614.64, "duration": 5.68}, {"text": "would help us or the institution", "start": 617.44, "duration": 6.72}, {"text": "to get a bigger or a holistic view of", "start": 620.32, "duration": 7.6}, {"text": "its cyber security maturity against any", "start": 624.16, "duration": 6.799}, {"text": "apt another thing that most of us", "start": 627.92, "duration": 7.12}, {"text": "overlook is it is meant to also help the", "start": 630.959, "duration": 7.361}, {"text": "blue teamers or the defenders in other", "start": 635.04, "duration": 6.56}, {"text": "words we use red team to exercise the", "start": 638.32, "duration": 6.72}, {"text": "capabilities of the blue team to help", "start": 641.6, "duration": 5.44}, {"text": "train the blue team", "start": 645.04, "duration": 4.799}, {"text": "to see how they are doing well and where", "start": 647.04, "duration": 5.28}, {"text": "they can work better or improve upon", "start": 649.839, "duration": 4.961}, {"text": "themselves in their detection and", "start": 652.32, "duration": 5.519}, {"text": "responsive capabilities so it is an", "start": 654.8, "duration": 6.159}, {"text": "opportunity for the blue teamers to be", "start": 657.839, "duration": 4.881}, {"text": "able to see how", "start": 660.959, "duration": 4.0}, {"text": "they stand against railroad threat", "start": 662.72, "duration": 5.679}, {"text": "actors and in so doing to measure the", "start": 664.959, "duration": 6.0}, {"text": "cyber security maturity level of this", "start": 668.399, "duration": 3.921}, {"text": "organization", "start": 670.959, "duration": 5.201}, {"text": "we tend to use metrics it is how we", "start": 672.32, "duration": 4.88}, {"text": "measure", "start": 676.16, "duration": 4.16}, {"text": "our operation or even the capabilities", "start": 677.2, "duration": 6.56}, {"text": "of the blue teamers okay i have a couple", "start": 680.32, "duration": 6.24}, {"text": "listed here which is the mean time to", "start": 683.76, "duration": 4.16}, {"text": "detection", "start": 686.56, "duration": 4.8}, {"text": "so usually what that means is the moment", "start": 687.92, "duration": 5.84}, {"text": "we begin our operation", "start": 691.36, "duration": 3.52}, {"text": "the time", "start": 693.76, "duration": 3.12}, {"text": "begins to tick", "start": 694.88, "duration": 5.519}, {"text": "so we will record every aspect of our", "start": 696.88, "duration": 7.04}, {"text": "exercise and then see at what point", "start": 700.399, "duration": 6.721}, {"text": "where we detected now as much as red", "start": 703.92, "duration": 5.2}, {"text": "team must have an ego", "start": 707.12, "duration": 4.48}, {"text": "not to be detected that is also part of", "start": 709.12, "duration": 5.36}, {"text": "the operation is we want to see", "start": 711.6, "duration": 5.6}, {"text": "when did the blue team has detect our", "start": 714.48, "duration": 5.2}, {"text": "operation so let's say again let's take", "start": 717.2, "duration": 5.04}, {"text": "our fashion campaign as part of our", "start": 719.68, "duration": 5.599}, {"text": "initial access right the moment we send", "start": 722.24, "duration": 5.839}, {"text": "our first batch of email fashion", "start": 725.279, "duration": 5.441}, {"text": "campaign will begin to record the", "start": 728.079, "duration": 6.0}, {"text": "timestamp so let's say we sent on monday", "start": 730.72, "duration": 4.84}, {"text": "august 1", "start": 734.079, "duration": 6.961}, {"text": "2021 at 8 45 a.m eastern standard time", "start": 735.56, "duration": 7.719}, {"text": "we sent our first batch of phishing", "start": 741.04, "duration": 5.52}, {"text": "campaign out to let's say 10 individuals", "start": 743.279, "duration": 6.24}, {"text": "we will record that and then notice", "start": 746.56, "duration": 6.079}, {"text": "assuming that we got our first hit maybe", "start": 749.519, "duration": 6.481}, {"text": "around 10 15 we'll record that and then", "start": 752.639, "duration": 6.241}, {"text": "as we progress throughout the day or", "start": 756.0, "duration": 5.519}, {"text": "throughout the operation we'll keep", "start": 758.88, "duration": 6.079}, {"text": "recording every aspect of our activities", "start": 761.519, "duration": 6.56}, {"text": "and then the moment we get detected by", "start": 764.959, "duration": 5.601}, {"text": "the blue teamers will record that", "start": 768.079, "duration": 4.88}, {"text": "and then we'll calculate how long it", "start": 770.56, "duration": 6.0}, {"text": "took from 8 45 a.m all the way through", "start": 772.959, "duration": 5.761}, {"text": "to when we were detected by the blue", "start": 776.56, "duration": 5.04}, {"text": "teamers that is when we begin to do the", "start": 778.72, "duration": 3.919}, {"text": "numbers", "start": 781.6, "duration": 5.039}, {"text": "as to the main time to detection so", "start": 782.639, "duration": 6.081}, {"text": "let's assume that the blue team has", "start": 786.639, "duration": 5.041}, {"text": "detected our operation but we still", "start": 788.72, "duration": 6.72}, {"text": "continue to work now we have the main", "start": 791.68, "duration": 6.32}, {"text": "time to escalation talking about", "start": 795.44, "duration": 5.839}, {"text": "procedural control right how long did", "start": 798.0, "duration": 6.56}, {"text": "the blue teamers were they able to", "start": 801.279, "duration": 5.36}, {"text": "isolate our attack", "start": 804.56, "duration": 5.12}, {"text": "and then be able to possibly remediate", "start": 806.639, "duration": 5.601}, {"text": "or escalate the attack sequence to the", "start": 809.68, "duration": 5.279}, {"text": "higher authority or to the next team", "start": 812.24, "duration": 4.96}, {"text": "so that is what we want to also", "start": 814.959, "duration": 5.761}, {"text": "calculate the mean time to escalation", "start": 817.2, "duration": 5.28}, {"text": "and then of course the mean time to", "start": 820.72, "duration": 4.32}, {"text": "remediation is we want to know", "start": 822.48, "duration": 6.0}, {"text": "when it took the team to kick us out or", "start": 825.04, "duration": 6.0}, {"text": "remediate the ongoing attack", "start": 828.48, "duration": 5.039}, {"text": "the reason why we want all these metrics", "start": 831.04, "duration": 5.12}, {"text": "is statistically we know that", "start": 833.519, "duration": 6.481}, {"text": "bad guys or threat actors stay longer on", "start": 836.16, "duration": 7.2}, {"text": "a network than we normally presume a", "start": 840.0, "duration": 6.639}, {"text": "case in point was i was reading the", "start": 843.36, "duration": 6.08}, {"text": "solar wind attack and from the solar", "start": 846.639, "duration": 6.161}, {"text": "wind attacks it says the apt was", "start": 849.44, "duration": 6.24}, {"text": "believed to have had access", "start": 852.8, "duration": 5.2}, {"text": "to compromised accounts", "start": 855.68, "duration": 4.48}, {"text": "from approximately", "start": 858.0, "duration": 3.519}, {"text": "may 7", "start": 860.16, "duration": 4.239}, {"text": "to december 27", "start": 861.519, "duration": 4.32}, {"text": "2020", "start": 864.399, "duration": 4.88}, {"text": "which was a statement from department of", "start": 865.839, "duration": 5.281}, {"text": "justice in the u.s", "start": 869.279, "duration": 4.721}, {"text": "so that tells you that these metrics or", "start": 871.12, "duration": 5.04}, {"text": "numbers are critical", "start": 874.0, "duration": 5.68}, {"text": "to assess a company's detection", "start": 876.16, "duration": 4.96}, {"text": "and remediation", "start": 879.68, "duration": 2.48}, {"text": "effort", "start": 881.12, "duration": 4.88}, {"text": "when it comes to apt attack the next", "start": 882.16, "duration": 5.6}, {"text": "topic to", "start": 886.0, "duration": 6.399}, {"text": "discuss is frameworks and methodologies", "start": 887.76, "duration": 8.319}, {"text": "in every red team operation or", "start": 892.399, "duration": 7.201}, {"text": "adversarial simulation it is always good", "start": 896.079, "duration": 6.721}, {"text": "to have a framework or", "start": 899.6, "duration": 5.84}, {"text": "methodology to work with it serves as a", "start": 902.8, "duration": 5.68}, {"text": "guide for you the good thing is", "start": 905.44, "duration": 7.44}, {"text": "you do not have to reinvent the wheels", "start": 908.48, "duration": 7.68}, {"text": "because within the industry there are", "start": 912.88, "duration": 6.48}, {"text": "pioneers who have created some of this", "start": 916.16, "duration": 6.72}, {"text": "documentation for us already that we can", "start": 919.36, "duration": 5.279}, {"text": "work with", "start": 922.88, "duration": 4.24}, {"text": "most of these frameworks and", "start": 924.639, "duration": 6.0}, {"text": "methodologies have been well tested", "start": 927.12, "duration": 6.079}, {"text": "and vetted in the industry", "start": 930.639, "duration": 6.32}, {"text": "so as a beginner or even advanced or", "start": 933.199, "duration": 6.401}, {"text": "seasoned red team operator you can", "start": 936.959, "duration": 4.56}, {"text": "always borrow", "start": 939.6, "duration": 5.44}, {"text": "from some of these methodologies or", "start": 941.519, "duration": 6.24}, {"text": "frameworks to guide you in your", "start": 945.04, "duration": 4.96}, {"text": "operation now some of the ones that", "start": 947.759, "duration": 5.44}, {"text": "we'll be covering here are the cyber", "start": 950.0, "duration": 6.639}, {"text": "kill chain by lockheed martin", "start": 953.199, "duration": 5.521}, {"text": "the next one which would actually spend", "start": 956.639, "duration": 5.12}, {"text": "more time and use a lot throughout this", "start": 958.72, "duration": 7.679}, {"text": "course is mitre attack framework", "start": 961.759, "duration": 9.52}, {"text": "and unified cyber kill chain by paul", "start": 966.399, "duration": 7.841}, {"text": "pauls let's take a closer look", "start": 971.279, "duration": 4.56}, {"text": "at the", "start": 974.24, "duration": 4.08}, {"text": "cyber kill chain by", "start": 975.839, "duration": 4.0}, {"text": "lockheed martin", "start": 978.32, "duration": 4.16}, {"text": "now the good thing here that lockheed", "start": 979.839, "duration": 5.281}, {"text": "martin does here is for some of you who", "start": 982.48, "duration": 5.52}, {"text": "may have heard about apt it is an", "start": 985.12, "duration": 6.639}, {"text": "acronym for advanced persistent threat", "start": 988.0, "duration": 7.759}, {"text": "to be an advanced team is essentially", "start": 991.759, "duration": 7.44}, {"text": "the team which is much more purposeful", "start": 995.759, "duration": 7.52}, {"text": "or very well coordinated in attacks so", "start": 999.199, "duration": 7.281}, {"text": "these are a team of threat actors or", "start": 1003.279, "duration": 6.881}, {"text": "adversaries who are very well focused", "start": 1006.48, "duration": 6.08}, {"text": "they are very well organized in", "start": 1010.16, "duration": 5.52}, {"text": "executing their operation the next one", "start": 1012.56, "duration": 6.48}, {"text": "is the persistence to be classified as", "start": 1015.68, "duration": 5.279}, {"text": "an apt", "start": 1019.04, "duration": 3.919}, {"text": "you need to have", "start": 1020.959, "duration": 4.96}, {"text": "that feature of being persistent once", "start": 1022.959, "duration": 6.08}, {"text": "they have compromised an organization", "start": 1025.919, "duration": 6.721}, {"text": "and if you recall when i made mention of", "start": 1029.039, "duration": 6.8}, {"text": "the solar wind attack the attackers had", "start": 1032.64, "duration": 7.439}, {"text": "persisted on the network from may 7", "start": 1035.839, "duration": 8.561}, {"text": "through december 27 the last one is", "start": 1040.079, "duration": 7.6}, {"text": "threat they have to be a threat to an", "start": 1044.4, "duration": 6.48}, {"text": "institution and a threat definition is a", "start": 1047.679, "duration": 6.641}, {"text": "person or persons with intent", "start": 1050.88, "duration": 4.88}, {"text": "opportunity", "start": 1054.32, "duration": 3.44}, {"text": "and a capability", "start": 1055.76, "duration": 6.08}, {"text": "to be able to exit or execute such an", "start": 1057.76, "duration": 5.36}, {"text": "operation", "start": 1061.84, "duration": 5.36}, {"text": "so from the cyber kill chain seven steps", "start": 1063.12, "duration": 7.36}, {"text": "the first step in every operation", "start": 1067.2, "duration": 6.4}, {"text": "is the reconnaissance phase and some of", "start": 1070.48, "duration": 6.8}, {"text": "the activities attackers or adversaries", "start": 1073.6, "duration": 6.48}, {"text": "carry out within the reconnaissance", "start": 1077.28, "duration": 3.92}, {"text": "phase", "start": 1080.08, "duration": 2.08}, {"text": "are", "start": 1081.2, "duration": 3.359}, {"text": "harvesting email addresses", "start": 1082.16, "duration": 4.96}, {"text": "which will cover that in this course", "start": 1084.559, "duration": 4.961}, {"text": "conference information and a whole bunch", "start": 1087.12, "duration": 4.88}, {"text": "of other information just to name few", "start": 1089.52, "duration": 5.2}, {"text": "the second step once the adversary have", "start": 1092.0, "duration": 4.24}, {"text": "been able to gather all this", "start": 1094.72, "duration": 4.88}, {"text": "intelligence is weaponization this is", "start": 1096.24, "duration": 6.16}, {"text": "where they develop payload", "start": 1099.6, "duration": 5.28}, {"text": "once they have developed their payloads", "start": 1102.4, "duration": 5.44}, {"text": "now they need to find out a way to", "start": 1104.88, "duration": 6.64}, {"text": "deliver that to the victims machine or", "start": 1107.84, "duration": 5.12}, {"text": "to the target", "start": 1111.52, "duration": 4.72}, {"text": "so the delivery phase is when the", "start": 1112.96, "duration": 6.0}, {"text": "adversary or the apt", "start": 1116.24, "duration": 6.24}, {"text": "finds out how to deliver their payload", "start": 1118.96, "duration": 5.52}, {"text": "and there are so many ways that they can", "start": 1122.48, "duration": 4.72}, {"text": "do that including email", "start": 1124.48, "duration": 6.64}, {"text": "web usb supply chain which has become", "start": 1127.2, "duration": 5.92}, {"text": "one of the most prominent way of", "start": 1131.12, "duration": 4.08}, {"text": "delivering nowadays", "start": 1133.12, "duration": 5.12}, {"text": "once they have delivered or discovered a", "start": 1135.2, "duration": 5.599}, {"text": "way to deliver their payload and the", "start": 1138.24, "duration": 5.28}, {"text": "victim clicks on a payload that leads", "start": 1140.799, "duration": 5.681}, {"text": "into exploitation phase", "start": 1143.52, "duration": 5.68}, {"text": "this is where the apt", "start": 1146.48, "duration": 6.319}, {"text": "exploits a vulnerability on a system to", "start": 1149.2, "duration": 6.64}, {"text": "achieve initial access", "start": 1152.799, "duration": 6.161}, {"text": "once the apt has established initial", "start": 1155.84, "duration": 7.52}, {"text": "access now we move into installation", "start": 1158.96, "duration": 7.28}, {"text": "this is where they go ahead and install", "start": 1163.36, "duration": 5.52}, {"text": "additional malware on the victim's", "start": 1166.24, "duration": 4.319}, {"text": "machine", "start": 1168.88, "duration": 3.919}, {"text": "now according to lockheed martin once", "start": 1170.559, "duration": 6.0}, {"text": "that is completed now they make a call", "start": 1172.799, "duration": 6.161}, {"text": "from the victims machine back to the", "start": 1176.559, "duration": 6.401}, {"text": "apt's command and control server or", "start": 1178.96, "duration": 7.2}, {"text": "system where they can remotely", "start": 1182.96, "duration": 6.24}, {"text": "manipulate the victim's machine and then", "start": 1186.16, "duration": 6.24}, {"text": "of course the seven step is a final step", "start": 1189.2, "duration": 6.24}, {"text": "which is the actions on objective this", "start": 1192.4, "duration": 6.56}, {"text": "is where the apt will execute the", "start": 1195.44, "duration": 7.04}, {"text": "overall objective why they decided to", "start": 1198.96, "duration": 6.16}, {"text": "compromise this victim or this", "start": 1202.48, "duration": 5.6}, {"text": "organization in the first place", "start": 1205.12, "duration": 7.36}, {"text": "the next framework we are going to cover", "start": 1208.08, "duration": 6.32}, {"text": "is the mitre", "start": 1212.48, "duration": 5.12}, {"text": "attack framework so let's head out to", "start": 1214.4, "duration": 6.24}, {"text": "the website and take a closer look at", "start": 1217.6, "duration": 5.92}, {"text": "some of the things that you might be", "start": 1220.64, "duration": 5.68}, {"text": "interested in when it comes to picking", "start": 1223.52, "duration": 5.519}, {"text": "up a framework for your next red team", "start": 1226.32, "duration": 6.0}, {"text": "operation so the first time you go to", "start": 1229.039, "duration": 4.481}, {"text": "mitre", "start": 1232.32, "duration": 4.16}, {"text": "attacks framework this is what you'll be", "start": 1233.52, "duration": 6.24}, {"text": "presented with mitre attack framework is", "start": 1236.48, "duration": 7.12}, {"text": "like the olaps of adversarial simulation", "start": 1239.76, "duration": 6.88}, {"text": "for those who may not be aware of oops", "start": 1243.6, "duration": 7.04}, {"text": "it is the de facto or the go-to platform", "start": 1246.64, "duration": 7.6}, {"text": "when it comes to application security", "start": 1250.64, "duration": 6.88}, {"text": "assessment such as web application", "start": 1254.24, "duration": 7.439}, {"text": "mobile application or even apis", "start": 1257.52, "duration": 7.68}, {"text": "minor attack framework is a place where", "start": 1261.679, "duration": 6.401}, {"text": "you can get more information about", "start": 1265.2, "duration": 6.56}, {"text": "adversarial ttps especially", "start": 1268.08, "duration": 6.479}, {"text": "it focuses more on tactics and", "start": 1271.76, "duration": 5.76}, {"text": "techniques so as you come here can just", "start": 1274.559, "duration": 6.081}, {"text": "click on enterprise to look at the", "start": 1277.52, "duration": 6.0}, {"text": "tactics and how they are broken down now", "start": 1280.64, "duration": 5.279}, {"text": "similar to lockheed martin's cyber kill", "start": 1283.52, "duration": 3.44}, {"text": "chain", "start": 1285.919, "duration": 5.361}, {"text": "miter has the faces of the attack as", "start": 1286.96, "duration": 5.44}, {"text": "tactics", "start": 1291.28, "duration": 3.6}, {"text": "so if you take a closer look", "start": 1292.4, "duration": 6.399}, {"text": "it has the corresponding id number", "start": 1294.88, "duration": 6.799}, {"text": "the name and the little description of", "start": 1298.799, "duration": 6.401}, {"text": "what a tactic is and you can see that", "start": 1301.679, "duration": 4.961}, {"text": "reconnaissance", "start": 1305.2, "duration": 4.959}, {"text": "is part of the tactics and this is the", "start": 1306.64, "duration": 6.56}, {"text": "same as the first phase when it comes to", "start": 1310.159, "duration": 6.321}, {"text": "the seven steps in the lockheed martin", "start": 1313.2, "duration": 5.52}, {"text": "but mitre has", "start": 1316.48, "duration": 5.28}, {"text": "a little bit of a comprehensive list of", "start": 1318.72, "duration": 5.28}, {"text": "tactics so it has", "start": 1321.76, "duration": 4.08}, {"text": "reconnaissance", "start": 1324.0, "duration": 3.84}, {"text": "resource development", "start": 1325.84, "duration": 3.68}, {"text": "initial access", "start": 1327.84, "duration": 5.199}, {"text": "all the way through to impact", "start": 1329.52, "duration": 6.0}, {"text": "and the good thing is each one of them", "start": 1333.039, "duration": 5.76}, {"text": "is clickable so for instance if we want", "start": 1335.52, "duration": 6.56}, {"text": "to get more details about", "start": 1338.799, "duration": 5.601}, {"text": "a tactic for instance we can either", "start": 1342.08, "duration": 5.68}, {"text": "click on the id or the name", "start": 1344.4, "duration": 5.68}, {"text": "so let's go ahead and click on the", "start": 1347.76, "duration": 5.36}, {"text": "reconnaissance part to get more details", "start": 1350.08, "duration": 5.599}, {"text": "about the tactics that", "start": 1353.12, "duration": 5.12}, {"text": "mitre has if you look at the far right", "start": 1355.679, "duration": 6.0}, {"text": "you can see also that it has 14 tactics", "start": 1358.24, "duration": 4.48}, {"text": "listed", "start": 1361.679, "duration": 3.841}, {"text": "so on the left side too it is down here", "start": 1362.72, "duration": 6.0}, {"text": "broken down for each of the tactics if", "start": 1365.52, "duration": 5.6}, {"text": "you're doing anything mobile you can", "start": 1368.72, "duration": 4.56}, {"text": "expand on that as well to get more", "start": 1371.12, "duration": 3.28}, {"text": "information", "start": 1373.28, "duration": 4.56}, {"text": "on tactics which are related to only", "start": 1374.4, "duration": 7.279}, {"text": "mobile so let's click on reconnaissance", "start": 1377.84, "duration": 6.64}, {"text": "it gives you a comprehensive detailed", "start": 1381.679, "duration": 4.0}, {"text": "definition", "start": 1384.48, "duration": 4.079}, {"text": "of what a reconnaissance is and the", "start": 1385.679, "duration": 6.161}, {"text": "activities that take place in that", "start": 1388.559, "duration": 5.36}, {"text": "on the far right you can see has an", "start": 1391.84, "duration": 4.16}, {"text": "associated id", "start": 1393.919, "duration": 4.401}, {"text": "the day it was created and the day it", "start": 1396.0, "duration": 4.64}, {"text": "was last modified", "start": 1398.32, "duration": 5.839}, {"text": "and then now we're talking about tactics", "start": 1400.64, "duration": 6.32}, {"text": "the tactics are the events", "start": 1404.159, "duration": 6.561}, {"text": "or the activities which are carried out", "start": 1406.96, "duration": 7.52}, {"text": "within each tactic for reconnaissance", "start": 1410.72, "duration": 7.04}, {"text": "so far it has 10 tactics", "start": 1414.48, "duration": 4.8}, {"text": "can also", "start": 1417.76, "duration": 4.32}, {"text": "go to the taxes directly", "start": 1419.28, "duration": 5.2}, {"text": "at the top here by clicking that and", "start": 1422.08, "duration": 4.88}, {"text": "again that is also broken down per", "start": 1424.48, "duration": 6.079}, {"text": "enterprise and also mobile they are also", "start": 1426.96, "duration": 7.36}, {"text": "well organized according to ids or the", "start": 1430.559, "duration": 6.24}, {"text": "tactics i mean the technics name", "start": 1434.32, "duration": 4.32}, {"text": "so for instance", "start": 1436.799, "duration": 7.601}, {"text": "if we look into the technique t1595", "start": 1438.64, "duration": 8.72}, {"text": "which comprises of all these three", "start": 1444.4, "duration": 5.36}, {"text": "activities", "start": 1447.36, "duration": 4.0}, {"text": "you can click on that", "start": 1449.76, "duration": 4.56}, {"text": "and then what would happen is you have", "start": 1451.36, "duration": 5.199}, {"text": "sub techniques", "start": 1454.32, "duration": 5.359}, {"text": "sometimes techniques might have multiple", "start": 1456.559, "duration": 6.881}, {"text": "activities that can be executed so", "start": 1459.679, "duration": 6.401}, {"text": "the scan and ip blocks", "start": 1463.44, "duration": 4.56}, {"text": "and vulnerability scanning", "start": 1466.08, "duration": 4.56}, {"text": "are the sub techniques", "start": 1468.0, "duration": 5.84}, {"text": "below the active scanning technique", "start": 1470.64, "duration": 6.159}, {"text": "which is within or force within the", "start": 1473.84, "duration": 4.48}, {"text": "reconnaissance", "start": 1476.799, "duration": 4.48}, {"text": "tactics another good thing or nice thing", "start": 1478.32, "duration": 5.44}, {"text": "to look at is on the far right", "start": 1481.279, "duration": 5.76}, {"text": "you can see it has a breakdown the id", "start": 1483.76, "duration": 4.72}, {"text": "here", "start": 1487.039, "duration": 4.0}, {"text": "and the sub techniques", "start": 1488.48, "duration": 5.84}, {"text": "for the ip block scanning", "start": 1491.039, "duration": 7.0}, {"text": "it has t1595.001", "start": 1494.32, "duration": 3.719}, {"text": "and then dot zero zero two for", "start": 1499.52, "duration": 4.639}, {"text": "vulnerability scanning", "start": 1502.24, "duration": 4.4}, {"text": "and then it will tell you which tactics", "start": 1504.159, "duration": 4.161}, {"text": "it falls within", "start": 1506.64, "duration": 4.88}, {"text": "and also the platforms the platform", "start": 1508.32, "duration": 5.359}, {"text": "essentially refers to which operating", "start": 1511.52, "duration": 2.96}, {"text": "system", "start": 1513.679, "duration": 3.201}, {"text": "that attack is work on whether it's", "start": 1514.48, "duration": 3.52}, {"text": "linux", "start": 1516.88, "duration": 4.96}, {"text": "windows arm and some few additional data", "start": 1518.0, "duration": 5.039}, {"text": "as well", "start": 1521.84, "duration": 2.959}, {"text": "what you have to pay attention to is", "start": 1523.039, "duration": 5.441}, {"text": "sometimes a technique can fall within", "start": 1524.799, "duration": 6.961}, {"text": "more than one tactic and i'll show you", "start": 1528.48, "duration": 6.319}, {"text": "an example so this one only falls within", "start": 1531.76, "duration": 6.0}, {"text": "reconnaissance i'll show you techniques", "start": 1534.799, "duration": 6.641}, {"text": "that can be executed across multiple", "start": 1537.76, "duration": 6.72}, {"text": "tactics and you see that in some of our", "start": 1541.44, "duration": 4.88}, {"text": "demos in this class", "start": 1544.48, "duration": 3.76}, {"text": "so once we have the definition well", "start": 1546.32, "duration": 4.479}, {"text": "defined here it also gives you", "start": 1548.24, "duration": 5.439}, {"text": "mitigation now this is where this might", "start": 1550.799, "duration": 5.76}, {"text": "become very useful for the blue teamers", "start": 1553.679, "duration": 6.401}, {"text": "to find a way on how to mitigate these", "start": 1556.559, "duration": 7.36}, {"text": "findings and even detection as well", "start": 1560.08, "duration": 6.64}, {"text": "and references for additional", "start": 1563.919, "duration": 6.0}, {"text": "information so let's go back to the", "start": 1566.72, "duration": 4.559}, {"text": "enterprise", "start": 1569.919, "duration": 4.081}, {"text": "and then less it will take us back to", "start": 1571.279, "duration": 3.76}, {"text": "techniques", "start": 1574.0, "duration": 3.84}, {"text": "let's look at one more example as i was", "start": 1575.039, "duration": 6.161}, {"text": "telling you if we click on the set uid", "start": 1577.84, "duration": 7.12}, {"text": "and set gid which is mostly related to a", "start": 1581.2, "duration": 5.52}, {"text": "linux based machine", "start": 1584.96, "duration": 4.4}, {"text": "if you look on a tactic side", "start": 1586.72, "duration": 4.959}, {"text": "it falls within both privilege", "start": 1589.36, "duration": 3.6}, {"text": "escalation", "start": 1591.679, "duration": 4.24}, {"text": "and also defense evasion", "start": 1592.96, "duration": 6.56}, {"text": "so that tells you that if we run set uid", "start": 1595.919, "duration": 5.76}, {"text": "or some set gid", "start": 1599.52, "duration": 5.039}, {"text": "these are some activities we can do", "start": 1601.679, "duration": 5.681}, {"text": "whether during privilege escalation", "start": 1604.559, "duration": 4.081}, {"text": "phase or", "start": 1607.36, "duration": 3.28}, {"text": "defense evasion", "start": 1608.64, "duration": 5.519}, {"text": "okay and we have multiple or additional", "start": 1610.64, "duration": 6.56}, {"text": "tactics because all these fall within", "start": 1614.159, "duration": 7.12}, {"text": "the abuse elevation control mechanism", "start": 1617.2, "duration": 5.44}, {"text": "technique", "start": 1621.279, "duration": 3.681}, {"text": "and then these are the sub techniques", "start": 1622.64, "duration": 5.519}, {"text": "that fall underneath that", "start": 1624.96, "duration": 6.959}, {"text": "so that is just the high level when it", "start": 1628.159, "duration": 6.88}, {"text": "comes to minor attack framework if you", "start": 1631.919, "duration": 6.081}, {"text": "want to narrow down to only particular", "start": 1635.039, "duration": 6.161}, {"text": "platform assuming that my target", "start": 1638.0, "duration": 7.12}, {"text": "normally works has mac os you can just", "start": 1641.2, "duration": 6.64}, {"text": "click on that and it will give you both", "start": 1645.12, "duration": 4.4}, {"text": "the tactics", "start": 1647.84, "duration": 4.64}, {"text": "and the techniques that work very well", "start": 1649.52, "duration": 5.519}, {"text": "within only mac os", "start": 1652.48, "duration": 4.559}, {"text": "similar to windows as well", "start": 1655.039, "duration": 4.0}, {"text": "i would encourage you to play around a", "start": 1657.039, "duration": 4.24}, {"text": "lot with matters attack framework and", "start": 1659.039, "duration": 5.201}, {"text": "then get your hands on and how you can", "start": 1661.279, "duration": 6.081}, {"text": "use that in your next red team operation", "start": 1664.24, "duration": 7.12}, {"text": "so the next framework or methodology", "start": 1667.36, "duration": 7.199}, {"text": "that i would like to also talk about is", "start": 1671.36, "duration": 6.559}, {"text": "the unified kill chain by", "start": 1674.559, "duration": 4.801}, {"text": "paul pose", "start": 1677.919, "duration": 3.521}, {"text": "this is a little bit", "start": 1679.36, "duration": 3.6}, {"text": "much more", "start": 1681.44, "duration": 5.04}, {"text": "condensed but at the same time expanded", "start": 1682.96, "duration": 5.92}, {"text": "version of the two", "start": 1686.48, "duration": 5.6}, {"text": "previous frameworks we discussed", "start": 1688.88, "duration": 6.0}, {"text": "so what happened was paul post went", "start": 1692.08, "duration": 5.12}, {"text": "through several other frameworks and", "start": 1694.88, "duration": 4.32}, {"text": "then discovered", "start": 1697.2, "duration": 2.88}, {"text": "some", "start": 1699.2, "duration": 4.0}, {"text": "loopholes and then he just designed a", "start": 1700.08, "duration": 7.28}, {"text": "new one which is a unified kill chain so", "start": 1703.2, "duration": 7.52}, {"text": "what purpose did was first of all broke", "start": 1707.36, "duration": 5.28}, {"text": "down the kill chain", "start": 1710.72, "duration": 5.36}, {"text": "into three bigger chunks the initial", "start": 1712.64, "duration": 4.639}, {"text": "foothold", "start": 1716.08, "duration": 4.56}, {"text": "network propagation and action on", "start": 1717.279, "duration": 6.241}, {"text": "objectives and then within that", "start": 1720.64, "duration": 3.84}, {"text": "bucket", "start": 1723.52, "duration": 4.08}, {"text": "place in all these activities", "start": 1724.48, "duration": 6.24}, {"text": "so the initial foothold is when", "start": 1727.6, "duration": 6.559}, {"text": "the adversary compromises a system and", "start": 1730.72, "duration": 7.04}, {"text": "then use that to pivot within internal", "start": 1734.159, "duration": 6.64}, {"text": "network and then once we are within the", "start": 1737.76, "duration": 5.12}, {"text": "internal network", "start": 1740.799, "duration": 5.681}, {"text": "all the activities we do is gain access", "start": 1742.88, "duration": 5.36}, {"text": "to critical", "start": 1746.48, "duration": 3.439}, {"text": "assets", "start": 1748.24, "duration": 4.559}, {"text": "and these are the individual activities", "start": 1749.919, "duration": 6.721}, {"text": "that are carried out within each of this", "start": 1752.799, "duration": 4.801}, {"text": "bigger", "start": 1756.64, "duration": 4.639}, {"text": "phase what i did was just like what paul", "start": 1757.6, "duration": 4.88}, {"text": "post did", "start": 1761.279, "duration": 2.721}, {"text": "i took that", "start": 1762.48, "duration": 6.079}, {"text": "and i did a slight modification to that", "start": 1764.0, "duration": 8.72}, {"text": "for what i normally use in my operation", "start": 1768.559, "duration": 7.681}, {"text": "and i called my modified unified kill", "start": 1772.72, "duration": 5.76}, {"text": "chain there is no", "start": 1776.24, "duration": 5.36}, {"text": "better or the right way to use a", "start": 1778.48, "duration": 6.16}, {"text": "methodology or framework as a writing", "start": 1781.6, "duration": 5.84}, {"text": "operator would always find a better way", "start": 1784.64, "duration": 6.159}, {"text": "to do yours you might even have a better", "start": 1787.44, "duration": 5.76}, {"text": "way than what i have here", "start": 1790.799, "duration": 4.721}, {"text": "this is what normally works for me", "start": 1793.2, "duration": 6.0}, {"text": "and i use that for this training so in", "start": 1795.52, "duration": 7.12}, {"text": "my case i have the initial access", "start": 1799.2, "duration": 6.0}, {"text": "and the activities we would run or i", "start": 1802.64, "duration": 4.399}, {"text": "would normally run within that will be", "start": 1805.2, "duration": 3.599}, {"text": "reconnaissance", "start": 1807.039, "duration": 5.201}, {"text": "building the attack infrastructure", "start": 1808.799, "duration": 5.6}, {"text": "weaponization", "start": 1812.24, "duration": 4.08}, {"text": "social engineering", "start": 1814.399, "duration": 5.201}, {"text": "and delivery or exploitation", "start": 1816.32, "duration": 6.079}, {"text": "and that should give us the initial", "start": 1819.6, "duration": 5.36}, {"text": "access on a system", "start": 1822.399, "duration": 5.361}, {"text": "and then once we have access to a system", "start": 1824.96, "duration": 6.319}, {"text": "we can now begin to do our network", "start": 1827.76, "duration": 5.36}, {"text": "propagation", "start": 1831.279, "duration": 5.28}, {"text": "which will begin with persistence", "start": 1833.12, "duration": 5.919}, {"text": "situational awareness", "start": 1836.559, "duration": 4.801}, {"text": "privilege escalation", "start": 1839.039, "duration": 4.161}, {"text": "defense evasion", "start": 1841.36, "duration": 4.48}, {"text": "credential harvesting and lateral", "start": 1843.2, "duration": 3.839}, {"text": "movement", "start": 1845.84, "duration": 2.88}, {"text": "and then we hit", "start": 1847.039, "duration": 4.64}, {"text": "the last phase of the framework or the", "start": 1848.72, "duration": 5.92}, {"text": "kill chain which is the actions on", "start": 1851.679, "duration": 6.0}, {"text": "objectives so now let's", "start": 1854.64, "duration": 4.0}, {"text": "begin", "start": 1857.679, "duration": 2.0}, {"text": "with the", "start": 1858.64, "duration": 3.68}, {"text": "initial", "start": 1859.679, "duration": 2.641}, {"text": "access now what you see", "start": 1862.84, "duration": 6.28}, {"text": "throughout the course is i'll try as", "start": 1865.76, "duration": 5.68}, {"text": "much as possible", "start": 1869.12, "duration": 3.76}, {"text": "to provide", "start": 1871.44, "duration": 3.359}, {"text": "the related", "start": 1872.88, "duration": 3.84}, {"text": "minor attacks", "start": 1874.799, "duration": 5.12}, {"text": "tactic or technique id number", "start": 1876.72, "duration": 5.76}, {"text": "for any concept", "start": 1879.919, "duration": 5.921}, {"text": "that we discuss here and that may have", "start": 1882.48, "duration": 4.96}, {"text": "an entry", "start": 1885.84, "duration": 5.12}, {"text": "on miter's attack framework", "start": 1887.44, "duration": 5.119}, {"text": "from mitre", "start": 1890.96, "duration": 3.76}, {"text": "initial access", "start": 1892.559, "duration": 4.561}, {"text": "consists of techniques", "start": 1894.72, "duration": 3.199}, {"text": "that", "start": 1897.12, "duration": 3.76}, {"text": "use various entry vectors", "start": 1897.919, "duration": 6.401}, {"text": "to gain initial foothold within a", "start": 1900.88, "duration": 4.88}, {"text": "network", "start": 1904.32, "duration": 4.0}, {"text": "essentially anything that", "start": 1905.76, "duration": 6.799}, {"text": "adversaries or red teamers will execute", "start": 1908.32, "duration": 6.239}, {"text": "to provide", "start": 1912.559, "duration": 3.36}, {"text": "access", "start": 1914.559, "duration": 6.0}, {"text": "or entry point or a foothold within the", "start": 1915.919, "duration": 6.48}, {"text": "victims network", "start": 1920.559, "duration": 4.641}, {"text": "is what is considered as", "start": 1922.399, "duration": 4.721}, {"text": "initial access", "start": 1925.2, "duration": 3.52}, {"text": "and the", "start": 1927.12, "duration": 3.36}, {"text": "mitre attack", "start": 1928.72, "duration": 2.88}, {"text": "id", "start": 1930.48, "duration": 5.12}, {"text": "for initial access is t a", "start": 1931.6, "duration": 5.04}, {"text": "0", "start": 1935.6, "duration": 2.0}, {"text": "0", "start": 1936.64, "duration": 1.919}, {"text": "0", "start": 1937.6, "duration": 2.079}, {"text": "1", "start": 1938.559, "duration": 4.161}, {"text": "the initial access is one of the most", "start": 1939.679, "duration": 4.161}, {"text": "complex", "start": 1942.72, "duration": 4.079}, {"text": "and time consuming aspects in writing", "start": 1943.84, "duration": 6.88}, {"text": "operation and that is true because this", "start": 1946.799, "duration": 6.801}, {"text": "is where you trying to gain access to", "start": 1950.72, "duration": 4.559}, {"text": "a victim's machine", "start": 1953.6, "duration": 5.36}, {"text": "and you have to go through a lot of work", "start": 1955.279, "duration": 5.681}, {"text": "to gain such access", "start": 1958.96, "duration": 3.599}, {"text": "so it requires", "start": 1960.96, "duration": 5.839}, {"text": "lots and lots of research and work", "start": 1962.559, "duration": 7.281}, {"text": "to find a way to gain access to", "start": 1966.799, "duration": 6.48}, {"text": "the victims machine or the environment", "start": 1969.84, "duration": 5.52}, {"text": "so some of the work that i would", "start": 1973.279, "duration": 4.0}, {"text": "normally do on this uh you know this", "start": 1975.36, "duration": 5.52}, {"text": "space is i mean official campaign um", "start": 1977.279, "duration": 5.201}, {"text": "physical access", "start": 1980.88, "duration": 5.12}, {"text": "seated access or some of you might call", "start": 1982.48, "duration": 6.64}, {"text": "the assume breach which is where the", "start": 1986.0, "duration": 6.48}, {"text": "client may give you access to a victim's", "start": 1989.12, "duration": 7.12}, {"text": "machine already within the organization", "start": 1992.48, "duration": 5.76}, {"text": "another way that we can also provide or", "start": 1996.24, "duration": 4.0}, {"text": "gain initial access is through", "start": 1998.24, "duration": 4.319}, {"text": "application exploitation", "start": 2000.24, "duration": 4.96}, {"text": "credential staffing is when we you know", "start": 2002.559, "duration": 5.281}, {"text": "use publicly disclosed credentials and", "start": 2005.2, "duration": 5.04}, {"text": "then try to spread that against um the", "start": 2007.84, "duration": 5.6}, {"text": "institution or our victim and try to see", "start": 2010.24, "duration": 5.679}, {"text": "which ones will be valid once to give us", "start": 2013.44, "duration": 5.44}, {"text": "access um supply chain compromise is", "start": 2015.919, "duration": 5.681}, {"text": "when we compromise a third party and use", "start": 2018.88, "duration": 4.88}, {"text": "that to jump or", "start": 2021.6, "duration": 5.199}, {"text": "pivot into our final or the actual", "start": 2023.76, "duration": 4.159}, {"text": "targets", "start": 2026.799, "duration": 4.561}, {"text": "an example which is a solid one is the", "start": 2027.919, "duration": 6.561}, {"text": "solar wind um attacks right where um the", "start": 2031.36, "duration": 6.0}, {"text": "company was exploited and then um the", "start": 2034.48, "duration": 5.12}, {"text": "software was backed out to provide", "start": 2037.36, "duration": 3.76}, {"text": "access to", "start": 2039.6, "duration": 4.079}, {"text": "the final or the main target so that is", "start": 2041.12, "duration": 5.52}, {"text": "what we call the supply chain compromise", "start": 2043.679, "duration": 5.761}, {"text": "now this is not the comprehensive list", "start": 2046.64, "duration": 4.719}, {"text": "of techniques that can be used to gain", "start": 2049.44, "duration": 4.08}, {"text": "access there are several", "start": 2051.359, "duration": 4.72}, {"text": "but just for the sake of gravity this is", "start": 2053.52, "duration": 4.0}, {"text": "the list that", "start": 2056.079, "duration": 4.0}, {"text": "you come across most likely in", "start": 2057.52, "duration": 4.24}, {"text": "engagement", "start": 2060.079, "duration": 4.881}, {"text": "so from the initial access phase as you", "start": 2061.76, "duration": 5.599}, {"text": "can recall from the methodology that i", "start": 2064.96, "duration": 4.959}, {"text": "provided the activities that the team", "start": 2067.359, "duration": 4.641}, {"text": "would normally execute", "start": 2069.919, "duration": 4.401}, {"text": "within this part of the methodology", "start": 2072.0, "duration": 4.079}, {"text": "would be reconnaissance to gather", "start": 2074.32, "duration": 4.24}, {"text": "intelligence um we'll also build our", "start": 2076.079, "duration": 5.201}, {"text": "attack infrastructure aka c2", "start": 2078.56, "duration": 4.24}, {"text": "infrastructure", "start": 2081.28, "duration": 3.52}, {"text": "and then based on that we'll build our", "start": 2082.8, "duration": 4.879}, {"text": "payloads to be able to work with our c2", "start": 2084.8, "duration": 4.4}, {"text": "infrastructure", "start": 2087.679, "duration": 3.521}, {"text": "and then the next one is social", "start": 2089.2, "duration": 4.639}, {"text": "engineering on how we can deliver our", "start": 2091.2, "duration": 4.959}, {"text": "payload and then of course once our", "start": 2093.839, "duration": 5.121}, {"text": "payload is delivered now we will gain", "start": 2096.159, "duration": 6.241}, {"text": "access or be able to exploit a system to", "start": 2098.96, "duration": 5.36}, {"text": "gain access", "start": 2102.4, "duration": 3.04}, {"text": "mitre", "start": 2104.32, "duration": 3.759}, {"text": "attack framework has a definition for", "start": 2105.44, "duration": 4.8}, {"text": "reconnaissance which consists of", "start": 2108.079, "duration": 4.641}, {"text": "techniques that involve adversaries", "start": 2110.24, "duration": 3.68}, {"text": "actively", "start": 2112.72, "duration": 2.72}, {"text": "or passively", "start": 2113.92, "duration": 3.919}, {"text": "gathering information that can be used", "start": 2115.44, "duration": 4.24}, {"text": "to support targeting", "start": 2117.839, "duration": 4.161}, {"text": "essentially anything that attacker can", "start": 2119.68, "duration": 4.24}, {"text": "obtain about the organization or the", "start": 2122.0, "duration": 4.64}, {"text": "target is going to be the reconnaissance", "start": 2123.92, "duration": 4.08}, {"text": "you do not", "start": 2126.64, "duration": 4.16}, {"text": "start a fight without understanding your", "start": 2128.0, "duration": 5.44}, {"text": "opponent so you want to gather as much", "start": 2130.8, "duration": 5.2}, {"text": "information as you can about the", "start": 2133.44, "duration": 4.8}, {"text": "organization that you are going to", "start": 2136.0, "duration": 4.88}, {"text": "attack or operate your red teaming", "start": 2138.24, "duration": 4.48}, {"text": "engagement on right", "start": 2140.88, "duration": 6.32}, {"text": "so the connoisseurs id from minor attack", "start": 2142.72, "duration": 8.84}, {"text": "framework is ta0043", "start": 2147.2, "duration": 4.36}, {"text": "now let's look into some of the", "start": 2152.56, "duration": 4.279}, {"text": "activities when it comes to", "start": 2154.64, "duration": 3.76}, {"text": "reconnaissance", "start": 2156.839, "duration": 3.721}, {"text": "all right so this is the face that we", "start": 2158.4, "duration": 4.56}, {"text": "want to collect and process information", "start": 2160.56, "duration": 5.76}, {"text": "the industry it operates in and also", "start": 2162.96, "duration": 6.399}, {"text": "understand that threat landscape", "start": 2166.32, "duration": 5.84}, {"text": "of specific countries were the company", "start": 2169.359, "duration": 5.841}, {"text": "or the organization operates in", "start": 2172.16, "duration": 6.0}, {"text": "so what this means is let's take a", "start": 2175.2, "duration": 5.6}, {"text": "financial institution for instance let's", "start": 2178.16, "duration": 5.36}, {"text": "say our target organization", "start": 2180.8, "duration": 6.559}, {"text": "is a bank so most likely", "start": 2183.52, "duration": 5.839}, {"text": "what happens is", "start": 2187.359, "duration": 5.361}, {"text": "apts are usually grouped in several", "start": 2189.359, "duration": 6.24}, {"text": "categories and most of them are very", "start": 2192.72, "duration": 5.76}, {"text": "very specific and they target specific", "start": 2195.599, "duration": 6.401}, {"text": "industry there are some apts who just", "start": 2198.48, "duration": 6.72}, {"text": "basically target financial institutions", "start": 2202.0, "duration": 6.16}, {"text": "there are ones do also target only", "start": 2205.2, "duration": 6.08}, {"text": "political organizations so they all have", "start": 2208.16, "duration": 7.199}, {"text": "different objectives so as part of our", "start": 2211.28, "duration": 7.6}, {"text": "reconnaissance we want to understand our", "start": 2215.359, "duration": 7.041}, {"text": "target organization or our client and", "start": 2218.88, "duration": 7.28}, {"text": "find out which industry it operates in", "start": 2222.4, "duration": 6.16}, {"text": "and then be able to classify", "start": 2226.16, "duration": 5.439}, {"text": "what kind of apts might be targeting", "start": 2228.56, "duration": 4.88}, {"text": "this organization", "start": 2231.599, "duration": 4.961}, {"text": "and also the location of them the", "start": 2233.44, "duration": 6.24}, {"text": "various companies are in offices and the", "start": 2236.56, "duration": 5.6}, {"text": "type of apts that might be targeting", "start": 2239.68, "duration": 4.64}, {"text": "them because sometimes you might have an", "start": 2242.16, "duration": 5.36}, {"text": "apt who might be interested in only", "start": 2244.32, "duration": 5.84}, {"text": "organizations in somewhere let's say in", "start": 2247.52, "duration": 4.64}, {"text": "china and may not be necessarily", "start": 2250.16, "duration": 4.64}, {"text": "interested in a company in nigeria or in", "start": 2252.16, "duration": 5.36}, {"text": "ghana right so we want to get all this", "start": 2254.8, "duration": 5.84}, {"text": "understanding as to what this company", "start": 2257.52, "duration": 5.12}, {"text": "works within the industry and the", "start": 2260.64, "duration": 4.479}, {"text": "locations that this company can be found", "start": 2262.64, "duration": 5.52}, {"text": "and then we can narrow down some of the", "start": 2265.119, "duration": 6.321}, {"text": "apts who might be targeting this", "start": 2268.16, "duration": 4.8}, {"text": "organization", "start": 2271.44, "duration": 4.32}, {"text": "now once we have such an understanding", "start": 2272.96, "duration": 6.0}, {"text": "now we'll be able to classify the types", "start": 2275.76, "duration": 6.4}, {"text": "of adversaries most likely", "start": 2278.96, "duration": 6.8}, {"text": "to target this institution or our client", "start": 2282.16, "duration": 6.16}, {"text": "and then once we have that we can now go", "start": 2285.76, "duration": 6.319}, {"text": "and then look at the previous ttps", "start": 2288.32, "duration": 6.799}, {"text": "most of these apts have used in their", "start": 2292.079, "duration": 6.161}, {"text": "operations and then we can see the mode", "start": 2295.119, "duration": 5.761}, {"text": "or the way they operate and then be able", "start": 2298.24, "duration": 5.04}, {"text": "to use that to better perform", "start": 2300.88, "duration": 4.239}, {"text": "reconnaissance because once we", "start": 2303.28, "duration": 4.4}, {"text": "understand how the apt", "start": 2305.119, "duration": 6.0}, {"text": "that targets this specific organization", "start": 2307.68, "duration": 6.399}, {"text": "we can see some of the tools they use", "start": 2311.119, "duration": 4.801}, {"text": "some of the tactics they use some of the", "start": 2314.079, "duration": 4.641}, {"text": "techniques they use so we can", "start": 2315.92, "duration": 6.64}, {"text": "simulate those in our operation as well", "start": 2318.72, "duration": 6.16}, {"text": "when it comes reconnaissance we can do", "start": 2322.56, "duration": 6.799}, {"text": "things passively or actively most likely", "start": 2324.88, "duration": 6.88}, {"text": "you may want to start more on the", "start": 2329.359, "duration": 4.801}, {"text": "passive side of things because that is", "start": 2331.76, "duration": 5.76}, {"text": "where you send less traffic from your", "start": 2334.16, "duration": 6.4}, {"text": "red team infrastructure or your system", "start": 2337.52, "duration": 6.24}, {"text": "to the victim or the targets environment", "start": 2340.56, "duration": 4.64}, {"text": "and honestly", "start": 2343.76, "duration": 4.64}, {"text": "most awesome or open source intelligence", "start": 2345.2, "duration": 6.96}, {"text": "platforms and tools can do a lot of work", "start": 2348.4, "duration": 6.16}, {"text": "for you can gather much more", "start": 2352.16, "duration": 5.12}, {"text": "intelligence for you than even trying to", "start": 2354.56, "duration": 6.0}, {"text": "actively gather data which might give", "start": 2357.28, "duration": 6.24}, {"text": "out some of your systems information to", "start": 2360.56, "duration": 5.36}, {"text": "the target and some of the things that", "start": 2363.52, "duration": 3.36}, {"text": "as we're going through the", "start": 2365.92, "duration": 3.36}, {"text": "reconnaissance what we're looking for", "start": 2366.88, "duration": 5.199}, {"text": "include network architecture", "start": 2369.28, "duration": 6.48}, {"text": "the type of technology the company uses", "start": 2372.079, "duration": 6.0}, {"text": "the people the culture their behavior", "start": 2375.76, "duration": 4.96}, {"text": "the security procedures the adversary", "start": 2378.079, "duration": 4.881}, {"text": "tcps which are normally used against", "start": 2380.72, "duration": 5.04}, {"text": "such an organization or the industry so", "start": 2382.96, "duration": 5.36}, {"text": "these are all things that we want to", "start": 2385.76, "duration": 5.76}, {"text": "understand as part of our reconnaissance", "start": 2388.32, "duration": 6.88}, {"text": "activities so passive reconnaissance", "start": 2391.52, "duration": 7.04}, {"text": "this is where again the team passively", "start": 2395.2, "duration": 5.36}, {"text": "gathers intelligence about the", "start": 2398.56, "duration": 5.039}, {"text": "organization without actively", "start": 2400.56, "duration": 5.039}, {"text": "interacting with a target", "start": 2403.599, "duration": 4.641}, {"text": "organization's systems part of this what", "start": 2405.599, "duration": 5.201}, {"text": "we normally do is where can we gather", "start": 2408.24, "duration": 4.4}, {"text": "information for let's say phishing", "start": 2410.8, "duration": 4.48}, {"text": "attack or finding targets for a fishing", "start": 2412.64, "duration": 4.0}, {"text": "campaign", "start": 2415.28, "duration": 3.92}, {"text": "linkedin is a good place facebook", "start": 2416.64, "duration": 3.679}, {"text": "twitter", "start": 2419.2, "duration": 3.6}, {"text": "the company's department heads all these", "start": 2420.319, "duration": 4.961}, {"text": "are places that we can be looking for", "start": 2422.8, "duration": 4.88}, {"text": "fishing victims or targets", "start": 2425.28, "duration": 4.96}, {"text": "one of my examples on my rating on", "start": 2427.68, "duration": 5.439}, {"text": "engagement was i was able to use just", "start": 2430.24, "duration": 6.8}, {"text": "linkedin to find victims or targets for", "start": 2433.119, "duration": 6.48}, {"text": "my phishing campaign which was very very", "start": 2437.04, "duration": 5.36}, {"text": "successful in using that another place", "start": 2439.599, "duration": 4.641}, {"text": "that we want to gather intelligence to", "start": 2442.4, "duration": 3.36}, {"text": "is about", "start": 2444.24, "duration": 5.04}, {"text": "job posting sometimes human resources", "start": 2445.76, "duration": 5.76}, {"text": "give out too much information about a", "start": 2449.28, "duration": 6.0}, {"text": "job posting they post on job boards so", "start": 2451.52, "duration": 6.0}, {"text": "they will normally have the type of", "start": 2455.28, "duration": 5.44}, {"text": "skills they are requiring and go as far", "start": 2457.52, "duration": 6.48}, {"text": "as the type of software or the vendor or", "start": 2460.72, "duration": 6.08}, {"text": "the appliance or whatever that you need", "start": 2464.0, "duration": 6.0}, {"text": "to have in your skill set and these are", "start": 2466.8, "duration": 6.559}, {"text": "information that they can give out that", "start": 2470.0, "duration": 5.92}, {"text": "we as red teamers", "start": 2473.359, "duration": 5.48}, {"text": "apt can use against the", "start": 2475.92, "duration": 5.04}, {"text": "organization another place that we can", "start": 2478.839, "duration": 4.841}, {"text": "also find information passively is", "start": 2480.96, "duration": 6.639}, {"text": "previous or unknown data breaches i have", "start": 2483.68, "duration": 7.36}, {"text": "used this a lot on my operations because", "start": 2487.599, "duration": 4.401}, {"text": "again", "start": 2491.04, "duration": 4.24}, {"text": "once a while we'll hear about a big dump", "start": 2492.0, "duration": 5.76}, {"text": "of credentials and what i'll normally do", "start": 2495.28, "duration": 5.839}, {"text": "is i'll build my system run my own and", "start": 2497.76, "duration": 6.319}, {"text": "then get a copy of that and then use it", "start": 2501.119, "duration": 5.841}, {"text": "on my engagement the bad guys are using", "start": 2504.079, "duration": 6.481}, {"text": "that so why not ask the red teamers", "start": 2506.96, "duration": 6.72}, {"text": "this is an example of a job post just", "start": 2510.56, "duration": 5.759}, {"text": "looking for let's say a dba", "start": 2513.68, "duration": 5.52}, {"text": "in chicago area you can see what i have", "start": 2516.319, "duration": 5.52}, {"text": "to highlight it this is giving us", "start": 2519.2, "duration": 5.36}, {"text": "specific skills that are required for", "start": 2521.839, "duration": 6.24}, {"text": "this job and is giving as much as sql", "start": 2524.56, "duration": 5.72}, {"text": "server 2008", "start": 2528.079, "duration": 6.561}, {"text": "2010 and 2012 and a whole bunch of other", "start": 2530.28, "duration": 7.72}, {"text": "information which we as adversaries or", "start": 2534.64, "duration": 6.719}, {"text": "red teamers can use to understand what", "start": 2538.0, "duration": 6.24}, {"text": "type of database management system this", "start": 2541.359, "duration": 6.24}, {"text": "company is using and we can craft our", "start": 2544.24, "duration": 6.4}, {"text": "attacks towards that", "start": 2547.599, "duration": 5.601}, {"text": "even though passive information", "start": 2550.64, "duration": 5.679}, {"text": "gathering is good and that can fetch us", "start": 2553.2, "duration": 6.639}, {"text": "maybe around 80 to 85 percent", "start": 2556.319, "duration": 6.161}, {"text": "if we do that very good one we may still", "start": 2559.839, "duration": 5.121}, {"text": "want to do some active reconnaissance", "start": 2562.48, "duration": 4.56}, {"text": "and if you saw from the miter attack", "start": 2564.96, "duration": 5.6}, {"text": "framework scanning is part of the", "start": 2567.04, "duration": 6.799}, {"text": "reconnaissance this is where our system", "start": 2570.56, "duration": 6.16}, {"text": "might talk or interact", "start": 2573.839, "duration": 6.48}, {"text": "directly or indirectly with the target", "start": 2576.72, "duration": 7.2}, {"text": "organization system so do that carefully", "start": 2580.319, "duration": 6.481}, {"text": "we can look for network block using", "start": 2583.92, "duration": 5.76}, {"text": "house or other platforms we can look for", "start": 2586.8, "duration": 6.48}, {"text": "dns information domain names subdomain", "start": 2589.68, "duration": 6.639}, {"text": "names and what have you we can also look", "start": 2593.28, "duration": 3.92}, {"text": "for", "start": 2596.319, "duration": 3.921}, {"text": "mail infrastructure information and see", "start": 2597.2, "duration": 6.24}, {"text": "what controls this company has in place", "start": 2600.24, "duration": 7.96}, {"text": "especially against spamming such as spf", "start": 2603.44, "duration": 9.84}, {"text": "dkim debug records or even ptl that", "start": 2608.2, "duration": 8.04}, {"text": "points a domain name to an ip address so", "start": 2613.28, "duration": 6.0}, {"text": "these are things that we want to gather", "start": 2616.24, "duration": 6.96}, {"text": "as part of our reconnaissance activities", "start": 2619.28, "duration": 4.72}, {"text": "so", "start": 2623.2, "duration": 3.36}, {"text": "let's quickly look into", "start": 2624.0, "duration": 6.24}, {"text": "a demo on how we can gather some of this", "start": 2626.56, "duration": 4.88}, {"text": "information", "start": 2630.24, "duration": 4.16}, {"text": "on our target organization", "start": 2631.44, "duration": 7.2}, {"text": "so let's say as part of your recon", "start": 2634.4, "duration": 7.36}, {"text": "you would like to gather email addresses", "start": 2638.64, "duration": 6.56}, {"text": "about your target organization", "start": 2641.76, "duration": 5.839}, {"text": "one of the locations i would normally go", "start": 2645.2, "duration": 6.48}, {"text": "to is phonebook.cz", "start": 2647.599, "duration": 6.961}, {"text": "and as you recall email", "start": 2651.68, "duration": 4.32}, {"text": "addresses", "start": 2654.56, "duration": 4.4}, {"text": "are normally one of the main sought", "start": 2656.0, "duration": 4.48}, {"text": "after when it comes to our", "start": 2658.96, "duration": 5.44}, {"text": "reconnaissance phase so let's assume", "start": 2660.48, "duration": 7.52}, {"text": "ibm is going to be our victim within the", "start": 2664.4, "duration": 7.199}, {"text": "domain type in ibm.com", "start": 2668.0, "duration": 5.76}, {"text": "and then hit submit", "start": 2671.599, "duration": 4.561}, {"text": "so you can look at the sheer amount of", "start": 2673.76, "duration": 6.24}, {"text": "email addresses we can get from this", "start": 2676.16, "duration": 6.24}, {"text": "particular platform", "start": 2680.0, "duration": 5.92}, {"text": "there is another website called hunter", "start": 2682.4, "duration": 6.719}, {"text": "dot io which is another place you can", "start": 2685.92, "duration": 6.64}, {"text": "gather email addresses", "start": 2689.119, "duration": 7.521}, {"text": "if we also want to obtain sub domain", "start": 2692.56, "duration": 7.68}, {"text": "names for our target we can select the", "start": 2696.64, "duration": 5.12}, {"text": "domains", "start": 2700.24, "duration": 4.4}, {"text": "and then just click on submit and that", "start": 2701.76, "duration": 5.44}, {"text": "is going to go out there and then face", "start": 2704.64, "duration": 7.199}, {"text": "for all the possible sub domain names", "start": 2707.2, "duration": 8.56}, {"text": "for our target organization", "start": 2711.839, "duration": 7.441}, {"text": "if we are looking to perform other", "start": 2715.76, "duration": 7.44}, {"text": "activities such as dns lookup on target", "start": 2719.28, "duration": 5.44}, {"text": "domain", "start": 2723.2, "duration": 6.0}, {"text": "view dns dot info would also be a good", "start": 2724.72, "duration": 7.44}, {"text": "place to go to these are all the", "start": 2729.2, "duration": 6.48}, {"text": "possible information that we can provide", "start": 2732.16, "duration": 6.72}, {"text": "and then gather intelligence about the", "start": 2735.68, "duration": 5.12}, {"text": "target organization", "start": 2738.88, "duration": 5.12}, {"text": "can do a reverse ip lookup we can do", "start": 2740.8, "duration": 7.12}, {"text": "reverse who is lookup ip history dns", "start": 2744.0, "duration": 6.88}, {"text": "report and a whole bunch of things that", "start": 2747.92, "duration": 7.6}, {"text": "we can do here target here as ibm.com", "start": 2750.88, "duration": 6.719}, {"text": "and then hit go", "start": 2755.52, "duration": 4.16}, {"text": "so this will be the information that i", "start": 2757.599, "duration": 4.641}, {"text": "would get so the reverse ip results for", "start": 2759.68, "duration": 7.04}, {"text": "ibm.com is this ip address right here", "start": 2762.24, "duration": 6.32}, {"text": "and it'll tell us that there are one", "start": 2766.72, "duration": 5.92}, {"text": "domains hosted on this server so another", "start": 2768.56, "duration": 6.4}, {"text": "platform which", "start": 2772.64, "duration": 5.199}, {"text": "doesn't need any much introduction is", "start": 2774.96, "duration": 6.96}, {"text": "showdown it scans the entire internet", "start": 2777.839, "duration": 7.601}, {"text": "for any devices which are internet", "start": 2781.92, "duration": 4.72}, {"text": "exposed", "start": 2785.44, "duration": 3.679}, {"text": "and then it would just put them in its", "start": 2786.64, "duration": 3.76}, {"text": "database", "start": 2789.119, "duration": 4.161}, {"text": "there are so many filters we can use", "start": 2790.4, "duration": 4.16}, {"text": "within", "start": 2793.28, "duration": 4.16}, {"text": "showdown for instance if we want to", "start": 2794.56, "duration": 5.92}, {"text": "specify an organization", "start": 2797.44, "duration": 5.2}, {"text": "we can use the org", "start": 2800.48, "duration": 4.879}, {"text": "and then just hit search we have more", "start": 2802.64, "duration": 6.32}, {"text": "than 5 million systems exposed to the", "start": 2805.359, "duration": 5.24}, {"text": "internet with", "start": 2808.96, "duration": 5.359}, {"text": "amazon.com in it either in their header", "start": 2810.599, "duration": 5.961}, {"text": "or description or whatever", "start": 2814.319, "duration": 5.52}, {"text": "of course this is going to be useful to", "start": 2816.56, "duration": 6.16}, {"text": "you if you can do a proper", "start": 2819.839, "duration": 6.641}, {"text": "filtering to get to what you need or", "start": 2822.72, "duration": 7.04}, {"text": "systems that are specifically being used", "start": 2826.48, "duration": 6.32}, {"text": "by amazon corporation itself and not", "start": 2829.76, "duration": 5.44}, {"text": "third parties these are", "start": 2832.8, "duration": 4.48}, {"text": "false positive things you might want to", "start": 2835.2, "duration": 5.119}, {"text": "remove out of your reconnaissance on the", "start": 2837.28, "duration": 6.319}, {"text": "left side we have the topmost countries", "start": 2840.319, "duration": 4.161}, {"text": "where", "start": 2843.599, "duration": 3.921}, {"text": "sheldon is picking up devices from with", "start": 2844.48, "duration": 5.359}, {"text": "us having more than three million", "start": 2847.52, "duration": 6.24}, {"text": "devices that have amazon.com in the name", "start": 2849.839, "duration": 6.881}, {"text": "somewhere okay we can expand if you", "start": 2853.76, "duration": 5.28}, {"text": "don't see the country of interest to you", "start": 2856.72, "duration": 4.72}, {"text": "so you can get more information as to", "start": 2859.04, "duration": 5.6}, {"text": "which country you want to limit yourself", "start": 2861.44, "duration": 6.0}, {"text": "to we can also do a drop down and gather", "start": 2864.64, "duration": 6.16}, {"text": "more intelligence if we go back", "start": 2867.44, "duration": 6.32}, {"text": "it will also give us a top port numbers", "start": 2870.8, "duration": 4.4}, {"text": "and even", "start": 2873.76, "duration": 5.44}, {"text": "limit us to specific organizations", "start": 2875.2, "duration": 6.879}, {"text": "and give us the top products", "start": 2879.2, "duration": 6.639}, {"text": "and then the operating systems be used", "start": 2882.079, "duration": 6.721}, {"text": "here as a top ones if we want to gather", "start": 2885.839, "duration": 5.841}, {"text": "more intelligence or data about any", "start": 2888.8, "duration": 5.6}, {"text": "particular system we can just click on", "start": 2891.68, "duration": 4.399}, {"text": "it and it will just take us to that", "start": 2894.4, "duration": 4.24}, {"text": "particular system so if we take this one", "start": 2896.079, "duration": 4.881}, {"text": "for instance it will just take us there", "start": 2898.64, "duration": 5.199}, {"text": "and then give us more information about", "start": 2900.96, "duration": 5.52}, {"text": "the port numbers open on the system and", "start": 2903.839, "duration": 5.041}, {"text": "then additional information about that", "start": 2906.48, "duration": 4.72}, {"text": "we can even click here and it will take", "start": 2908.88, "duration": 5.12}, {"text": "us to the web page of that particular", "start": 2911.2, "duration": 3.919}, {"text": "machine", "start": 2914.0, "duration": 3.839}, {"text": "this is not a comprehensive use of how", "start": 2915.119, "duration": 5.44}, {"text": "schwann can be used there are so many", "start": 2917.839, "duration": 5.52}, {"text": "switches and filters you can apply", "start": 2920.559, "duration": 5.841}, {"text": "together intelligence or narrow down", "start": 2923.359, "duration": 5.921}, {"text": "your search based on your needs", "start": 2926.4, "duration": 6.08}, {"text": "another website you can also use to", "start": 2929.28, "duration": 4.2}, {"text": "gather", "start": 2932.48, "duration": 3.599}, {"text": "infrastructural information about your", "start": 2933.48, "duration": 7.72}, {"text": "target is zoom i it is similar to how", "start": 2936.079, "duration": 7.441}, {"text": "showdom operates something nice about a", "start": 2941.2, "duration": 4.96}, {"text": "zoom eye is the moment you you know you", "start": 2943.52, "duration": 4.4}, {"text": "click inside a search you know", "start": 2946.16, "duration": 4.0}, {"text": "placeholder it will begin to give you", "start": 2947.92, "duration": 5.36}, {"text": "some top searches already all right so", "start": 2950.16, "duration": 5.76}, {"text": "which is also very nice but in our case", "start": 2953.28, "duration": 4.48}, {"text": "let's assume you want to", "start": 2955.92, "duration": 4.96}, {"text": "search on a particular target", "start": 2957.76, "duration": 5.2}, {"text": "the moment you begin to type in you'll", "start": 2960.88, "duration": 5.6}, {"text": "see some options being provided to you", "start": 2962.96, "duration": 5.92}, {"text": "so for instance if we want to look for", "start": 2966.48, "duration": 6.72}, {"text": "only cisco ssl vpns it gives you an", "start": 2968.88, "duration": 6.88}, {"text": "option to just click on that and then it", "start": 2973.2, "duration": 4.56}, {"text": "will just give you more information on", "start": 2975.76, "duration": 5.68}, {"text": "that the whole concept about zoom i is", "start": 2977.76, "duration": 6.64}, {"text": "also similar to showdown", "start": 2981.44, "duration": 5.119}, {"text": "but tools are tools you don't want to", "start": 2984.4, "duration": 4.959}, {"text": "limit yourself on only one two because", "start": 2986.559, "duration": 4.641}, {"text": "there has been some cases that i have", "start": 2989.359, "duration": 4.881}, {"text": "found one two doing better than the", "start": 2991.2, "duration": 5.68}, {"text": "other or catching some things for me", "start": 2994.24, "duration": 5.2}, {"text": "that the other two couldn't catch it so", "start": 2996.88, "duration": 5.36}, {"text": "um i want to provide you another option", "start": 2999.44, "duration": 4.56}, {"text": "in addition to", "start": 3002.24, "duration": 5.52}, {"text": "um showdown and you might find zoom i", "start": 3004.0, "duration": 6.319}, {"text": "also very interesting you can click the", "start": 3007.76, "duration": 4.48}, {"text": "ip address these things are all", "start": 3010.319, "duration": 4.321}, {"text": "clickable and will give you more", "start": 3012.24, "duration": 5.119}, {"text": "information the ip address", "start": 3014.64, "duration": 5.439}, {"text": "the country the exact location of the", "start": 3017.359, "duration": 7.521}, {"text": "server um the isp the asm asn and all", "start": 3020.079, "duration": 7.601}, {"text": "these are information that you can", "start": 3024.88, "duration": 5.679}, {"text": "gather if it has any associated", "start": 3027.68, "duration": 4.8}, {"text": "vulnerability it would actually give", "start": 3030.559, "duration": 4.161}, {"text": "that to you here and the rankings it", "start": 3032.48, "duration": 3.92}, {"text": "will give you the who is information", "start": 3034.72, "duration": 3.839}, {"text": "about this particular server and", "start": 3036.4, "duration": 4.24}, {"text": "additional information", "start": 3038.559, "duration": 5.201}, {"text": "which you might find very useful to", "start": 3040.64, "duration": 5.679}, {"text": "carry out the next phase of your", "start": 3043.76, "duration": 5.2}, {"text": "reconnaissance another website i would", "start": 3046.319, "duration": 5.121}, {"text": "also want to bring to your attention for", "start": 3048.96, "duration": 6.32}, {"text": "reconnaissance is spies they all follow", "start": 3051.44, "duration": 6.32}, {"text": "the same concept with shodhan but again", "start": 3055.28, "duration": 4.96}, {"text": "like i said you don't have to rely on", "start": 3057.76, "duration": 5.76}, {"text": "only one two when it comes to offensive", "start": 3060.24, "duration": 7.44}, {"text": "operations or red teaming so this is how", "start": 3063.52, "duration": 7.839}, {"text": "spice looks like if you look on the left", "start": 3067.68, "duration": 7.28}, {"text": "side you can search by any target", "start": 3071.359, "duration": 4.96}, {"text": "by domain", "start": 3074.96, "duration": 7.04}, {"text": "by ip address asc um cider or additional", "start": 3076.319, "duration": 8.081}, {"text": "filters you want to put in place if we", "start": 3082.0, "duration": 5.72}, {"text": "type in cisco.com", "start": 3084.4, "duration": 3.32}, {"text": "it will begin to give us additional", "start": 3088.559, "duration": 5.921}, {"text": "information that we can select from so", "start": 3091.359, "duration": 6.24}, {"text": "if we select from the cisco.com domain", "start": 3094.48, "duration": 5.839}, {"text": "like that and then we'll begin to do a", "start": 3097.599, "duration": 6.801}, {"text": "search within its database of registry", "start": 3100.319, "duration": 7.121}, {"text": "and then give us much more information", "start": 3104.4, "duration": 5.52}, {"text": "and as you're seeing each one of these", "start": 3107.44, "duration": 5.76}, {"text": "tools have their own capabilities in", "start": 3109.92, "duration": 6.08}, {"text": "fact you see how spice looks like it", "start": 3113.2, "duration": 4.08}, {"text": "will give you", "start": 3116.0, "duration": 2.8}, {"text": "the actual", "start": 3117.28, "duration": 4.88}, {"text": "landing page for that organization right", "start": 3118.8, "duration": 5.519}, {"text": "here so it's also clickable which will", "start": 3122.16, "duration": 5.439}, {"text": "take you right into the organization's", "start": 3124.319, "duration": 5.601}, {"text": "website all right it will give you the", "start": 3127.599, "duration": 4.881}, {"text": "alexa ranking number and a whole", "start": 3129.92, "duration": 5.439}, {"text": "information about the organization and", "start": 3132.48, "duration": 5.44}, {"text": "what it does before it gives you", "start": 3135.359, "duration": 4.801}, {"text": "additional information on the left side", "start": 3137.92, "duration": 5.12}, {"text": "it will give you the dns information dns", "start": 3140.16, "duration": 6.24}, {"text": "history and other related website or", "start": 3143.04, "duration": 6.0}, {"text": "companies and then we can come down here", "start": 3146.4, "duration": 5.52}, {"text": "for much more detailed dns record", "start": 3149.04, "duration": 4.64}, {"text": "information down here", "start": 3151.92, "duration": 4.08}, {"text": "mail server information are down here", "start": 3153.68, "duration": 4.8}, {"text": "the a record is down here and a whole", "start": 3156.0, "duration": 5.44}, {"text": "bunch of other information that we can", "start": 3158.48, "duration": 5.76}, {"text": "find about the organization including", "start": 3161.44, "duration": 6.08}, {"text": "technologies you can explore much more", "start": 3164.24, "duration": 6.16}, {"text": "information combining most of these", "start": 3167.52, "duration": 6.319}, {"text": "tools to gather intelligence another", "start": 3170.4, "duration": 5.28}, {"text": "tool that i'm not going to cover here is", "start": 3173.839, "duration": 2.641}, {"text": "called", "start": 3175.68, "duration": 5.6}, {"text": "census dot io which is also um showdown", "start": 3176.48, "duration": 7.599}, {"text": "on steroids now the last two we'll be", "start": 3181.28, "duration": 6.0}, {"text": "covering for the reconnaissance phase", "start": 3184.079, "duration": 4.641}, {"text": "demo is", "start": 3187.28, "duration": 4.64}, {"text": "spider fault now some of you may have", "start": 3188.72, "duration": 6.16}, {"text": "heard or know about spider fault", "start": 3191.92, "duration": 5.679}, {"text": "it is one of the most well known", "start": 3194.88, "duration": 5.76}, {"text": "open source intelligence platform for", "start": 3197.599, "duration": 4.96}, {"text": "gathering intelligence about", "start": 3200.64, "duration": 4.08}, {"text": "organization now the good thing about", "start": 3202.559, "duration": 4.641}, {"text": "spider fault is it combines", "start": 3204.72, "duration": 6.08}, {"text": "a whole suite of tools which we would", "start": 3207.2, "duration": 5.44}, {"text": "have otherwise", "start": 3210.8, "duration": 5.12}, {"text": "use individually and then put them into", "start": 3212.64, "duration": 4.959}, {"text": "one platform", "start": 3215.92, "duration": 3.76}, {"text": "um two things you have to know about", "start": 3217.599, "duration": 3.52}, {"text": "well one thing you have to know about", "start": 3219.68, "duration": 3.04}, {"text": "spider fault is", "start": 3221.119, "duration": 4.24}, {"text": "when it first started it was more of a", "start": 3222.72, "duration": 6.0}, {"text": "community-based platform but of course", "start": 3225.359, "duration": 6.161}, {"text": "as time passes they had to make a little", "start": 3228.72, "duration": 5.599}, {"text": "bit of money on the two because it is a", "start": 3231.52, "duration": 5.28}, {"text": "very good tool to be used so they now", "start": 3234.319, "duration": 6.321}, {"text": "have the spider fault hx which i have", "start": 3236.8, "duration": 6.24}, {"text": "used when i was part of a demo", "start": 3240.64, "duration": 5.36}, {"text": "beta users it is a very good tool so if", "start": 3243.04, "duration": 6.16}, {"text": "you have the finances to be able to", "start": 3246.0, "duration": 7.44}, {"text": "afford the cloud-based spider fault this", "start": 3249.2, "duration": 7.119}, {"text": "is an option that they now offer", "start": 3253.44, "duration": 5.44}, {"text": "otherwise you can still use the open", "start": 3256.319, "duration": 6.8}, {"text": "source or the community version on kali", "start": 3258.88, "duration": 7.12}, {"text": "linux which is what we are going to", "start": 3263.119, "duration": 5.681}, {"text": "cover now the power of", "start": 3266.0, "duration": 6.16}, {"text": "showdown relies on apis", "start": 3268.8, "duration": 5.84}, {"text": "by vanilla installation", "start": 3272.16, "duration": 5.28}, {"text": "you might get some hits when it comes to", "start": 3274.64, "duration": 7.04}, {"text": "doing analysis or gathering intelligence", "start": 3277.44, "duration": 7.679}, {"text": "if you can provide apis for most of the", "start": 3281.68, "duration": 7.6}, {"text": "tools or the modules such as shodhan", "start": 3285.119, "duration": 7.68}, {"text": "having pawn grey noise and all other", "start": 3289.28, "duration": 6.799}, {"text": "ones that require apis that would give", "start": 3292.799, "duration": 6.56}, {"text": "you good amount of information", "start": 3296.079, "duration": 7.28}, {"text": "so spider fault is now pre-installed on", "start": 3299.359, "duration": 7.2}, {"text": "newest version of kali and this is one", "start": 3303.359, "duration": 6.561}, {"text": "way that we can run spider vote locally", "start": 3306.559, "duration": 6.641}, {"text": "and then providing a port number of five", "start": 3309.92, "duration": 6.879}, {"text": "zero zero nine to access spider fault", "start": 3313.2, "duration": 6.24}, {"text": "when the tool starts running it is going", "start": 3316.799, "duration": 4.721}, {"text": "to provide us a link", "start": 3319.44, "duration": 5.2}, {"text": "which is being served on this particular", "start": 3321.52, "duration": 6.96}, {"text": "url so we can access our spyder fault", "start": 3324.64, "duration": 6.88}, {"text": "through the browser", "start": 3328.48, "duration": 3.04}, {"text": "once up and running this is how the", "start": 3332.319, "duration": 5.201}, {"text": "spyder fault landing page looks like", "start": 3334.559, "duration": 5.201}, {"text": "right now i don't have any", "start": 3337.52, "duration": 5.039}, {"text": "scan history if you want to create a new", "start": 3339.76, "duration": 5.599}, {"text": "scan you can always go to new scan and", "start": 3342.559, "duration": 5.52}, {"text": "click that and these are the options you", "start": 3345.359, "duration": 5.76}, {"text": "have you can name your scan anyhow you", "start": 3348.079, "duration": 5.52}, {"text": "want for the sake of consistency as a", "start": 3351.119, "duration": 4.561}, {"text": "red teamer you might want to name it", "start": 3353.599, "duration": 4.561}, {"text": "according to the target you are trying", "start": 3355.68, "duration": 4.08}, {"text": "or you are performing directing", "start": 3358.16, "duration": 3.199}, {"text": "operations against", "start": 3359.76, "duration": 5.2}, {"text": "and we have use cases right so we can do", "start": 3361.359, "duration": 5.921}, {"text": "all what is going to gather as much", "start": 3364.96, "duration": 5.2}, {"text": "information as we want about a target we", "start": 3367.28, "duration": 6.16}, {"text": "can do just basic footprinting or just", "start": 3370.16, "duration": 6.48}, {"text": "passive analysis or investigation about", "start": 3373.44, "duration": 6.56}, {"text": "the organization or we can even do", "start": 3376.64, "duration": 5.919}, {"text": "by the required data we're looking for", "start": 3380.0, "duration": 4.799}, {"text": "so we can narrow down to information", "start": 3382.559, "duration": 4.161}, {"text": "that we're looking for we might not be", "start": 3384.799, "duration": 4.32}, {"text": "necessarily interested in bitcoin", "start": 3386.72, "duration": 4.48}, {"text": "balance so this is where you can narrow", "start": 3389.119, "duration": 4.72}, {"text": "down your searches to reduce the amount", "start": 3391.2, "duration": 5.68}, {"text": "of time that you will spend on running", "start": 3393.839, "duration": 4.561}, {"text": "your scan", "start": 3396.88, "duration": 4.56}, {"text": "you can also do by modules so let's say", "start": 3398.4, "duration": 4.959}, {"text": "there are some modules you don't want to", "start": 3401.44, "duration": 4.879}, {"text": "include in your recon running the two", "start": 3403.359, "duration": 6.48}, {"text": "you can uncheck those as well each one", "start": 3406.319, "duration": 6.48}, {"text": "of these are what we call the modules", "start": 3409.839, "duration": 5.601}, {"text": "and all of them have some global", "start": 3412.799, "duration": 5.681}, {"text": "information that you need to provide so", "start": 3415.44, "duration": 6.24}, {"text": "for instance abuse dot ch doesn't", "start": 3418.48, "duration": 6.72}, {"text": "require anything anything that has a key", "start": 3421.68, "duration": 7.04}, {"text": "next to that be requiring an api to be", "start": 3425.2, "duration": 6.639}, {"text": "provided so you can use those if we go", "start": 3428.72, "duration": 5.44}, {"text": "to abuse ipdb", "start": 3431.839, "duration": 6.321}, {"text": "there is an option to provide an api key", "start": 3434.16, "duration": 6.639}, {"text": "here so anything that you see any of the", "start": 3438.16, "duration": 6.159}, {"text": "modules you see a padlock next to that", "start": 3440.799, "duration": 5.76}, {"text": "it's going to require you to provide an", "start": 3444.319, "duration": 6.161}, {"text": "api key so it can get much more detailed", "start": 3446.559, "duration": 5.841}, {"text": "information when you scan two ways you", "start": 3450.48, "duration": 4.4}, {"text": "can have your apis in here you can", "start": 3452.4, "duration": 5.919}, {"text": "import your api keys or you can manually", "start": 3454.88, "duration": 6.16}, {"text": "input your apis here keys here and then", "start": 3458.319, "duration": 6.401}, {"text": "just click on save so let's go back on", "start": 3461.04, "duration": 7.12}, {"text": "how to run a scan okay so let's say ibm", "start": 3464.72, "duration": 6.8}, {"text": "is our target we can just do ibm let's", "start": 3468.16, "duration": 4.72}, {"text": "say just", "start": 3471.52, "duration": 5.279}, {"text": "give it a fancy number so 1 0 1 will be", "start": 3472.88, "duration": 6.32}, {"text": "our engage the scan name", "start": 3476.799, "duration": 4.401}, {"text": "spider for does a very good job by", "start": 3479.2, "duration": 4.24}, {"text": "giving you some examples on what to", "start": 3481.2, "duration": 4.32}, {"text": "expect so we can provide just a domain", "start": 3483.44, "duration": 5.76}, {"text": "name we can provide an ip address ipv4", "start": 3485.52, "duration": 5.839}, {"text": "ipv6 and a whole bunch of other", "start": 3489.2, "duration": 5.68}, {"text": "information to do our scanning so in", "start": 3491.359, "duration": 6.161}, {"text": "this case if you provide this ibm.com", "start": 3494.88, "duration": 4.88}, {"text": "like that and then we are going to", "start": 3497.52, "duration": 5.68}, {"text": "select the all and then hit scan that is", "start": 3499.76, "duration": 6.4}, {"text": "going to begin to do a scan against this", "start": 3503.2, "duration": 4.96}, {"text": "particular domain name it is going to", "start": 3506.16, "duration": 5.36}, {"text": "use all those modules that are in here", "start": 3508.16, "duration": 6.399}, {"text": "and begin to do all these scans for you", "start": 3511.52, "duration": 6.0}, {"text": "without anything coming from", "start": 3514.559, "duration": 6.481}, {"text": "particularly your system all spider fort", "start": 3517.52, "duration": 6.559}, {"text": "is doing is using individual tools such", "start": 3521.04, "duration": 4.4}, {"text": "as showdown", "start": 3524.079, "duration": 6.081}, {"text": "abuse you know ipdb um sensors dot io", "start": 3525.44, "duration": 6.879}, {"text": "spice and all those and then making all", "start": 3530.16, "duration": 4.959}, {"text": "these requests on your behalf and as", "start": 3532.319, "duration": 4.721}, {"text": "things are happening you'll begin to see", "start": 3535.119, "duration": 3.841}, {"text": "some information getting out down here", "start": 3537.04, "duration": 4.4}, {"text": "it's loading some modules here and then", "start": 3538.96, "duration": 4.56}, {"text": "us and when you're getting some scans", "start": 3541.44, "duration": 4.56}, {"text": "coming you begin to get some additional", "start": 3543.52, "duration": 4.559}, {"text": "information down here so if you", "start": 3546.0, "duration": 3.44}, {"text": "highlight it will tell you some", "start": 3548.079, "duration": 3.76}, {"text": "information you can go to browse and", "start": 3549.44, "duration": 4.32}, {"text": "then we'll begin to give you some much", "start": 3551.839, "duration": 4.401}, {"text": "more details about what it has gathered", "start": 3553.76, "duration": 4.72}, {"text": "you can view by graph", "start": 3556.24, "duration": 5.599}, {"text": "and then also look at your scan settings", "start": 3558.48, "duration": 7.599}, {"text": "as well or even look at your logs to see", "start": 3561.839, "duration": 8.24}, {"text": "how it's performing behind the scenes so", "start": 3566.079, "duration": 7.52}, {"text": "that is it the power of spider fault or", "start": 3570.079, "duration": 6.24}, {"text": "open source intelligence we have multigo", "start": 3573.599, "duration": 4.48}, {"text": "is out there which is also very well", "start": 3576.319, "duration": 5.04}, {"text": "known and foca um is out there as well", "start": 3578.079, "duration": 5.601}, {"text": "and there are plenty of tools that would", "start": 3581.359, "duration": 4.96}, {"text": "automate and do this for you when it", "start": 3583.68, "duration": 5.679}, {"text": "comes to direct tools we can use suits", "start": 3586.319, "duration": 7.841}, {"text": "such as recon ng the harvester fears to", "start": 3589.359, "duration": 7.041}, {"text": "get subdomain names and a whole bunch of", "start": 3594.16, "duration": 4.0}, {"text": "other tools", "start": 3596.4, "duration": 4.0}, {"text": "so the next activity", "start": 3598.16, "duration": 5.919}, {"text": "as red team is we would carry out is", "start": 3600.4, "duration": 6.719}, {"text": "getting our attack infrastructure", "start": 3604.079, "duration": 7.76}, {"text": "ready for us the mitre attack framework", "start": 3607.119, "duration": 7.841}, {"text": "id i can associate with building", "start": 3611.839, "duration": 4.561}, {"text": "infrastructure", "start": 3614.96, "duration": 6.04}, {"text": "is the id ta0042", "start": 3616.4, "duration": 4.6}, {"text": "and that is a resource development which", "start": 3622.079, "duration": 4.801}, {"text": "consists of techniques", "start": 3624.96, "duration": 5.359}, {"text": "that involve adversaries creating", "start": 3626.88, "duration": 4.8}, {"text": "purchasing", "start": 3630.319, "duration": 3.121}, {"text": "or compromising", "start": 3631.68, "duration": 4.399}, {"text": "resources that can be used to support", "start": 3633.44, "duration": 5.919}, {"text": "targeting essentially everything that", "start": 3636.079, "duration": 5.201}, {"text": "attackers do", "start": 3639.359, "duration": 3.281}, {"text": "to provide", "start": 3641.28, "duration": 5.44}, {"text": "or stand up infrastructure for any", "start": 3642.64, "duration": 8.0}, {"text": "operation is what this is defining as", "start": 3646.72, "duration": 4.72}, {"text": "the", "start": 3650.64, "duration": 2.88}, {"text": "resource development", "start": 3651.44, "duration": 5.359}, {"text": "this is essentially where the team tries", "start": 3653.52, "duration": 5.76}, {"text": "to or has to build", "start": 3656.799, "duration": 6.081}, {"text": "a c2 infrastructure or the command and", "start": 3659.28, "duration": 4.72}, {"text": "control", "start": 3662.88, "duration": 2.56}, {"text": "to help them", "start": 3664.0, "duration": 2.319}, {"text": "to", "start": 3665.44, "duration": 4.639}, {"text": "constantly persist on the network we", "start": 3666.319, "duration": 5.601}, {"text": "want to make sure that once we have", "start": 3670.079, "duration": 4.561}, {"text": "compromised an organization it makes a", "start": 3671.92, "duration": 5.12}, {"text": "call back to a server", "start": 3674.64, "duration": 6.0}, {"text": "or a group of servers that we control so", "start": 3677.04, "duration": 6.16}, {"text": "we can control that", "start": 3680.64, "duration": 6.159}, {"text": "victim machine we do implement of course", "start": 3683.2, "duration": 6.0}, {"text": "various techniques because the blue", "start": 3686.799, "duration": 5.76}, {"text": "teamers are getting better at detecting", "start": 3689.2, "duration": 5.44}, {"text": "some of these attacks so we want to make", "start": 3692.559, "duration": 4.321}, {"text": "sure that as we are going into this", "start": 3694.64, "duration": 4.4}, {"text": "fight we want to make sure that it is", "start": 3696.88, "duration": 4.64}, {"text": "not going to blow up in our face right", "start": 3699.04, "duration": 5.36}, {"text": "so as a red teamer you want to make sure", "start": 3701.52, "duration": 6.16}, {"text": "that your c2 infrastructure is not", "start": 3704.4, "duration": 5.12}, {"text": "easily detectable", "start": 3707.68, "duration": 4.32}, {"text": "leading you to burning all the hard work", "start": 3709.52, "duration": 5.12}, {"text": "we have put in so we want to ensure we", "start": 3712.0, "duration": 6.0}, {"text": "have built in resiliency into our c2", "start": 3714.64, "duration": 4.8}, {"text": "infrastructure", "start": 3718.0, "duration": 4.079}, {"text": "similar to how the real world", "start": 3719.44, "duration": 5.28}, {"text": "adversaries will build their environment", "start": 3722.079, "duration": 7.121}, {"text": "to evade detection by the victim or the", "start": 3724.72, "duration": 6.079}, {"text": "blue teamers", "start": 3729.2, "duration": 3.52}, {"text": "so let's take a quick look at some of", "start": 3730.799, "duration": 4.32}, {"text": "the things that we go through as red", "start": 3732.72, "duration": 4.399}, {"text": "teamers when we're preparing to build", "start": 3735.119, "duration": 5.121}, {"text": "our infrastructure we have to purchase", "start": 3737.119, "duration": 6.0}, {"text": "some servers i have used providers such", "start": 3740.24, "duration": 4.48}, {"text": "as amazon", "start": 3743.119, "duration": 4.801}, {"text": "microsoft azure to buy", "start": 3744.72, "duration": 6.16}, {"text": "servers that will be using to host our", "start": 3747.92, "duration": 5.199}, {"text": "our c2 infrastructure", "start": 3750.88, "duration": 4.479}, {"text": "one thing you want to also take into", "start": 3753.119, "duration": 4.24}, {"text": "consideration is you might want to", "start": 3755.359, "duration": 4.48}, {"text": "spread out your servers you don't want", "start": 3757.359, "duration": 5.041}, {"text": "to have all of your infrastructure on", "start": 3759.839, "duration": 3.681}, {"text": "the same", "start": 3762.4, "duration": 4.48}, {"text": "vps you know network or provider so you", "start": 3763.52, "duration": 6.16}, {"text": "may have a little bit of service running", "start": 3766.88, "duration": 4.239}, {"text": "on azure", "start": 3769.68, "duration": 5.439}, {"text": "some running on amazon ec2 first and um", "start": 3771.119, "duration": 6.561}, {"text": "that also helps that if you get burnt or", "start": 3775.119, "duration": 5.521}, {"text": "detected on one provider at least you", "start": 3777.68, "duration": 4.639}, {"text": "have other providers that you can be", "start": 3780.64, "duration": 4.56}, {"text": "providing or running your service from", "start": 3782.319, "duration": 5.52}, {"text": "another thing we also do here is buying", "start": 3785.2, "duration": 6.0}, {"text": "domain names that also come with its own", "start": 3787.839, "duration": 6.0}, {"text": "challenges depending on the scope of the", "start": 3791.2, "duration": 5.119}, {"text": "engagement we can also set up mail", "start": 3793.839, "duration": 3.601}, {"text": "servers", "start": 3796.319, "duration": 3.52}, {"text": "we look into some phishing campaigns", "start": 3797.44, "duration": 4.32}, {"text": "that we want to carry out against the", "start": 3799.839, "duration": 4.561}, {"text": "organization one of my phishing campaign", "start": 3801.76, "duration": 4.72}, {"text": "was i did i discovered during my", "start": 3804.4, "duration": 5.04}, {"text": "reconnaissance on one operation", "start": 3806.48, "duration": 6.4}, {"text": "that the client was about to stand up a", "start": 3809.44, "duration": 4.639}, {"text": "new", "start": 3812.88, "duration": 4.32}, {"text": "human resource platform and instead of", "start": 3814.079, "duration": 5.76}, {"text": "making this known internally they", "start": 3817.2, "duration": 4.96}, {"text": "provided such information on their", "start": 3819.839, "duration": 5.52}, {"text": "website public website so i discovered", "start": 3822.16, "duration": 5.439}, {"text": "the name and everything about this new", "start": 3825.359, "duration": 4.881}, {"text": "deployment which i was able to use that", "start": 3827.599, "duration": 5.121}, {"text": "you know craft my fishing campaign so we", "start": 3830.24, "duration": 5.68}, {"text": "do a research here to find what we can", "start": 3832.72, "duration": 5.92}, {"text": "use to craft our phishing campaign", "start": 3835.92, "duration": 4.96}, {"text": "we also want to look at the c2", "start": 3838.64, "duration": 5.04}, {"text": "frameworks and tools we are going to end", "start": 3840.88, "duration": 5.679}, {"text": "up using are we going to use custom-made", "start": 3843.68, "duration": 6.24}, {"text": "or open source tools such as metasploits", "start": 3846.559, "duration": 6.961}, {"text": "covenants cobalt strike homegrown", "start": 3849.92, "duration": 6.56}, {"text": "c2 framework and then once we have done", "start": 3853.52, "duration": 5.36}, {"text": "all this homework now comes down to", "start": 3856.48, "duration": 5.44}, {"text": "building the infrastructure and building", "start": 3858.88, "duration": 6.08}, {"text": "resiliency into it so some of the", "start": 3861.92, "duration": 5.76}, {"text": "techniques we want to consider", "start": 3864.96, "duration": 6.48}, {"text": "are great directors domain frontend", "start": 3867.68, "duration": 6.8}, {"text": "web categorization and when it comes to", "start": 3871.44, "duration": 5.359}, {"text": "smtp servers", "start": 3874.48, "duration": 4.8}, {"text": "configurations such as spf", "start": 3876.799, "duration": 7.681}, {"text": "dkim or dmoc to make our servers or our", "start": 3879.28, "duration": 7.759}, {"text": "phishing campaign not ending up in a", "start": 3884.48, "duration": 5.2}, {"text": "spam folder every director or", "start": 3887.039, "duration": 5.921}, {"text": "redirectors are servers that kind of", "start": 3889.68, "duration": 7.119}, {"text": "play the metal man road so what happens", "start": 3892.96, "duration": 6.879}, {"text": "is the assistance we place behind our", "start": 3896.799, "duration": 6.0}, {"text": "actual c2 servers and the reason why we", "start": 3899.839, "duration": 5.121}, {"text": "want to do that is it served as a", "start": 3902.799, "duration": 5.201}, {"text": "middleman so that when the victim is", "start": 3904.96, "duration": 6.24}, {"text": "communicating our c2 servers it doesn't", "start": 3908.0, "duration": 6.96}, {"text": "all they don't directly talk to our c2", "start": 3911.2, "duration": 6.32}, {"text": "servers but they go through", "start": 3914.96, "duration": 5.599}, {"text": "another service in between or in the", "start": 3917.52, "duration": 6.079}, {"text": "middle and this helps in hiding", "start": 3920.559, "duration": 7.201}, {"text": "our c2 servers from being discovered by", "start": 3923.599, "duration": 8.24}, {"text": "the blue teamers it is easier to spin up", "start": 3927.76, "duration": 7.52}, {"text": "a new redirector than a new c2", "start": 3931.839, "duration": 4.881}, {"text": "infrastructure", "start": 3935.28, "duration": 3.92}, {"text": "so to save yourself from rebuilding a", "start": 3936.72, "duration": 3.359}, {"text": "whole", "start": 3939.2, "duration": 4.399}, {"text": "c2 service it is normally best to have", "start": 3940.079, "duration": 5.841}, {"text": "great directors so just in case you get", "start": 3943.599, "duration": 5.681}, {"text": "discovered or get burned you can always", "start": 3945.92, "duration": 6.56}, {"text": "creep up a new redirector and then put", "start": 3949.28, "duration": 7.12}, {"text": "it in place or before your c2 server", "start": 3952.48, "duration": 6.48}, {"text": "and we can also have redirected based on", "start": 3956.4, "duration": 6.08}, {"text": "rows or types so we can put one in front", "start": 3958.96, "duration": 7.119}, {"text": "of our smtp server we can have one for", "start": 3962.48, "duration": 6.72}, {"text": "payloads which will be placed before our", "start": 3966.079, "duration": 5.121}, {"text": "payload servers", "start": 3969.2, "duration": 4.48}, {"text": "so let's take a quick look at an example", "start": 3971.2, "duration": 4.24}, {"text": "that i borrowed from the red team", "start": 3973.68, "duration": 5.76}, {"text": "infrastructure wiki on github the down", "start": 3975.44, "duration": 7.119}, {"text": "here is what we call the c2 servers the", "start": 3979.44, "duration": 4.96}, {"text": "middle here are what we call the", "start": 3982.559, "duration": 5.441}, {"text": "redirectors so these are hiding behind", "start": 3984.4, "duration": 5.04}, {"text": "these servers", "start": 3988.0, "duration": 5.599}, {"text": "so when our victims are accessing our", "start": 3989.44, "duration": 7.04}, {"text": "payloads or communicating through these", "start": 3993.599, "duration": 4.0}, {"text": "domains", "start": 3996.48, "duration": 4.48}, {"text": "they're not even directly getting to our", "start": 3997.599, "duration": 5.52}, {"text": "back end c2 servers", "start": 4000.96, "duration": 4.32}, {"text": "they're coming through this these", "start": 4003.119, "duration": 4.641}, {"text": "redirectors so what happens is when the", "start": 4005.28, "duration": 5.68}, {"text": "blue teamers even discover our operation", "start": 4007.76, "duration": 6.079}, {"text": "and they want to trace it down to", "start": 4010.96, "duration": 5.119}, {"text": "the server that has been communicating", "start": 4013.839, "duration": 4.401}, {"text": "with the victims machine they are not", "start": 4016.079, "duration": 5.76}, {"text": "going to see our actual c2 servers they", "start": 4018.24, "duration": 6.559}, {"text": "would actually see the these redirectors", "start": 4021.839, "duration": 5.841}, {"text": "and might blacklist us but that is okay", "start": 4024.799, "duration": 5.76}, {"text": "because we can always creep up a new", "start": 4027.68, "duration": 4.159}, {"text": "redirector", "start": 4030.559, "duration": 5.52}, {"text": "very easily than building a whole new c2", "start": 4031.839, "duration": 5.601}, {"text": "server", "start": 4036.079, "duration": 3.52}, {"text": "let's take a quick look at a very simple", "start": 4037.44, "duration": 4.8}, {"text": "one as well so let's say", "start": 4039.599, "duration": 5.121}, {"text": "this is us right here we have our", "start": 4042.24, "duration": 4.96}, {"text": "command and control server running", "start": 4044.72, "duration": 4.96}, {"text": "we are directing operators here one and", "start": 4047.2, "duration": 5.119}, {"text": "two we have our victim machine right", "start": 4049.68, "duration": 5.2}, {"text": "here and then what is going to happen is", "start": 4052.319, "duration": 7.121}, {"text": "our c2 server is hiding behind these two", "start": 4054.88, "duration": 7.36}, {"text": "grid directors and these are providing a", "start": 4059.44, "duration": 7.44}, {"text": "redirection through https protocol so", "start": 4062.24, "duration": 7.119}, {"text": "let's say the server or the vectors", "start": 4066.88, "duration": 5.36}, {"text": "machine who is trying to communicate", "start": 4069.359, "duration": 5.601}, {"text": "with our c2 server right here wouldn't", "start": 4072.24, "duration": 5.28}, {"text": "do that directly like that", "start": 4074.96, "duration": 4.56}, {"text": "how you know but they have to go through", "start": 4077.52, "duration": 4.64}, {"text": "these two redirectors one", "start": 4079.52, "duration": 6.319}, {"text": "and redirect two before it hits us so", "start": 4082.16, "duration": 6.639}, {"text": "should the blue teams discover our", "start": 4085.839, "duration": 4.96}, {"text": "traffic and they want to find the", "start": 4088.799, "duration": 4.32}, {"text": "destination ip address or the", "start": 4090.799, "duration": 4.961}, {"text": "destination domain names they would only", "start": 4093.119, "duration": 6.801}, {"text": "see this domain 1 and domain 2 and not", "start": 4095.76, "duration": 8.24}, {"text": "our c2 server", "start": 4099.92, "duration": 6.319}, {"text": "i have designed just", "start": 4104.0, "duration": 4.239}, {"text": "very simple", "start": 4106.239, "duration": 4.401}, {"text": "scenario which is what we are going to", "start": 4108.239, "duration": 4.721}, {"text": "use to build our", "start": 4110.64, "duration": 3.599}, {"text": "internal", "start": 4112.96, "duration": 5.199}, {"text": "rate director or infrastructure by", "start": 4114.239, "duration": 6.48}, {"text": "applying these concepts in a demo", "start": 4118.159, "duration": 5.761}, {"text": "environment this is how i have mine set", "start": 4120.719, "duration": 6.56}, {"text": "up for this particular course so i have", "start": 4123.92, "duration": 6.64}, {"text": "my kali linux running and i'm going to", "start": 4127.279, "duration": 5.92}, {"text": "run covenant c2", "start": 4130.56, "duration": 4.719}, {"text": "server on that", "start": 4133.199, "duration": 4.321}, {"text": "i have every director", "start": 4135.279, "duration": 4.56}, {"text": "running ubuntu", "start": 4137.52, "duration": 5.04}, {"text": "okay providing http redirector", "start": 4139.839, "duration": 4.48}, {"text": "and then i'm running", "start": 4142.56, "duration": 5.279}, {"text": "a dns server on an ubuntu server as well", "start": 4144.319, "duration": 7.121}, {"text": "providing dns resolution for both the", "start": 4147.839, "duration": 6.4}, {"text": "redirector the victims machine", "start": 4151.44, "duration": 5.12}, {"text": "and my kali machine", "start": 4154.239, "duration": 3.04}, {"text": "so", "start": 4156.56, "duration": 3.119}, {"text": "the scenario here is", "start": 4157.279, "duration": 5.361}, {"text": "we are the red team operators we have", "start": 4159.679, "duration": 6.16}, {"text": "our machine on a different network let's", "start": 4162.64, "duration": 5.44}, {"text": "say over the internet", "start": 4165.839, "duration": 3.92}, {"text": "we purchase", "start": 4168.08, "duration": 3.52}, {"text": "an ubuntu server", "start": 4169.759, "duration": 4.56}, {"text": "and also have purchase your domain name", "start": 4171.6, "duration": 6.4}, {"text": "you can now have it on dns provider such", "start": 4174.319, "duration": 7.36}, {"text": "as namecheap so in this case my ubuntu", "start": 4178.0, "duration": 6.64}, {"text": "what's running powerdns on my lab is", "start": 4181.679, "duration": 6.16}, {"text": "going to serve as a global dns provider", "start": 4184.64, "duration": 5.36}, {"text": "and then what is going to happen is we", "start": 4187.839, "duration": 5.52}, {"text": "have our victim that when we make", "start": 4190.0, "duration": 5.52}, {"text": "we may have compromised and it tries to", "start": 4193.359, "duration": 4.481}, {"text": "make a communication to us", "start": 4195.52, "duration": 5.52}, {"text": "instead of going to us directly on our", "start": 4197.84, "duration": 6.56}, {"text": "covenant the blue teamers would only see", "start": 4201.04, "duration": 6.159}, {"text": "the domain name or the ip address of", "start": 4204.4, "duration": 4.799}, {"text": "this ubuntu because it is going to", "start": 4207.199, "duration": 5.201}, {"text": "redirect the traffic from the victim all", "start": 4209.199, "duration": 7.04}, {"text": "the way down to our kali linux or our", "start": 4212.4, "duration": 5.839}, {"text": "covenant machine", "start": 4216.239, "duration": 5.601}, {"text": "let us jump onto this demo", "start": 4218.239, "duration": 6.561}, {"text": "and then demonstrate how i have this", "start": 4221.84, "duration": 4.56}, {"text": "redirector", "start": 4224.8, "duration": 6.48}, {"text": "set up for my covenant c2 infrastructure", "start": 4226.4, "duration": 8.16}, {"text": "so this is the dashboard for the", "start": 4231.28, "duration": 5.84}, {"text": "power dns", "start": 4234.56, "duration": 7.08}, {"text": "the http dns.wakanda.cd", "start": 4237.12, "duration": 4.52}, {"text": "resolves to", "start": 4241.84, "duration": 3.52}, {"text": "10.20", "start": 4243.36, "duration": 2.68}, {"text": "on", "start": 4245.36, "duration": 2.319}, {"text": "30.11", "start": 4246.04, "duration": 6.119}, {"text": "and it serves as the global dns server", "start": 4247.679, "duration": 7.121}, {"text": "so the scenario here is we have", "start": 4252.159, "duration": 5.681}, {"text": "purchased as attackers we have purchased", "start": 4254.8, "duration": 5.52}, {"text": "two domain names", "start": 4257.84, "duration": 4.399}, {"text": "the evo.com", "start": 4260.32, "duration": 3.52}, {"text": "which is going to run", "start": 4262.239, "duration": 5.681}, {"text": "all of our operations from our c2 server", "start": 4263.84, "duration": 6.319}, {"text": "which in this case is going to be our", "start": 4267.92, "duration": 5.52}, {"text": "kali linux running the covenant c2", "start": 4270.159, "duration": 4.401}, {"text": "server", "start": 4273.44, "duration": 4.16}, {"text": "and then we also have the good.com which", "start": 4274.56, "duration": 6.24}, {"text": "is going to be our rate director's", "start": 4277.6, "duration": 4.8}, {"text": "domain name", "start": 4280.8, "duration": 2.399}, {"text": "the", "start": 4282.4, "duration": 5.2}, {"text": "simulation here is we go into the global", "start": 4283.199, "duration": 7.361}, {"text": "dns server and then begin to make some", "start": 4287.6, "duration": 4.0}, {"text": "entries", "start": 4290.56, "duration": 4.52}, {"text": "so in this case let's say we have the", "start": 4291.6, "duration": 6.88}, {"text": "evo.com which we have purchased as the", "start": 4295.08, "duration": 6.44}, {"text": "offensive operators and then we go in", "start": 4298.48, "duration": 6.4}, {"text": "and we make various entries in this case", "start": 4301.52, "duration": 4.4}, {"text": "we made", "start": 4304.88, "duration": 1.839}, {"text": "an", "start": 4305.92, "duration": 2.799}, {"text": "a record entry", "start": 4306.719, "duration": 6.52}, {"text": "for the hostname rail.evo.com", "start": 4308.719, "duration": 4.52}, {"text": "which maps to", "start": 4313.76, "duration": 6.36}, {"text": "or resolves to 10.0.0.10", "start": 4315.52, "duration": 4.6}, {"text": "which is our kali linux ip address so if", "start": 4321.84, "duration": 6.72}, {"text": "i bring up the terminal you will see", "start": 4326.4, "duration": 5.04}, {"text": "that the ip address", "start": 4328.56, "duration": 5.679}, {"text": "for our kali which will end up running", "start": 4331.44, "duration": 4.16}, {"text": "our", "start": 4334.239, "duration": 4.881}, {"text": "covenant c2 runs on this ip address", "start": 4335.6, "duration": 6.48}, {"text": "so now let's go back now if we go back", "start": 4339.12, "duration": 6.079}, {"text": "to our raid director what is going to", "start": 4342.08, "duration": 5.52}, {"text": "serve as the good.com", "start": 4345.199, "duration": 5.121}, {"text": "if you look we made an entry again i", "start": 4347.6, "duration": 5.76}, {"text": "have multiple entries but the real one", "start": 4350.32, "duration": 5.6}, {"text": "which will be using for or the victim", "start": 4353.36, "duration": 6.879}, {"text": "will see is going to be rail.good.com", "start": 4355.92, "duration": 7.6}, {"text": "and if you look that maps to a different", "start": 4360.239, "duration": 7.121}, {"text": "ip address so this is how our dns is", "start": 4363.52, "duration": 7.28}, {"text": "going to help us set up the rest of our", "start": 4367.36, "duration": 4.879}, {"text": "infrastructure", "start": 4370.8, "duration": 4.64}, {"text": "now that we have configured our dns", "start": 4372.239, "duration": 4.321}, {"text": "entries", "start": 4375.44, "duration": 3.68}, {"text": "let's move on to the", "start": 4376.56, "duration": 4.96}, {"text": "covenant c2", "start": 4379.12, "duration": 5.599}, {"text": "framework and set up certain things", "start": 4381.52, "duration": 5.6}, {"text": "the first thing we want to do is we are", "start": 4384.719, "duration": 5.361}, {"text": "going to create a listener and we create", "start": 4387.12, "duration": 6.32}, {"text": "two of these one will be the default", "start": 4390.08, "duration": 5.28}, {"text": "which is going to", "start": 4393.44, "duration": 5.48}, {"text": "map to our", "start": 4395.36, "duration": 5.6}, {"text": "rail.evo.com domain", "start": 4398.92, "duration": 5.319}, {"text": "and another one on the rail.good", "start": 4400.96, "duration": 5.04}, {"text": "domain which will serve as a red", "start": 4404.239, "duration": 5.521}, {"text": "director so let's click on create", "start": 4406.0, "duration": 7.28}, {"text": "and i am going to name this", "start": 4409.76, "duration": 5.84}, {"text": "as good", "start": 4413.28, "duration": 6.16}, {"text": "and i am going to bind it to our ip", "start": 4415.6, "duration": 6.32}, {"text": "address", "start": 4419.44, "duration": 2.48}, {"text": "we will leave the port number as it is", "start": 4422.239, "duration": 5.0}, {"text": "and", "start": 4427.6, "duration": 4.559}, {"text": "this is going to the connection we are", "start": 4429.36, "duration": 4.56}, {"text": "going to use the", "start": 4432.159, "duration": 4.761}, {"text": "rail.good.com", "start": 4433.92, "duration": 3.0}, {"text": "for", "start": 4438.48, "duration": 2.96}, {"text": "our rate director", "start": 4439.44, "duration": 5.44}, {"text": "next we'll make a slight change on the", "start": 4441.44, "duration": 5.759}, {"text": "http profile", "start": 4444.88, "duration": 4.799}, {"text": "select the drop down and select the", "start": 4447.199, "duration": 3.601}, {"text": "custom", "start": 4449.679, "duration": 4.241}, {"text": "http profile and you would understand", "start": 4450.8, "duration": 4.48}, {"text": "why", "start": 4453.92, "duration": 2.319}, {"text": "in", "start": 4455.28, "duration": 3.84}, {"text": "the moment once selected we'll just", "start": 4456.239, "duration": 4.641}, {"text": "click on", "start": 4459.12, "duration": 4.48}, {"text": "create okay once that is done you should", "start": 4460.88, "duration": 5.12}, {"text": "see this pop-up right here that has been", "start": 4463.6, "duration": 3.599}, {"text": "created", "start": 4466.0, "duration": 4.159}, {"text": "let's go back and create one more for", "start": 4467.199, "duration": 4.721}, {"text": "our evo", "start": 4470.159, "duration": 6.08}, {"text": "which is our c2 infrastructure so evo", "start": 4471.92, "duration": 7.68}, {"text": "i'll map this to bind this to", "start": 4476.239, "duration": 4.601}, {"text": "this", "start": 4479.6, "duration": 5.2}, {"text": "interface and we'll call this as", "start": 4480.84, "duration": 6.6}, {"text": "rail.evo.com", "start": 4484.8, "duration": 5.919}, {"text": "and we'll keep that as a default http", "start": 4487.44, "duration": 6.32}, {"text": "profile and that will just create on", "start": 4490.719, "duration": 4.081}, {"text": "create", "start": 4493.76, "duration": 6.0}, {"text": "so let's go back if you realize we chose", "start": 4494.8, "duration": 8.64}, {"text": "a custom profile for this one right here", "start": 4499.76, "duration": 7.04}, {"text": "let's click on profiles", "start": 4503.44, "duration": 6.16}, {"text": "and what we're going to do is we are", "start": 4506.8, "duration": 4.879}, {"text": "going to customize", "start": 4509.6, "duration": 4.24}, {"text": "this particular one with some", "start": 4511.679, "duration": 5.921}, {"text": "information so that we can rate direct", "start": 4513.84, "duration": 7.6}, {"text": "we will use the apache proxy", "start": 4517.6, "duration": 7.76}, {"text": "feature to be able to redirect or proxy", "start": 4521.44, "duration": 7.44}, {"text": "our calls from this um", "start": 4525.36, "duration": 5.44}, {"text": "the good", "start": 4528.88, "duration": 4.88}, {"text": "the real dot good dot com", "start": 4530.8, "duration": 5.2}, {"text": "domain", "start": 4533.76, "duration": 4.88}, {"text": "so the inputs we are going to work with", "start": 4536.0, "duration": 5.28}, {"text": "are going to be just these three right", "start": 4538.64, "duration": 3.44}, {"text": "here", "start": 4541.28, "duration": 5.28}, {"text": "the uh the http urls are what we are", "start": 4542.08, "duration": 7.76}, {"text": "going to validate and then we are going", "start": 4546.56, "duration": 6.32}, {"text": "to do the exact thing on", "start": 4549.84, "duration": 6.8}, {"text": "configuring our redirect ubuntu server", "start": 4552.88, "duration": 7.12}, {"text": "so this should look okay", "start": 4556.64, "duration": 6.24}, {"text": "we can normally have more than", "start": 4560.0, "duration": 6.88}, {"text": "this but for the sake of this um demo", "start": 4562.88, "duration": 6.16}, {"text": "will stick with all you know just these", "start": 4566.88, "duration": 4.48}, {"text": "three entries you can always click on", "start": 4569.04, "duration": 6.32}, {"text": "add and then add another entry which a", "start": 4571.36, "duration": 7.12}, {"text": "user action depending on the action will", "start": 4575.36, "duration": 4.319}, {"text": "route", "start": 4578.48, "duration": 5.199}, {"text": "the traffic to that particular url", "start": 4579.679, "duration": 8.0}, {"text": "okay so keep this as it is", "start": 4583.679, "duration": 6.56}, {"text": "and everything else will be", "start": 4587.679, "duration": 5.441}, {"text": "as they are right now", "start": 4590.239, "duration": 5.681}, {"text": "so let's go back to listeners again", "start": 4593.12, "duration": 5.28}, {"text": "the next step is we're now going to log", "start": 4595.92, "duration": 4.72}, {"text": "into our", "start": 4598.4, "duration": 4.24}, {"text": "rail.good", "start": 4600.64, "duration": 4.88}, {"text": "server and make some configurations on", "start": 4602.64, "duration": 5.84}, {"text": "the apache side but in the meantime", "start": 4605.52, "duration": 6.24}, {"text": "why don't we try and then visit", "start": 4608.48, "duration": 6.08}, {"text": "rail.good.com", "start": 4611.76, "duration": 4.399}, {"text": "and see what happens", "start": 4614.56, "duration": 4.8}, {"text": "as you can see this will take us to the", "start": 4616.159, "duration": 6.721}, {"text": "landing page of apache 2.", "start": 4619.36, "duration": 7.6}, {"text": "so i am going to first of all log in", "start": 4622.88, "duration": 7.44}, {"text": "to that redirector let me back off so", "start": 4626.96, "duration": 6.56}, {"text": "you can see the ip address of this box", "start": 4630.32, "duration": 4.8}, {"text": "which", "start": 4633.52, "duration": 3.199}, {"text": "should map to", "start": 4635.12, "duration": 4.4}, {"text": "our redirect server", "start": 4636.719, "duration": 4.161}, {"text": "and", "start": 4639.52, "duration": 4.4}, {"text": "let's get into a location where we can", "start": 4640.88, "duration": 5.92}, {"text": "make some updates i have already", "start": 4643.92, "duration": 4.88}, {"text": "gone ahead to", "start": 4646.8, "duration": 4.64}, {"text": "make the necessary entries", "start": 4648.8, "duration": 5.2}, {"text": "which would help us in redirecting our", "start": 4651.44, "duration": 3.6}, {"text": "traffic", "start": 4654.0, "duration": 3.92}, {"text": "through this particular server which is", "start": 4655.04, "duration": 6.36}, {"text": "the rail.good.com", "start": 4657.92, "duration": 3.48}, {"text": "running on 10.2", "start": 4661.6, "duration": 4.119}, {"text": "so let's go through line by line and", "start": 4666.239, "duration": 5.601}, {"text": "then look at what is happening here", "start": 4669.28, "duration": 6.24}, {"text": "so first of all we make an entry to turn", "start": 4671.84, "duration": 5.12}, {"text": "off the", "start": 4675.52, "duration": 3.36}, {"text": "default proxy", "start": 4676.96, "duration": 4.96}, {"text": "uh you know processing within the apache", "start": 4678.88, "duration": 6.96}, {"text": "server and then we can provide our own", "start": 4681.92, "duration": 6.08}, {"text": "if you take a closer look", "start": 4685.84, "duration": 4.24}, {"text": "um the rest of them are just a", "start": 4688.0, "duration": 5.6}, {"text": "repetition the of the first two entries", "start": 4690.08, "duration": 6.32}, {"text": "the first one is a proxy pass", "start": 4693.6, "duration": 5.52}, {"text": "essentially what we're saying here is if", "start": 4696.4, "duration": 4.72}, {"text": "you go back to the", "start": 4699.12, "duration": 5.2}, {"text": "covenant c2 infrastructure when we did", "start": 4701.12, "duration": 6.559}, {"text": "the custom http profile", "start": 4704.32, "duration": 5.28}, {"text": "this is the entry we have for the first", "start": 4707.679, "duration": 5.441}, {"text": "one and what we're saying is any request", "start": 4709.6, "duration": 6.8}, {"text": "for that particular uri should go", "start": 4713.12, "duration": 4.32}, {"text": "through", "start": 4716.4, "duration": 2.0}, {"text": "our", "start": 4717.44, "duration": 3.08}, {"text": "rail", "start": 4718.4, "duration": 5.759}, {"text": "rail.evo.com server which is the c2", "start": 4720.52, "duration": 6.92}, {"text": "infrastructure itself or the covenant", "start": 4724.159, "duration": 5.841}, {"text": "and the same way should be for the", "start": 4727.44, "duration": 4.4}, {"text": "reverse so", "start": 4730.0, "duration": 5.92}, {"text": "um this one is the entry for the past um", "start": 4731.84, "duration": 7.2}, {"text": "the proxy pass and then this is a proxy", "start": 4735.92, "duration": 4.64}, {"text": "pass reverse", "start": 4739.04, "duration": 4.88}, {"text": "for the index.html", "start": 4740.56, "duration": 8.72}, {"text": "the same is repeated for both docs.h", "start": 4743.92, "duration": 6.36}, {"text": "and then", "start": 4749.28, "duration": 5.28}, {"text": "test.html you can make as many entries", "start": 4750.28, "duration": 6.919}, {"text": "as you want but for the purpose of this", "start": 4754.56, "duration": 3.76}, {"text": "demo", "start": 4757.199, "duration": 3.841}, {"text": "i restricted myself to only this few", "start": 4758.32, "duration": 6.56}, {"text": "entries and also the default entries we", "start": 4761.04, "duration": 5.44}, {"text": "have in", "start": 4764.88, "duration": 3.04}, {"text": "covenants", "start": 4766.48, "duration": 4.16}, {"text": "so once we have this entry done and then", "start": 4767.92, "duration": 4.88}, {"text": "we save it the next thing you want to", "start": 4770.64, "duration": 6.079}, {"text": "make sure is to at least to restart your", "start": 4772.8, "duration": 6.72}, {"text": "apache in this in my case i already have", "start": 4776.719, "duration": 6.161}, {"text": "it started but how can we check the", "start": 4779.52, "duration": 6.0}, {"text": "status right we can always type", "start": 4782.88, "duration": 4.48}, {"text": "sudo", "start": 4785.52, "duration": 3.32}, {"text": "system", "start": 4787.36, "duration": 6.0}, {"text": "ctl and then status", "start": 4788.84, "duration": 4.52}, {"text": "apache", "start": 4793.6, "duration": 2.8}, {"text": "2", "start": 4795.199, "duration": 2.801}, {"text": "dot service", "start": 4796.4, "duration": 4.16}, {"text": "and just to confirm that", "start": 4798.0, "duration": 6.32}, {"text": "our apache server is running okay once", "start": 4800.56, "duration": 7.04}, {"text": "we have this up and running as active we", "start": 4804.32, "duration": 6.96}, {"text": "should be gucci so to test this setup", "start": 4807.6, "duration": 4.48}, {"text": "out", "start": 4811.28, "duration": 2.959}, {"text": "we are going to create", "start": 4812.08, "duration": 3.36}, {"text": "a payload", "start": 4814.239, "duration": 4.321}, {"text": "and then run it on our victims machine", "start": 4815.44, "duration": 4.08}, {"text": "and", "start": 4818.56, "duration": 2.96}, {"text": "do some analysis and see where the", "start": 4819.52, "duration": 3.6}, {"text": "traffic is coming from", "start": 4821.52, "duration": 5.119}, {"text": "and also how we may have been able to", "start": 4823.12, "duration": 6.64}, {"text": "evade the blue team detection we head", "start": 4826.639, "duration": 4.201}, {"text": "over to", "start": 4829.76, "duration": 4.32}, {"text": "launchers and here we have a couple of", "start": 4830.84, "duration": 5.48}, {"text": "options here to run our payload we can", "start": 4834.08, "duration": 5.52}, {"text": "run our payload depend using the install", "start": 4836.32, "duration": 4.48}, {"text": "util", "start": 4839.6, "duration": 4.559}, {"text": "ms build powershell shellcode all the", "start": 4840.8, "duration": 4.8}, {"text": "way down to", "start": 4844.159, "duration": 3.201}, {"text": "w script", "start": 4845.6, "duration": 4.639}, {"text": "in this case let's just use one of these", "start": 4847.36, "duration": 5.839}, {"text": "most easiest one the binary we just want", "start": 4850.239, "duration": 6.161}, {"text": "to test out and see if our redirector is", "start": 4853.199, "duration": 4.161}, {"text": "working", "start": 4856.4, "duration": 3.52}, {"text": "so once we click on that it is going to", "start": 4857.36, "duration": 5.04}, {"text": "give us an option to select which", "start": 4859.92, "duration": 5.2}, {"text": "listener in this case because we have", "start": 4862.4, "duration": 4.68}, {"text": "the good and the", "start": 4865.12, "duration": 4.16}, {"text": "real.good.com running", "start": 4867.08, "duration": 5.32}, {"text": "that one is already pre-selected", "start": 4869.28, "duration": 5.2}, {"text": "now one thing tool that you may come", "start": 4872.4, "duration": 5.6}, {"text": "across is the version of dot net might", "start": 4874.48, "duration": 6.239}, {"text": "interfere the execution of your payload", "start": 4878.0, "duration": 4.4}, {"text": "if you don't select the right one so in", "start": 4880.719, "duration": 5.041}, {"text": "this case i found out that on windows 10", "start": 4882.4, "duration": 5.759}, {"text": "um for some reason i have to select the", "start": 4885.76, "duration": 3.52}, {"text": "net", "start": 4888.159, "duration": 5.121}, {"text": "for zero to get a payload to execute or", "start": 4889.28, "duration": 6.0}, {"text": "work on a victim's machine", "start": 4893.28, "duration": 4.72}, {"text": "everything else here can remain the same", "start": 4895.28, "duration": 5.12}, {"text": "and we just click on generate to", "start": 4898.0, "duration": 4.96}, {"text": "generate our payload and within few", "start": 4900.4, "duration": 6.08}, {"text": "seconds we should have the grant http", "start": 4902.96, "duration": 4.32}, {"text": "dot", "start": 4906.48, "duration": 1.92}, {"text": "exe", "start": 4907.28, "duration": 2.08}, {"text": "being", "start": 4908.4, "duration": 2.319}, {"text": "given to us", "start": 4909.36, "duration": 3.76}, {"text": "what we can do is now we can take this", "start": 4910.719, "duration": 5.281}, {"text": "executable and then run it on our victim", "start": 4913.12, "duration": 5.84}, {"text": "or we can host it and then download from", "start": 4916.0, "duration": 4.96}, {"text": "the business machine either through a", "start": 4918.96, "duration": 4.4}, {"text": "powershell or through the browser so", "start": 4920.96, "duration": 4.88}, {"text": "let's head over to host and click on", "start": 4923.36, "duration": 3.279}, {"text": "that", "start": 4925.84, "duration": 3.6}, {"text": "and the name is already here we need to", "start": 4926.639, "duration": 5.6}, {"text": "provide a path so what i'll do is we can", "start": 4929.44, "duration": 4.56}, {"text": "delete the entire", "start": 4932.239, "duration": 2.801}, {"text": "path", "start": 4934.0, "duration": 3.36}, {"text": "and then just give it a very simple and", "start": 4935.04, "duration": 3.88}, {"text": "short name", "start": 4937.36, "duration": 4.0}, {"text": "gt.exe should be okay", "start": 4938.92, "duration": 5.56}, {"text": "and we'll just click on host", "start": 4941.36, "duration": 5.44}, {"text": "and what would happen is now it has", "start": 4944.48, "duration": 3.92}, {"text": "changed the name to", "start": 4946.8, "duration": 3.28}, {"text": "gt.exe", "start": 4948.4, "duration": 2.96}, {"text": "for us", "start": 4950.08, "duration": 4.159}, {"text": "so let's head over and then play the", "start": 4951.36, "duration": 5.76}, {"text": "role of a victim who is going to", "start": 4954.239, "duration": 5.361}, {"text": "download this payload and then run it on", "start": 4957.12, "duration": 5.519}, {"text": "the machine and then see if we can get a", "start": 4959.6, "duration": 5.84}, {"text": "connection back to our c2 server and", "start": 4962.639, "duration": 3.841}, {"text": "also", "start": 4965.44, "duration": 3.68}, {"text": "what are we leaving behind if someone is", "start": 4966.48, "duration": 6.4}, {"text": "doing any analysis of the traffic so i'm", "start": 4969.12, "duration": 6.24}, {"text": "on a box called", "start": 4972.88, "duration": 4.72}, {"text": "killmonger", "start": 4975.36, "duration": 6.319}, {"text": "and i am authenticated as the user and", "start": 4977.6, "duration": 6.4}, {"text": "mandela okay we can either browse", "start": 4981.679, "duration": 4.881}, {"text": "through the browser or we can use the", "start": 4984.0, "duration": 5.76}, {"text": "command line from powershell to download", "start": 4986.56, "duration": 6.639}, {"text": "this um executable or the payload and", "start": 4989.76, "duration": 6.64}, {"text": "then that should download that into the", "start": 4993.199, "duration": 6.96}, {"text": "directory of the user so if i do dr we", "start": 4996.4, "duration": 5.839}, {"text": "should have it right here", "start": 5000.159, "duration": 5.761}, {"text": "okay so now let's play the victim's role", "start": 5002.239, "duration": 6.721}, {"text": "of running this payload now before we do", "start": 5005.92, "duration": 5.68}, {"text": "that let's do a quick", "start": 5008.96, "duration": 4.88}, {"text": "net stat and then look at any", "start": 5011.6, "duration": 4.48}, {"text": "connections we have on a network all", "start": 5013.84, "duration": 4.64}, {"text": "right so if we do netstat", "start": 5016.08, "duration": 4.159}, {"text": "dash a and t", "start": 5018.48, "duration": 4.159}, {"text": "and that should give us an established", "start": 5020.239, "duration": 4.641}, {"text": "connection already the only two we have", "start": 5022.639, "duration": 3.04}, {"text": "here", "start": 5024.88, "duration": 4.56}, {"text": "are these two okay and the reason why", "start": 5025.679, "duration": 6.641}, {"text": "these are showing the ip address of the", "start": 5029.44, "duration": 4.32}, {"text": "actual", "start": 5032.32, "duration": 4.08}, {"text": "kali machine is because i made a direct", "start": 5033.76, "duration": 5.04}, {"text": "connection so this one if you look it's", "start": 5036.4, "duration": 5.759}, {"text": "an rdp that i did from the cali to the", "start": 5038.8, "duration": 6.56}, {"text": "victims machine and also this is when we", "start": 5042.159, "duration": 5.841}, {"text": "did the actual download from", "start": 5045.36, "duration": 5.2}, {"text": "our for the payload so these two", "start": 5048.0, "duration": 5.84}, {"text": "connections will not count okay because", "start": 5050.56, "duration": 6.96}, {"text": "those were directly done by us", "start": 5053.84, "duration": 6.319}, {"text": "what we are interested in is when we run", "start": 5057.52, "duration": 5.6}, {"text": "the payload what would the blue team see", "start": 5060.159, "duration": 5.04}, {"text": "on the traffic would it be our ip", "start": 5063.12, "duration": 5.76}, {"text": "address or our redirector so if i do the", "start": 5065.199, "duration": 7.201}, {"text": "dt and call out our payload", "start": 5068.88, "duration": 6.0}, {"text": "and let's go back if you can see we have", "start": 5072.4, "duration": 4.96}, {"text": "a connection here that means", "start": 5074.88, "duration": 5.279}, {"text": "our payload did execute and we should", "start": 5077.36, "duration": 6.0}, {"text": "have a grant within kavanaugh for those", "start": 5080.159, "duration": 5.761}, {"text": "who may not be familiar with covenant", "start": 5083.36, "duration": 5.44}, {"text": "any connection to our system is called", "start": 5085.92, "duration": 5.44}, {"text": "grant so in this case the host name is", "start": 5088.8, "duration": 5.52}, {"text": "carl monger the user name is n mandela", "start": 5091.36, "duration": 5.76}, {"text": "and we just got a connection so let's go", "start": 5094.32, "duration": 6.0}, {"text": "back and then do a blue team analysis or", "start": 5097.12, "duration": 5.039}, {"text": "those who want to detect traffic and", "start": 5100.32, "duration": 4.08}, {"text": "then let's call back our next stack", "start": 5102.159, "duration": 4.321}, {"text": "again and confirm", "start": 5104.4, "duration": 5.2}, {"text": "what ip address was used", "start": 5106.48, "duration": 7.04}, {"text": "to show the execution of our payload", "start": 5109.6, "duration": 6.24}, {"text": "so if we go down here", "start": 5113.52, "duration": 4.639}, {"text": "and as you can see", "start": 5115.84, "duration": 6.0}, {"text": "this is calling out to", "start": 5118.159, "duration": 6.241}, {"text": "our rate director", "start": 5121.84, "duration": 6.76}, {"text": "you see this is the 10.2.3.4", "start": 5124.4, "duration": 4.2}, {"text": "at 80 because that is the listening that", "start": 5128.8, "duration": 6.399}, {"text": "we have for our payload so instead of", "start": 5131.84, "duration": 6.48}, {"text": "the payload if any blue team is doing", "start": 5135.199, "duration": 4.561}, {"text": "any analysis", "start": 5138.32, "duration": 3.839}, {"text": "they might think that this is the actual", "start": 5139.76, "duration": 5.76}, {"text": "machine that is hosting the payload or", "start": 5142.159, "duration": 6.48}, {"text": "the actual machine that the victim is", "start": 5145.52, "duration": 6.159}, {"text": "communicating with so even if they", "start": 5148.639, "duration": 6.08}, {"text": "blacklist this ip address we can always", "start": 5151.679, "duration": 6.56}, {"text": "replace that with a different redirector", "start": 5154.719, "duration": 6.641}, {"text": "this is ubuntu not our kali but we still", "start": 5158.239, "duration": 6.4}, {"text": "got our connection on our kali instead", "start": 5161.36, "duration": 7.52}, {"text": "and that is the power of a raid director", "start": 5164.639, "duration": 7.52}, {"text": "the next technique we want to talk about", "start": 5168.88, "duration": 7.52}, {"text": "is domain fronting so domain front-end", "start": 5172.159, "duration": 8.401}, {"text": "is a technique that can be used to route", "start": 5176.4, "duration": 7.68}, {"text": "traffic through a content delivery", "start": 5180.56, "duration": 6.4}, {"text": "plot network platform such as google app", "start": 5184.08, "duration": 6.32}, {"text": "engine amazon cloudfront or microsoft", "start": 5186.96, "duration": 4.48}, {"text": "azure", "start": 5190.4, "duration": 4.08}, {"text": "this technique was discovered", "start": 5191.44, "duration": 6.799}, {"text": "around countries that enforce censorship", "start": 5194.48, "duration": 6.719}, {"text": "and then people were able to identify a", "start": 5198.239, "duration": 6.561}, {"text": "way to evade such you know censorship by", "start": 5201.199, "duration": 6.641}, {"text": "using this technical domain fronting now", "start": 5204.8, "duration": 6.56}, {"text": "domain fronting is a bit difficult to", "start": 5207.84, "duration": 7.92}, {"text": "detect or block because most legitimate", "start": 5211.36, "duration": 7.12}, {"text": "applications do use domain fronting and", "start": 5215.76, "duration": 5.2}, {"text": "that is what makes it very difficult for", "start": 5218.48, "duration": 5.6}, {"text": "blue teamers or the defenders to be able", "start": 5220.96, "duration": 6.4}, {"text": "to block domain fronting being used and", "start": 5224.08, "duration": 5.84}, {"text": "it makes it a lot easier for us as red", "start": 5227.36, "duration": 5.44}, {"text": "teamers to use that technique in", "start": 5229.92, "duration": 6.08}, {"text": "building resiliency into our c2", "start": 5232.8, "duration": 5.04}, {"text": "infrastructure or the attack", "start": 5236.0, "duration": 5.28}, {"text": "infrastructure because of each", "start": 5237.84, "duration": 7.28}, {"text": "provider such as google amazon microsoft", "start": 5241.28, "duration": 7.48}, {"text": "have a different way or architecture or", "start": 5245.12, "duration": 6.72}, {"text": "implementation of a cdn", "start": 5248.76, "duration": 6.04}, {"text": "it is a bit difficult to just", "start": 5251.84, "duration": 5.92}, {"text": "have a holistic way of setting up a", "start": 5254.8, "duration": 6.32}, {"text": "domain front-end so um we are not going", "start": 5257.76, "duration": 6.16}, {"text": "to spend time on setting one up here", "start": 5261.12, "duration": 5.519}, {"text": "because the cons and the way to do that", "start": 5263.92, "duration": 6.48}, {"text": "would vary depending on each provider", "start": 5266.639, "duration": 7.04}, {"text": "but we can just have an overall idea of", "start": 5270.4, "duration": 6.16}, {"text": "the concept when it comes to domain", "start": 5273.679, "duration": 6.081}, {"text": "fronting and a setup so let's just go", "start": 5276.56, "duration": 6.96}, {"text": "into a brief background on html", "start": 5279.76, "duration": 8.399}, {"text": "communication so in a typical html", "start": 5283.52, "duration": 7.199}, {"text": "um http communication", "start": 5288.159, "duration": 4.881}, {"text": "there are certain things that needs to", "start": 5290.719, "duration": 4.48}, {"text": "happen or needs to take into", "start": 5293.04, "duration": 4.8}, {"text": "consideration when it comes to the", "start": 5295.199, "duration": 6.721}, {"text": "initial session handling especially if", "start": 5297.84, "duration": 6.399}, {"text": "you're browsing a website that", "start": 5301.92, "duration": 6.64}, {"text": "implements tls and the session uh", "start": 5304.239, "duration": 6.561}, {"text": "separated when it comes to", "start": 5308.56, "duration": 6.119}, {"text": "establishing a tls session and also", "start": 5310.8, "duration": 7.6}, {"text": "http session those are done", "start": 5314.679, "duration": 6.601}, {"text": "independently so this is how the flow of", "start": 5318.4, "duration": 6.08}, {"text": "sequence looks like when the tls web", "start": 5321.28, "duration": 5.76}, {"text": "request is initiated or let's say the", "start": 5324.48, "duration": 5.52}, {"text": "web server wants to make a connection to", "start": 5327.04, "duration": 3.88}, {"text": "let's say", "start": 5330.0, "duration": 2.48}, {"text": "good.com", "start": 5330.92, "duration": 4.52}, {"text": "what happens is the server which is", "start": 5332.48, "duration": 6.56}, {"text": "responding or hostingthegood.com", "start": 5335.44, "duration": 6.88}, {"text": "would help to determine the certificate", "start": 5339.04, "duration": 6.08}, {"text": "to send in their response based on the", "start": 5342.32, "duration": 6.319}, {"text": "request and it is when after the secure", "start": 5345.12, "duration": 6.64}, {"text": "channel or the tls connection has been", "start": 5348.639, "duration": 5.721}, {"text": "established is when", "start": 5351.76, "duration": 7.52}, {"text": "http host header then becomes available", "start": 5354.36, "duration": 8.2}, {"text": "in the subsequent request or traffic", "start": 5359.28, "duration": 7.2}, {"text": "this gap here is where we can abuse to", "start": 5362.56, "duration": 8.0}, {"text": "be able to initiate a tls session to", "start": 5366.48, "duration": 7.6}, {"text": "let's say a good.com or the allowed", "start": 5370.56, "duration": 6.159}, {"text": "domain name on a cdn", "start": 5374.08, "duration": 5.599}, {"text": "and then subsequent request", "start": 5376.719, "duration": 7.121}, {"text": "we can smuggle our domain name which", "start": 5379.679, "duration": 8.321}, {"text": "let's say the bad.com into the host", "start": 5383.84, "duration": 7.359}, {"text": "header so we just basically abuse that", "start": 5388.0, "duration": 4.719}, {"text": "little", "start": 5391.199, "duration": 5.121}, {"text": "gap between the tls and then the", "start": 5392.719, "duration": 6.561}, {"text": "follow-up http request to be able to", "start": 5396.32, "duration": 7.04}, {"text": "abuse or evade detection or censorship", "start": 5399.28, "duration": 6.879}, {"text": "using domain fronting so again like i", "start": 5403.36, "duration": 5.839}, {"text": "said we can use the host header within", "start": 5406.159, "duration": 3.761}, {"text": "the", "start": 5409.199, "duration": 3.921}, {"text": "web request to sneak our target domain", "start": 5409.92, "duration": 5.2}, {"text": "after the tls session has been", "start": 5413.12, "duration": 4.559}, {"text": "established so let's say our target", "start": 5415.12, "duration": 6.88}, {"text": "machine or domain is the bad.com and the", "start": 5417.679, "duration": 8.0}, {"text": "allowed domain on a cdn or on the victim", "start": 5422.0, "duration": 6.239}, {"text": "side is good.com", "start": 5425.679, "duration": 5.681}, {"text": "what we can do is we can send an http", "start": 5428.239, "duration": 4.081}, {"text": "request", "start": 5431.36, "duration": 4.08}, {"text": "and set what we call the server name", "start": 5432.32, "duration": 6.24}, {"text": "indication to the allowed domain name", "start": 5435.44, "duration": 6.88}, {"text": "which in this case is the good.com", "start": 5438.56, "duration": 5.599}, {"text": "once the tls session has been", "start": 5442.32, "duration": 3.04}, {"text": "established", "start": 5444.159, "duration": 4.48}, {"text": "we can specify a different domain name", "start": 5445.36, "duration": 5.359}, {"text": "in the host header", "start": 5448.639, "duration": 5.401}, {"text": "which we can have our own", "start": 5450.719, "duration": 6.801}, {"text": "bad.com domain name and then serve any", "start": 5454.04, "duration": 7.24}, {"text": "content we are hosting on that domain", "start": 5457.52, "duration": 5.679}, {"text": "the only thing that", "start": 5461.28, "duration": 3.68}, {"text": "if a good", "start": 5463.199, "duration": 4.401}, {"text": "setup within the organization is working", "start": 5464.96, "duration": 5.279}, {"text": "properly is if the", "start": 5467.6, "duration": 5.44}, {"text": "target or the victim is doing what we", "start": 5470.239, "duration": 5.761}, {"text": "call the http inspection then they", "start": 5473.04, "duration": 5.84}, {"text": "should be able to see the discrepancy", "start": 5476.0, "duration": 7.52}, {"text": "between the tls and the http request and", "start": 5478.88, "duration": 7.359}, {"text": "then find out or figure out that the", "start": 5483.52, "duration": 3.84}, {"text": "host name", "start": 5486.239, "duration": 3.92}, {"text": "may not be matching with the initial", "start": 5487.36, "duration": 5.839}, {"text": "name which made the tls connection", "start": 5490.159, "duration": 5.04}, {"text": "so let's assume", "start": 5493.199, "duration": 5.44}, {"text": "the client or the victim is running our", "start": 5495.199, "duration": 4.641}, {"text": "payload", "start": 5498.639, "duration": 3.841}, {"text": "within the http traffic", "start": 5499.84, "duration": 4.879}, {"text": "this is how things look like in the most", "start": 5502.48, "duration": 4.0}, {"text": "simplified way", "start": 5504.719, "duration": 5.841}, {"text": "the typical dns request will go out", "start": 5506.48, "duration": 7.8}, {"text": "and then look for the a record for the", "start": 5510.56, "duration": 5.28}, {"text": "good.com", "start": 5514.28, "duration": 5.08}, {"text": "domain here which is allowed on a cdn", "start": 5515.84, "duration": 6.0}, {"text": "and then once that is done it is going", "start": 5519.36, "duration": 6.879}, {"text": "to try to establish the tls connection", "start": 5521.84, "duration": 8.319}, {"text": "the sni is going to have the name of the", "start": 5526.239, "duration": 6.641}, {"text": "allowed domain so in this case it might", "start": 5530.159, "duration": 4.721}, {"text": "be the good.com", "start": 5532.88, "duration": 5.12}, {"text": "and then once that has been established", "start": 5534.88, "duration": 7.2}, {"text": "now we can sneak in our domain name in", "start": 5538.0, "duration": 6.0}, {"text": "the host header", "start": 5542.08, "duration": 4.0}, {"text": "which initially would have been blocked", "start": 5544.0, "duration": 5.199}, {"text": "but because we have a snack in after tls", "start": 5546.08, "duration": 5.68}, {"text": "spino has been established we are able", "start": 5549.199, "duration": 6.321}, {"text": "to now get our domain name pass through", "start": 5551.76, "duration": 5.439}, {"text": "the cdn", "start": 5555.52, "duration": 5.92}, {"text": "the cdn serves many domain names which", "start": 5557.199, "duration": 7.121}, {"text": "in this case will end up serving hours", "start": 5561.44, "duration": 6.16}, {"text": "and that is where this abuse happens so", "start": 5564.32, "duration": 5.919}, {"text": "just a lot of footnote down here it says", "start": 5567.6, "duration": 4.079}, {"text": "that tls", "start": 5570.239, "duration": 4.96}, {"text": "sni doesn't match with the http host", "start": 5571.679, "duration": 5.121}, {"text": "header which is true", "start": 5575.199, "duration": 4.96}, {"text": "the sensor sees only the tls", "start": 5576.8, "duration": 7.359}, {"text": "sni and the dns request the intermediary", "start": 5580.159, "duration": 7.761}, {"text": "cds routes according to the host header", "start": 5584.159, "duration": 5.681}, {"text": "it will just route this according to", "start": 5587.92, "duration": 4.88}, {"text": "what we have here another concept which", "start": 5589.84, "duration": 5.359}, {"text": "as a red teamer would also want to", "start": 5592.8, "duration": 4.72}, {"text": "consider when it comes to building your", "start": 5595.199, "duration": 5.04}, {"text": "attack infrastructure is web", "start": 5597.52, "duration": 5.76}, {"text": "categorization you want to make sure", "start": 5600.239, "duration": 6.161}, {"text": "that your web traffic or your domain", "start": 5603.28, "duration": 7.439}, {"text": "name is blending in or is being allowed", "start": 5606.4, "duration": 6.64}, {"text": "when it comes to operation", "start": 5610.719, "duration": 5.601}, {"text": "so for renting operations if you decide", "start": 5613.04, "duration": 5.76}, {"text": "you want to purchase a domain name you", "start": 5616.32, "duration": 4.72}, {"text": "just have to ensure that your domain", "start": 5618.8, "duration": 6.24}, {"text": "name somehow is categorized before the", "start": 5621.04, "duration": 7.199}, {"text": "execution of the operation so what is", "start": 5625.04, "duration": 6.32}, {"text": "categorization well it is when a website", "start": 5628.239, "duration": 6.161}, {"text": "is placed into a certain category such", "start": 5631.36, "duration": 7.44}, {"text": "as say media finance news healthcare", "start": 5634.4, "duration": 7.04}, {"text": "social media and stuff like that so as", "start": 5638.8, "duration": 5.839}, {"text": "an example we have twitter and facebook", "start": 5641.44, "duration": 7.279}, {"text": "are categorized as social media cnn", "start": 5644.639, "duration": 8.56}, {"text": "cnbc tbs bbc those will be categorized", "start": 5648.719, "duration": 8.641}, {"text": "as news so as red teamers we typically", "start": 5653.199, "duration": 6.881}, {"text": "want to purchase a domain name which has", "start": 5657.36, "duration": 5.12}, {"text": "already been categorized", "start": 5660.08, "duration": 5.76}, {"text": "or we can buy a brand new one and then", "start": 5662.48, "duration": 6.0}, {"text": "categorize on our own", "start": 5665.84, "duration": 4.96}, {"text": "so if you want to look at some places", "start": 5668.48, "duration": 5.44}, {"text": "you want to buy pre-categorized domains", "start": 5670.8, "duration": 5.359}, {"text": "expireddomains.net", "start": 5673.92, "duration": 4.16}, {"text": "is a good place to go to", "start": 5676.159, "duration": 6.801}, {"text": "or domain hunter gatherer.com is also a", "start": 5678.08, "duration": 7.28}, {"text": "good place if you need to do a", "start": 5682.96, "duration": 4.08}, {"text": "self-categorization", "start": 5685.36, "duration": 4.24}, {"text": "you can also use places such as", "start": 5687.04, "duration": 5.199}, {"text": "trustedsources.org", "start": 5689.6, "duration": 6.72}, {"text": "or fortiguard or bluecoast website for", "start": 5692.239, "duration": 7.361}, {"text": "categorization of your website", "start": 5696.32, "duration": 5.68}, {"text": "let's take a closer look and do a quick", "start": 5699.6, "duration": 3.36}, {"text": "demo", "start": 5702.0, "duration": 3.36}, {"text": "on how we can do some of these or", "start": 5702.96, "duration": 4.48}, {"text": "perform some of these activities in the", "start": 5705.36, "duration": 4.799}, {"text": "real world so the first site we want to", "start": 5707.44, "duration": 5.6}, {"text": "look for when it comes to picking domain", "start": 5710.159, "duration": 6.56}, {"text": "name is expired domains.net", "start": 5713.04, "duration": 6.72}, {"text": "and this is how it looks like when you", "start": 5716.719, "duration": 4.96}, {"text": "come to this website", "start": 5719.76, "duration": 4.56}, {"text": "you can take your time and look around", "start": 5721.679, "duration": 4.0}, {"text": "and", "start": 5724.32, "duration": 4.24}, {"text": "customize your search according to", "start": 5725.679, "duration": 6.641}, {"text": "the scope of your red team operation", "start": 5728.56, "duration": 5.92}, {"text": "some few things that all techniques i", "start": 5732.32, "duration": 4.96}, {"text": "will give you out here is you might want", "start": 5734.48, "duration": 6.0}, {"text": "to consider buying the most recent", "start": 5737.28, "duration": 6.0}, {"text": "expired domain names out here so if you", "start": 5740.48, "duration": 5.04}, {"text": "click on expired domains this will give", "start": 5743.28, "duration": 5.919}, {"text": "you a list of domains which have expired", "start": 5745.52, "duration": 6.0}, {"text": "okay and um you can go through all of", "start": 5749.199, "duration": 4.161}, {"text": "them there are some few things here it", "start": 5751.52, "duration": 3.76}, {"text": "would give the date it was expired so in", "start": 5753.36, "duration": 4.48}, {"text": "this case these are the newest ones", "start": 5755.28, "duration": 5.2}, {"text": "which just expired", "start": 5757.84, "duration": 4.56}, {"text": "another thing that you may also want to", "start": 5760.48, "duration": 4.239}, {"text": "look into is you might want to pick a", "start": 5762.4, "duration": 4.96}, {"text": "domain name which is closest to your", "start": 5764.719, "duration": 4.96}, {"text": "victim's domain name", "start": 5767.36, "duration": 3.68}, {"text": "there are a few things you can use them", "start": 5769.679, "duration": 4.081}, {"text": "for for fishing for hosting your payload", "start": 5771.04, "duration": 5.44}, {"text": "for data exfiltration some of the things", "start": 5773.76, "duration": 5.12}, {"text": "you might want to look into is the type", "start": 5776.48, "duration": 5.52}, {"text": "of categorization two of them which are", "start": 5778.88, "duration": 4.48}, {"text": "mostly", "start": 5782.0, "duration": 3.04}, {"text": "more flexible when it comes to", "start": 5783.36, "duration": 5.52}, {"text": "exfiltration are healthcare and finance", "start": 5785.04, "duration": 6.639}, {"text": "domains because these are a little bit", "start": 5788.88, "duration": 5.52}, {"text": "flexible given the fact that their", "start": 5791.679, "duration": 4.321}, {"text": "traffic contain", "start": 5794.4, "duration": 6.0}, {"text": "pii so financial data or health data and", "start": 5796.0, "duration": 7.28}, {"text": "firewall are normally flexible on that", "start": 5800.4, "duration": 4.16}, {"text": "because", "start": 5803.28, "duration": 3.68}, {"text": "you don't want to do a deep analysis of", "start": 5804.56, "duration": 4.96}, {"text": "your traffic when they contain such", "start": 5806.96, "duration": 6.32}, {"text": "information because that may be against", "start": 5809.52, "duration": 6.88}, {"text": "certain regulations such as hipaa or", "start": 5813.28, "duration": 6.56}, {"text": "some gdpr or other regulation and that", "start": 5816.4, "duration": 5.92}, {"text": "is where we as spreading operators will", "start": 5819.84, "duration": 5.92}, {"text": "take advantage and most likely host our", "start": 5822.32, "duration": 7.44}, {"text": "payloads or other malicious files on", "start": 5825.76, "duration": 6.56}, {"text": "websites that are categorized as", "start": 5829.76, "duration": 5.84}, {"text": "healthcare or financial in nature", "start": 5832.32, "duration": 6.16}, {"text": "so another website that you can also", "start": 5835.6, "duration": 6.72}, {"text": "check on the categorization is the", "start": 5838.48, "duration": 7.4}, {"text": "blue code if let's say we type in", "start": 5842.32, "duration": 5.2}, {"text": "cnn.com", "start": 5845.88, "duration": 2.839}, {"text": "and hit", "start": 5847.52, "duration": 3.36}, {"text": "check category", "start": 5848.719, "duration": 5.281}, {"text": "it is going to tell us this is a news", "start": 5850.88, "duration": 5.359}, {"text": "categorized domain", "start": 5854.0, "duration": 5.28}, {"text": "so let's say you purchase a new domain", "start": 5856.239, "duration": 5.601}, {"text": "that is not categorized right and you", "start": 5859.28, "duration": 5.2}, {"text": "want to have it categorized well you can", "start": 5861.84, "duration": 6.48}, {"text": "go to opendns website you can go to", "start": 5864.48, "duration": 7.199}, {"text": "submit domains and then provide the type", "start": 5868.32, "duration": 5.52}, {"text": "of categorization you want your domain", "start": 5871.679, "duration": 3.921}, {"text": "name to fall within", "start": 5873.84, "duration": 4.24}, {"text": "they normally do give you", "start": 5875.6, "duration": 5.039}, {"text": "samples of categorization which you can", "start": 5878.08, "duration": 4.4}, {"text": "pick from so if you can see", "start": 5880.639, "duration": 4.0}, {"text": "these are extensive list of", "start": 5882.48, "duration": 4.8}, {"text": "categorization that should help you", "start": 5884.639, "duration": 4.321}, {"text": "choosing which", "start": 5887.28, "duration": 4.16}, {"text": "category you want to domain to", "start": 5888.96, "duration": 5.04}, {"text": "forwarding it even say suggest a new", "start": 5891.44, "duration": 4.48}, {"text": "categories so if you want to provide a", "start": 5894.0, "duration": 5.199}, {"text": "suggestion this is a place for you to be", "start": 5895.92, "duration": 5.759}, {"text": "you can go to submit domains you have to", "start": 5899.199, "duration": 4.641}, {"text": "log in and then provide", "start": 5901.679, "duration": 4.801}, {"text": "the name of the domain name you want to", "start": 5903.84, "duration": 7.12}, {"text": "categorize through open dns", "start": 5906.48, "duration": 7.759}, {"text": "so let's assume as part of your rating", "start": 5910.96, "duration": 4.64}, {"text": "operations", "start": 5914.239, "duration": 5.761}, {"text": "you need to purchase and set up an smtp", "start": 5915.6, "duration": 8.559}, {"text": "server or a group of smtp servers to", "start": 5920.0, "duration": 6.88}, {"text": "help you with your phishing campaign", "start": 5924.159, "duration": 5.841}, {"text": "back in the days it was a lot easier to", "start": 5926.88, "duration": 6.16}, {"text": "just send out an efficient email and", "start": 5930.0, "duration": 5.36}, {"text": "they will make it to your victims", "start": 5933.04, "duration": 6.0}, {"text": "inboxes nowadays most matured", "start": 5935.36, "duration": 7.6}, {"text": "organizations have implemented many", "start": 5939.04, "duration": 5.44}, {"text": "controls", "start": 5942.96, "duration": 4.32}, {"text": "that will detect any phishing emails and", "start": 5944.48, "duration": 6.159}, {"text": "then just pass them or dump them into", "start": 5947.28, "duration": 6.56}, {"text": "their spam folders all right and those", "start": 5950.639, "duration": 6.0}, {"text": "are the things that as red teamers we", "start": 5953.84, "duration": 5.2}, {"text": "need to be aware of and then try as", "start": 5956.639, "duration": 5.441}, {"text": "possible as we can to evade those", "start": 5959.04, "duration": 5.84}, {"text": "controls so we can make our phishing", "start": 5962.08, "duration": 5.52}, {"text": "emails to our victims of course our job", "start": 5964.88, "duration": 5.04}, {"text": "is going to be useless if our emails", "start": 5967.6, "duration": 4.559}, {"text": "don't make it to our victims so some of", "start": 5969.92, "duration": 4.64}, {"text": "the evasion controls we can all um", "start": 5972.159, "duration": 4.08}, {"text": "techniques we can implement when it", "start": 5974.56, "duration": 6.4}, {"text": "comes to setting up our smtp server uh", "start": 5976.239, "duration": 8.4}, {"text": "ptr for resolving our ip addresses to", "start": 5980.96, "duration": 6.64}, {"text": "our host name so for instance once we", "start": 5984.639, "duration": 5.04}, {"text": "purchase let's say a domain name as", "start": 5987.6, "duration": 3.039}, {"text": "let's say", "start": 5989.679, "duration": 4.48}, {"text": "evo.com and we have an ip address of", "start": 5990.639, "duration": 6.401}, {"text": "10.0.0.10", "start": 5994.159, "duration": 5.601}, {"text": "which is going to be the host machine", "start": 5997.04, "duration": 5.04}, {"text": "in our email we don't want to provide", "start": 5999.76, "duration": 5.84}, {"text": "that ip address as our host name or", "start": 6002.08, "duration": 6.639}, {"text": "domain right we want to map", "start": 6005.6, "duration": 5.68}, {"text": "the rail or let's say", "start": 6008.719, "duration": 5.281}, {"text": "mail.evo.com", "start": 6011.28, "duration": 5.359}, {"text": "which will be the hostname to an ip", "start": 6014.0, "duration": 5.36}, {"text": "address so they'll be able to resolve it", "start": 6016.639, "duration": 3.681}, {"text": "all right", "start": 6019.36, "duration": 4.08}, {"text": "the next that we have seen in place", "start": 6020.32, "duration": 5.919}, {"text": "that most companies nowadays implement", "start": 6023.44, "duration": 6.239}, {"text": "is an entry within their dns record", "start": 6026.239, "duration": 8.48}, {"text": "called spf send policy framework and", "start": 6029.679, "duration": 8.081}, {"text": "basically it requires a record that", "start": 6034.719, "duration": 6.561}, {"text": "validates the sender which is the mail", "start": 6037.76, "duration": 7.359}, {"text": "from header is authorized to send emails", "start": 6041.28, "duration": 6.8}, {"text": "from the associated domain all right so", "start": 6045.119, "duration": 5.201}, {"text": "when you send an email or receive an", "start": 6048.08, "duration": 6.159}, {"text": "email the header which has the mail form", "start": 6050.32, "duration": 6.08}, {"text": "there has to be some authorization or", "start": 6054.239, "duration": 5.681}, {"text": "there has to be an entry within a dns", "start": 6056.4, "duration": 6.0}, {"text": "that says yes this", "start": 6059.92, "duration": 5.52}, {"text": "form or this email is authorized to be", "start": 6062.4, "duration": 5.44}, {"text": "coming from this domain name it", "start": 6065.44, "duration": 4.64}, {"text": "essentially determines if the email is", "start": 6067.84, "duration": 4.64}, {"text": "from a trusted server", "start": 6070.08, "duration": 4.72}, {"text": "another control that we have seen a lot", "start": 6072.48, "duration": 6.159}, {"text": "lately is what we call the domain keys", "start": 6074.8, "duration": 8.16}, {"text": "identified mail or the dkim and this is", "start": 6078.639, "duration": 7.281}, {"text": "normally used by the mail server to", "start": 6082.96, "duration": 6.96}, {"text": "digitally sign an email message and also", "start": 6085.92, "duration": 6.48}, {"text": "its content so that the receiving", "start": 6089.92, "duration": 5.759}, {"text": "servers can confirm that the message is", "start": 6092.4, "duration": 4.719}, {"text": "coming from", "start": 6095.679, "duration": 4.0}, {"text": "that particular email server", "start": 6097.119, "duration": 5.201}, {"text": "another one to also look for or we have", "start": 6099.679, "duration": 6.241}, {"text": "to implement within our smtp server is", "start": 6102.32, "duration": 6.56}, {"text": "dmarc or domain based", "start": 6105.92, "duration": 6.08}, {"text": "message authentication reporting and", "start": 6108.88, "duration": 5.52}, {"text": "conformance all right this checks", "start": 6112.0, "duration": 4.56}, {"text": "whether the message has", "start": 6114.4, "duration": 5.2}, {"text": "entries for dkim", "start": 6116.56, "duration": 6.48}, {"text": "and spf and what action to take if they", "start": 6119.6, "duration": 7.84}, {"text": "do not exist such as just drop the mail", "start": 6123.04, "duration": 7.199}, {"text": "completely all right you can check all", "start": 6127.44, "duration": 5.12}, {"text": "these things by using a site such as", "start": 6130.239, "duration": 5.44}, {"text": "ipvoice to check a reputation of a", "start": 6132.56, "duration": 5.28}, {"text": "particular domain and we'll just do a", "start": 6135.679, "duration": 4.641}, {"text": "quick demo on that so these are some of", "start": 6137.84, "duration": 4.56}, {"text": "the controls that we have seen lately", "start": 6140.32, "duration": 5.04}, {"text": "when it comes to email gateway that have", "start": 6142.4, "duration": 5.68}, {"text": "been implemented by organizations to", "start": 6145.36, "duration": 6.0}, {"text": "filter out fashion campaign and as red", "start": 6148.08, "duration": 6.8}, {"text": "teamers we want to build our servers to", "start": 6151.36, "duration": 5.6}, {"text": "that standard and make some entries", "start": 6154.88, "duration": 4.96}, {"text": "within our dns now since we don't have", "start": 6156.96, "duration": 4.239}, {"text": "we're not doing this from a live", "start": 6159.84, "duration": 4.56}, {"text": "environment i'll show you how we can", "start": 6161.199, "duration": 4.161}, {"text": "audit", "start": 6164.4, "duration": 4.319}, {"text": "an organization or a target and see if", "start": 6165.36, "duration": 6.16}, {"text": "they have these entries in place within", "start": 6168.719, "duration": 4.561}, {"text": "their dns record", "start": 6171.52, "duration": 3.599}, {"text": "next in our demo", "start": 6173.28, "duration": 4.24}, {"text": "we are going to take a quick look on", "start": 6175.119, "duration": 4.0}, {"text": "some of the entries", "start": 6177.52, "duration": 3.44}, {"text": "we might be looking at when it comes to", "start": 6179.119, "duration": 4.801}, {"text": "building our smtp server for rating", "start": 6180.96, "duration": 5.6}, {"text": "operations one of the websites which", "start": 6183.92, "duration": 5.12}, {"text": "makes it a lot easier for us to", "start": 6186.56, "duration": 4.32}, {"text": "get a closer look at some of these", "start": 6189.04, "duration": 5.28}, {"text": "entries is mx toolbox", "start": 6190.88, "duration": 5.759}, {"text": "let's assume we won't get the", "start": 6194.32, "duration": 3.919}, {"text": "spf", "start": 6196.639, "duration": 4.48}, {"text": "record entry so we can type the domain", "start": 6198.239, "duration": 3.92}, {"text": "name here", "start": 6201.119, "duration": 4.241}, {"text": "and then from a drop down we can select", "start": 6202.159, "duration": 6.0}, {"text": "the spf record lookup", "start": 6205.36, "duration": 4.879}, {"text": "and then just click on it", "start": 6208.159, "duration": 4.321}, {"text": "and this is how", "start": 6210.239, "duration": 6.48}, {"text": "an spf entry looks like it is usually", "start": 6212.48, "duration": 8.8}, {"text": "what we call a txt record entry within a", "start": 6216.719, "duration": 7.601}, {"text": "dns record and um the good thing about", "start": 6221.28, "duration": 5.6}, {"text": "this site is it also does an audit check", "start": 6224.32, "duration": 4.319}, {"text": "for you even if you're not on the red", "start": 6226.88, "duration": 4.72}, {"text": "team operator and you are a blue teamer", "start": 6228.639, "duration": 5.121}, {"text": "and you want to see if there's something", "start": 6231.6, "duration": 4.32}, {"text": "that you're missing out for your smtp", "start": 6233.76, "duration": 4.959}, {"text": "server this will be a good place um all", "start": 6235.92, "duration": 4.48}, {"text": "for your mail server", "start": 6238.719, "duration": 3.681}, {"text": "this might be a good site for you to", "start": 6240.4, "duration": 4.64}, {"text": "check if you are missing any of these", "start": 6242.4, "duration": 5.04}, {"text": "protection mechanisms", "start": 6245.04, "duration": 4.56}, {"text": "next is we can also check for the dmoc", "start": 6247.44, "duration": 4.48}, {"text": "as you can see at the top here we can", "start": 6249.6, "duration": 3.68}, {"text": "click on that", "start": 6251.92, "duration": 3.6}, {"text": "and then that will take us to here and", "start": 6253.28, "duration": 5.2}, {"text": "again we can type in google.com and then", "start": 6255.52, "duration": 5.36}, {"text": "just click on demark lookup", "start": 6258.48, "duration": 6.48}, {"text": "this is how a dma entry looks like um in", "start": 6260.88, "duration": 7.2}, {"text": "this case for google it also gives you", "start": 6264.96, "duration": 4.719}, {"text": "explanation", "start": 6268.08, "duration": 4.159}, {"text": "of the the tags or the values you see", "start": 6269.679, "duration": 5.601}, {"text": "here so for instance the v basically", "start": 6272.239, "duration": 6.0}, {"text": "tells us the dmoc version is being used", "start": 6275.28, "duration": 5.12}, {"text": "which in this case is using version one", "start": 6278.239, "duration": 4.88}, {"text": "and then also the d mark will determine", "start": 6280.4, "duration": 6.64}, {"text": "whether there is an entry for um dkim", "start": 6283.119, "duration": 7.201}, {"text": "and also spf and then make a decision to", "start": 6287.04, "duration": 6.32}, {"text": "either allow an email to go through or", "start": 6290.32, "duration": 6.0}, {"text": "to reject it so in this case um google", "start": 6293.36, "duration": 5.359}, {"text": "is saying that if they receive an email", "start": 6296.32, "duration": 4.799}, {"text": "doesn't pass with a dmarc check it is", "start": 6298.719, "duration": 4.0}, {"text": "going to reject it", "start": 6301.119, "duration": 4.0}, {"text": "so even though it's easier to", "start": 6302.719, "duration": 6.801}, {"text": "obtain the records for spf and d mark", "start": 6305.119, "duration": 8.0}, {"text": "getting the record for dkim is a bit", "start": 6309.52, "duration": 4.96}, {"text": "involving", "start": 6313.119, "duration": 3.841}, {"text": "or a bit much more is involved in a", "start": 6314.48, "duration": 4.0}, {"text": "process because", "start": 6316.96, "duration": 4.4}, {"text": "um not only do you need a domain name to", "start": 6318.48, "duration": 4.159}, {"text": "get the", "start": 6321.36, "duration": 5.279}, {"text": "dkim record you also need what we call a", "start": 6322.639, "duration": 6.881}, {"text": "selector and that is something that you", "start": 6326.639, "duration": 4.401}, {"text": "have to look at", "start": 6329.52, "duration": 4.159}, {"text": "when you receive an email", "start": 6331.04, "duration": 5.92}, {"text": "typically a dkim selector", "start": 6333.679, "duration": 6.641}, {"text": "is specified when the private and public", "start": 6336.96, "duration": 4.48}, {"text": "key pair", "start": 6340.32, "duration": 5.76}, {"text": "is created when dkim is set up for the", "start": 6341.44, "duration": 9.04}, {"text": "email domain or the email sender and it", "start": 6346.08, "duration": 7.599}, {"text": "can be any text so", "start": 6350.48, "duration": 6.32}, {"text": "to get that particular selector", "start": 6353.679, "duration": 5.361}, {"text": "you can look at the", "start": 6356.8, "duration": 5.359}, {"text": "email message you receive within the", "start": 6359.04, "duration": 5.84}, {"text": "original message and you should see a", "start": 6362.159, "duration": 6.241}, {"text": "tag an s tag and it should be equal to", "start": 6364.88, "duration": 6.319}, {"text": "some string of numbers and that is what", "start": 6368.4, "duration": 5.44}, {"text": "you provide here within the selector and", "start": 6371.199, "duration": 6.48}, {"text": "then use a dkim to look it up it can be", "start": 6373.84, "duration": 6.56}, {"text": "something as simple as let's say s is", "start": 6377.679, "duration": 3.921}, {"text": "equal to", "start": 6380.4, "duration": 4.319}, {"text": "s one two three four s y z", "start": 6381.6, "duration": 5.599}, {"text": "and then you can input that within the", "start": 6384.719, "duration": 5.52}, {"text": "selector and then hit lookup to see if", "start": 6387.199, "duration": 6.161}, {"text": "this is a valid or there is a valid", "start": 6390.239, "duration": 6.241}, {"text": "entry for dkim even though we are not", "start": 6393.36, "duration": 5.68}, {"text": "going to do a live demo on how to you", "start": 6396.48, "duration": 5.6}, {"text": "know set up an entry let's head out to", "start": 6399.04, "duration": 6.0}, {"text": "some website that makes it a lot easier", "start": 6402.08, "duration": 5.599}, {"text": "to generate these strengths so we can", "start": 6405.04, "duration": 6.639}, {"text": "input into our dns record for our", "start": 6407.679, "duration": 5.761}, {"text": "phishing campaign", "start": 6411.679, "duration": 4.161}, {"text": "the first website i would like us to", "start": 6413.44, "duration": 6.08}, {"text": "make reference to or use is called dmarc", "start": 6415.84, "duration": 6.72}, {"text": "generator it's a website that can take a", "start": 6419.52, "duration": 6.0}, {"text": "domain name and it will generate a", "start": 6422.56, "duration": 6.24}, {"text": "strength for us to input into a dns", "start": 6425.52, "duration": 6.639}, {"text": "record so for instance this one it will", "start": 6428.8, "duration": 5.76}, {"text": "ask you for the domain name which i have", "start": 6432.159, "duration": 4.721}, {"text": "this as wakanda.city", "start": 6434.56, "duration": 4.88}, {"text": "and then these are some of the policies", "start": 6436.88, "duration": 5.6}, {"text": "that we can choose from as we have seen", "start": 6439.44, "duration": 4.56}, {"text": "from the", "start": 6442.48, "duration": 2.719}, {"text": "google", "start": 6444.0, "duration": 3.76}, {"text": "you know smtp or mail server we have", "start": 6445.199, "duration": 5.52}, {"text": "three options we can select reject which", "start": 6447.76, "duration": 5.84}, {"text": "is what we saw from google's one or we", "start": 6450.719, "duration": 6.161}, {"text": "can select quarantine so in this case we", "start": 6453.6, "duration": 6.32}, {"text": "can just select none so that means if", "start": 6456.88, "duration": 6.88}, {"text": "our server or our victims receive email", "start": 6459.92, "duration": 5.92}, {"text": "coming from our site and it fails a", "start": 6463.76, "duration": 4.879}, {"text": "dmarc check it will still go through", "start": 6465.84, "duration": 5.04}, {"text": "otherwise we can select reject or", "start": 6468.639, "duration": 4.241}, {"text": "current time and these are all", "start": 6470.88, "duration": 5.2}, {"text": "additional options you can select for", "start": 6472.88, "duration": 4.16}, {"text": "your", "start": 6476.08, "duration": 3.599}, {"text": "demark and then once you hit enter this", "start": 6477.04, "duration": 5.84}, {"text": "is going to provide you with a record or", "start": 6479.679, "duration": 6.161}, {"text": "an entry you can just copy and then", "start": 6482.88, "duration": 6.56}, {"text": "paste it within dns record the next site", "start": 6485.84, "duration": 5.839}, {"text": "you can use to also help you set up your", "start": 6489.44, "duration": 6.32}, {"text": "spf record and other mail or domain name", "start": 6491.679, "duration": 7.52}, {"text": "entry is ireadmail.com", "start": 6495.76, "duration": 5.919}, {"text": "this is just the documentation website", "start": 6499.199, "duration": 4.801}, {"text": "it does a very great job on breaking", "start": 6501.679, "duration": 5.52}, {"text": "down to explain what each record stands", "start": 6504.0, "duration": 6.0}, {"text": "for so for instance if we want to set up", "start": 6507.199, "duration": 5.161}, {"text": "an spf entry for", "start": 6510.0, "duration": 6.32}, {"text": "mydomain.com this can be an entry we can", "start": 6512.36, "duration": 6.839}, {"text": "put in within our dns record", "start": 6516.32, "duration": 6.16}, {"text": "the same way with dkim it is using this", "start": 6519.199, "duration": 7.92}, {"text": "example to generate um a dkim entry so", "start": 6522.48, "duration": 7.199}, {"text": "if you can see this is the entry right", "start": 6527.119, "duration": 5.761}, {"text": "here that we can copy and then paste it", "start": 6529.679, "duration": 6.0}, {"text": "within our dns record", "start": 6532.88, "duration": 4.64}, {"text": "if you didn't like the first site which", "start": 6535.679, "duration": 4.161}, {"text": "gave us a way to generate our dmarc you", "start": 6537.52, "duration": 4.159}, {"text": "can come down and then we can also", "start": 6539.84, "duration": 5.6}, {"text": "generate one here using this website so", "start": 6541.679, "duration": 7.761}, {"text": "that is it for the smtp server when it", "start": 6545.44, "duration": 7.04}, {"text": "comes to a return operator trying to set", "start": 6549.44, "duration": 7.04}, {"text": "up your mail server to evade some of the", "start": 6552.48, "duration": 6.8}, {"text": "techniques that you might come across in", "start": 6556.48, "duration": 5.92}, {"text": "your operation so that your emails don't", "start": 6559.28, "duration": 6.879}, {"text": "end up in a spam folder", "start": 6562.4, "duration": 3.759}, {"text": "so the next technique under the initial", "start": 6566.239, "duration": 7.601}, {"text": "access tactic is weaponization and the", "start": 6569.52, "duration": 5.44}, {"text": "miter", "start": 6573.84, "duration": 6.44}, {"text": "attack frameworks id is t1587", "start": 6574.96, "duration": 5.32}, {"text": "this is where the adversaries may build", "start": 6580.48, "duration": 4.56}, {"text": "their capabilities that can be used", "start": 6582.719, "duration": 4.88}, {"text": "during target what we're seeing here is", "start": 6585.04, "duration": 5.199}, {"text": "everything that threat actors", "start": 6587.599, "duration": 4.481}, {"text": "use to build", "start": 6590.239, "duration": 4.801}, {"text": "on a payload is what is covered under", "start": 6592.08, "duration": 4.96}, {"text": "the weaponization", "start": 6595.04, "duration": 4.88}, {"text": "of course for red teamers we want to", "start": 6597.04, "duration": 5.36}, {"text": "make sure that based on the rating", "start": 6599.92, "duration": 4.239}, {"text": "operation scope", "start": 6602.4, "duration": 4.319}, {"text": "we want to make sure that our payload or", "start": 6604.159, "duration": 4.161}, {"text": "our weaponization", "start": 6606.719, "duration": 3.92}, {"text": "is built to work with our c2", "start": 6608.32, "duration": 4.879}, {"text": "infrastructure and what does this means", "start": 6610.639, "duration": 3.841}, {"text": "is", "start": 6613.199, "duration": 3.121}, {"text": "sometimes some specific payloads would", "start": 6614.48, "duration": 3.119}, {"text": "only work with", "start": 6616.32, "duration": 3.52}, {"text": "a corresponding c2 server so for", "start": 6617.599, "duration": 4.401}, {"text": "instance um you might have a payload", "start": 6619.84, "duration": 4.399}, {"text": "that would work with only metasploit may", "start": 6622.0, "duration": 5.36}, {"text": "not work under cobra strike so based on", "start": 6624.239, "duration": 5.841}, {"text": "the c2 that we you know we set up during", "start": 6627.36, "duration": 6.0}, {"text": "our attack infrastructure um setup this", "start": 6630.08, "duration": 5.36}, {"text": "is what would determine what type of", "start": 6633.36, "duration": 4.16}, {"text": "payload we would build", "start": 6635.44, "duration": 3.92}, {"text": "now when it comes to phishing campaign", "start": 6637.52, "duration": 4.32}, {"text": "as part of our initial access there are", "start": 6639.36, "duration": 3.759}, {"text": "two things you want to take into", "start": 6641.84, "duration": 3.279}, {"text": "consideration one of them is a payload", "start": 6643.119, "duration": 2.961}, {"text": "type", "start": 6645.119, "duration": 2.881}, {"text": "uh you know that we're going to be using", "start": 6646.08, "duration": 4.559}, {"text": "um and also how are we going to deliver", "start": 6648.0, "duration": 4.56}, {"text": "that particular payload right and we'll", "start": 6650.639, "duration": 4.401}, {"text": "be talking about that in the follow-up", "start": 6652.56, "duration": 5.2}, {"text": "discussions when it comes to again red", "start": 6655.04, "duration": 4.72}, {"text": "teaming and making ourselves", "start": 6657.76, "duration": 3.439}, {"text": "you know setting ourselves up for", "start": 6659.76, "duration": 2.72}, {"text": "success", "start": 6661.199, "duration": 3.44}, {"text": "we normally don't have", "start": 6662.48, "duration": 4.719}, {"text": "insight into the victims", "start": 6664.639, "duration": 6.401}, {"text": "infrastructure or network so we normally", "start": 6667.199, "duration": 6.561}, {"text": "fly in blind and we may not know whether", "start": 6671.04, "duration": 6.24}, {"text": "it's only windows specific shop or it's", "start": 6673.76, "duration": 6.16}, {"text": "only linux or it's a combination of", "start": 6677.28, "duration": 3.68}, {"text": "windows", "start": 6679.92, "duration": 4.319}, {"text": "linux or even you know a mac", "start": 6680.96, "duration": 5.759}, {"text": "environment so this is where", "start": 6684.239, "duration": 5.121}, {"text": "if you have done a very good job with", "start": 6686.719, "duration": 4.96}, {"text": "reconnaissance you might have some sort", "start": 6689.36, "duration": 5.359}, {"text": "of idea about the organization because", "start": 6691.679, "duration": 5.04}, {"text": "from your reconnaissance being able to", "start": 6694.719, "duration": 4.321}, {"text": "gather intelligence such as the type of", "start": 6696.719, "duration": 5.201}, {"text": "applications being run type of os the", "start": 6699.04, "duration": 4.96}, {"text": "company is having and all those kind of", "start": 6701.92, "duration": 3.92}, {"text": "things we may have a little bit of an", "start": 6704.0, "duration": 4.56}, {"text": "idea about the environment so the", "start": 6705.84, "duration": 4.319}, {"text": "general approach when it comes to", "start": 6708.56, "duration": 4.0}, {"text": "weaponization is we want to build a test", "start": 6710.159, "duration": 4.48}, {"text": "environment which is similar to", "start": 6712.56, "duration": 4.32}, {"text": "the targets environment so for instance", "start": 6714.639, "duration": 4.161}, {"text": "if we know that it's", "start": 6716.88, "duration": 4.48}, {"text": "mainly a microsoft shop then we're going", "start": 6718.8, "duration": 5.28}, {"text": "to build our tag environment to", "start": 6721.36, "duration": 5.68}, {"text": "mimic that of a microsoft you know 80", "start": 6724.08, "duration": 4.8}, {"text": "and especially if we know that it's", "start": 6727.04, "duration": 4.24}, {"text": "mostly windows 10 or windows 7 or", "start": 6728.88, "duration": 5.279}, {"text": "windows 8 or windows 11 that would also", "start": 6731.28, "duration": 4.879}, {"text": "help us in building our attack", "start": 6734.159, "duration": 4.241}, {"text": "environment to simulate such", "start": 6736.159, "duration": 3.761}, {"text": "targets and we also want to make sure", "start": 6738.4, "duration": 3.12}, {"text": "that we create and also test our", "start": 6739.92, "duration": 3.679}, {"text": "payloads to make sure they work so that", "start": 6741.52, "duration": 4.0}, {"text": "the worst thing is you develop your", "start": 6743.599, "duration": 4.08}, {"text": "payload and it doesn't work you know", "start": 6745.52, "duration": 3.92}, {"text": "you'll be waiting and then trying to get", "start": 6747.679, "duration": 4.321}, {"text": "a reverse shell or get a connection back", "start": 6749.44, "duration": 5.52}, {"text": "to your c2 server and nothing happens so", "start": 6752.0, "duration": 5.599}, {"text": "we want to take our time and do", "start": 6754.96, "duration": 5.199}, {"text": "lots and lots of testing and make sure", "start": 6757.599, "duration": 4.881}, {"text": "that our payloads do work as they're", "start": 6760.159, "duration": 4.96}, {"text": "supposed to before we deliver them", "start": 6762.48, "duration": 4.88}, {"text": "against the target and the next thing we", "start": 6765.119, "duration": 4.241}, {"text": "also want to do is we also want to find", "start": 6767.36, "duration": 4.239}, {"text": "out what are some of the indication of", "start": 6769.36, "duration": 5.359}, {"text": "compromise we may leave behind any", "start": 6771.599, "duration": 5.841}, {"text": "digital activity would always leave a", "start": 6774.719, "duration": 4.801}, {"text": "footprint so we want to make sure that", "start": 6777.44, "duration": 4.48}, {"text": "to be very good red teamers want to make", "start": 6779.52, "duration": 4.0}, {"text": "sure that what are we leaving behind for", "start": 6781.92, "duration": 4.16}, {"text": "the blue team is to see our activities", "start": 6783.52, "duration": 4.8}, {"text": "so this is the general approach we", "start": 6786.08, "duration": 3.599}, {"text": "normally take when it comes to", "start": 6788.32, "duration": 3.6}, {"text": "developing web payload making sure that", "start": 6789.679, "duration": 4.96}, {"text": "they work within the targets environment", "start": 6791.92, "duration": 4.88}, {"text": "another concept that as we are building", "start": 6794.639, "duration": 4.321}, {"text": "our payload that we would want to take", "start": 6796.8, "duration": 3.68}, {"text": "into consideration", "start": 6798.96, "duration": 4.239}, {"text": "is the concept of living off the land", "start": 6800.48, "duration": 5.84}, {"text": "now this is where we want to ensure that", "start": 6803.199, "duration": 5.201}, {"text": "our payload is using", "start": 6806.32, "duration": 4.799}, {"text": "most of the built-in utilities that come", "start": 6808.4, "duration": 4.96}, {"text": "with the operating systems so living of", "start": 6811.119, "duration": 4.161}, {"text": "the land binaries right if you heard", "start": 6813.36, "duration": 4.319}, {"text": "about low bands that that's what it", "start": 6815.28, "duration": 4.24}, {"text": "means by that make sure that we're not", "start": 6817.679, "duration": 4.0}, {"text": "trying to use external resources too", "start": 6819.52, "duration": 5.76}, {"text": "much and then just abuse what utilities", "start": 6821.679, "duration": 5.281}, {"text": "come with that particular", "start": 6825.28, "duration": 4.0}, {"text": "operating system so talking about living", "start": 6826.96, "duration": 3.84}, {"text": "of the land these are some of the", "start": 6829.28, "duration": 4.64}, {"text": "examples of built-in utilities we can", "start": 6830.8, "duration": 5.68}, {"text": "find when it comes to the windows", "start": 6833.92, "duration": 4.96}, {"text": "operating system of course linux has its", "start": 6836.48, "duration": 5.52}, {"text": "own built-in utilities now let's jump", "start": 6838.88, "duration": 6.719}, {"text": "into one of the most well-known", "start": 6842.0, "duration": 6.639}, {"text": "means of weaponization which is", "start": 6845.599, "duration": 7.201}, {"text": "microsoft macros so microsoft office", "start": 6848.639, "duration": 7.201}, {"text": "product is one of the most popular", "start": 6852.8, "duration": 5.919}, {"text": "utilities used in most corporate", "start": 6855.84, "duration": 4.16}, {"text": "environments", "start": 6858.719, "duration": 5.041}, {"text": "and as a result it has seen its own", "start": 6860.0, "duration": 6.239}, {"text": "history when it comes to", "start": 6863.76, "duration": 4.879}, {"text": "phishing based attacks and this is", "start": 6866.239, "duration": 4.721}, {"text": "because of the fact that", "start": 6868.639, "duration": 5.441}, {"text": "uh microsoft products allow the use of", "start": 6870.96, "duration": 6.8}, {"text": "vba or visual basic for applications", "start": 6874.08, "duration": 6.48}, {"text": "to be able to run code which can be", "start": 6877.76, "duration": 5.28}, {"text": "embedded within microsoft office", "start": 6880.56, "duration": 5.039}, {"text": "products and even the most scariest part", "start": 6883.04, "duration": 5.44}, {"text": "of it is the fact that it can even make", "start": 6885.599, "duration": 6.161}, {"text": "windows api calls and over a number of", "start": 6888.48, "duration": 4.159}, {"text": "years", "start": 6891.76, "duration": 3.04}, {"text": "apts or adversaries have been able to", "start": 6892.639, "duration": 5.841}, {"text": "abuse these functionalities to carry out", "start": 6894.8, "duration": 7.12}, {"text": "numerous or countless amount of phishing", "start": 6898.48, "duration": 4.639}, {"text": "campaigns", "start": 6901.92, "duration": 4.48}, {"text": "against microsoft office products using", "start": 6903.119, "duration": 5.281}, {"text": "macro based attacks", "start": 6906.4, "duration": 4.08}, {"text": "over time microsoft has been able to", "start": 6908.4, "duration": 4.16}, {"text": "implement some capabilities", "start": 6910.48, "duration": 2.88}, {"text": "to", "start": 6912.56, "duration": 3.039}, {"text": "be able to reduce the amount of these", "start": 6913.36, "duration": 5.92}, {"text": "attacks be successful and as as much as", "start": 6915.599, "duration": 5.441}, {"text": "microsoft is trying to", "start": 6919.28, "duration": 3.6}, {"text": "make it difficult attackers are always", "start": 6921.04, "duration": 3.599}, {"text": "finding some ways around it to be able", "start": 6922.88, "duration": 3.68}, {"text": "to abuse this function", "start": 6924.639, "duration": 4.0}, {"text": "now in our case we are going to try", "start": 6926.56, "duration": 4.079}, {"text": "something different than what we are all", "start": 6928.639, "duration": 4.08}, {"text": "used to when it comes to", "start": 6930.639, "duration": 4.241}, {"text": "macro based attack and that is the", "start": 6932.719, "duration": 7.041}, {"text": "microsoft excel 4.0 now this", "start": 6934.88, "duration": 8.08}, {"text": "has been around since 1992", "start": 6939.76, "duration": 5.2}, {"text": "and it has been around within the", "start": 6942.96, "duration": 5.84}, {"text": "microsoft on windows 3 and windows 3.1", "start": 6944.96, "duration": 6.88}, {"text": "now while the micro can be created with", "start": 6948.8, "duration": 6.319}, {"text": "the xl 4.0 the inner workings are a bit", "start": 6951.84, "duration": 5.359}, {"text": "different from the typical world vba", "start": 6955.119, "duration": 4.56}, {"text": "counterpart one of them is the fact that", "start": 6957.199, "duration": 5.44}, {"text": "we can actually use excel 4.0", "start": 6959.679, "duration": 7.201}, {"text": "to execute functions such as exec or", "start": 6962.639, "duration": 7.121}, {"text": "call or some other functions which can", "start": 6966.88, "duration": 5.359}, {"text": "make direct call within the operating", "start": 6969.76, "duration": 4.479}, {"text": "system which is very scary because now", "start": 6972.239, "duration": 4.801}, {"text": "it's not even just using scripts to just", "start": 6974.239, "duration": 6.241}, {"text": "use macro but we can execute", "start": 6977.04, "duration": 7.52}, {"text": "real os based commands and you see that", "start": 6980.48, "duration": 7.28}, {"text": "in the next demo so let's jump quickly", "start": 6984.56, "duration": 7.039}, {"text": "on a demo and let's see how we can abuse", "start": 6987.76, "duration": 6.72}, {"text": "the excel 4.0", "start": 6991.599, "duration": 4.56}, {"text": "feature to", "start": 6994.48, "duration": 3.759}, {"text": "run some", "start": 6996.159, "duration": 4.801}, {"text": "commands and also establish a remote", "start": 6998.239, "duration": 4.641}, {"text": "code execution somehow", "start": 7000.96, "duration": 5.679}, {"text": "so the test environment for this demo is", "start": 7002.88, "duration": 5.52}, {"text": "going to be on", "start": 7006.639, "duration": 5.04}, {"text": "windows 2010", "start": 7008.4, "duration": 6.719}, {"text": "for testing all of our payloads to", "start": 7011.679, "duration": 8.401}, {"text": "demo how we can abuse the excel 4.0 i", "start": 7015.119, "duration": 8.721}, {"text": "have an empty excel open up and i am", "start": 7020.08, "duration": 6.079}, {"text": "going to right click on sheet 1 and we", "start": 7023.84, "duration": 5.839}, {"text": "are going to select insert so with that", "start": 7026.159, "duration": 7.44}, {"text": "open we can select the ms excel 4.0", "start": 7029.679, "duration": 7.361}, {"text": "macro and select ok that is going to", "start": 7033.599, "duration": 6.961}, {"text": "create this new macro sheet right here", "start": 7037.04, "duration": 7.76}, {"text": "which we can now run some functions or", "start": 7040.56, "duration": 6.96}, {"text": "some windows api from here", "start": 7044.8, "duration": 4.319}, {"text": "so in this case", "start": 7047.52, "duration": 4.0}, {"text": "we are going to use the exec function", "start": 7049.119, "duration": 5.12}, {"text": "and this is how we do that we are going", "start": 7051.52, "duration": 6.079}, {"text": "to call out calc dot exe", "start": 7054.239, "duration": 6.241}, {"text": "and hit enter if we want to test and see", "start": 7057.599, "duration": 4.961}, {"text": "if this is going to work", "start": 7060.48, "duration": 4.639}, {"text": "we can select the first", "start": 7062.56, "duration": 3.76}, {"text": "cell", "start": 7065.119, "duration": 4.161}, {"text": "right click and then go down to run", "start": 7066.32, "duration": 5.04}, {"text": "and we should have this pop-up if we", "start": 7069.28, "duration": 4.64}, {"text": "select one run", "start": 7071.36, "duration": 5.279}, {"text": "we should see the calculator popping", "start": 7073.92, "duration": 4.4}, {"text": "good", "start": 7076.639, "duration": 5.281}, {"text": "we can modify this and let's even add", "start": 7078.32, "duration": 6.64}, {"text": "one more function called alert", "start": 7081.92, "duration": 6.48}, {"text": "and let's say we want to say hello world", "start": 7084.96, "duration": 6.08}, {"text": "and let's add halt and again", "start": 7088.4, "duration": 3.839}, {"text": "let's run", "start": 7091.04, "duration": 5.84}, {"text": "and test if our macro is working", "start": 7092.239, "duration": 4.641}, {"text": "we get a hello world we had a calculator", "start": 7098.48, "duration": 4.719}, {"text": "and we should be good", "start": 7100.88, "duration": 4.56}, {"text": "if we want to make our macro to run", "start": 7103.199, "duration": 5.361}, {"text": "automatically when the workbook is open", "start": 7105.44, "duration": 7.12}, {"text": "we can rename the first cell to", "start": 7108.56, "duration": 5.2}, {"text": "auto", "start": 7112.56, "duration": 3.92}, {"text": "and that's called open", "start": 7113.76, "duration": 4.16}, {"text": "and hit enter", "start": 7116.48, "duration": 4.239}, {"text": "so in this case each time that we open", "start": 7117.92, "duration": 5.44}, {"text": "the document or enable the macro it is", "start": 7120.719, "duration": 5.201}, {"text": "going to auto execute our", "start": 7123.36, "duration": 4.239}, {"text": "commands in here", "start": 7125.92, "duration": 3.679}, {"text": "we can even hide", "start": 7127.599, "duration": 4.801}, {"text": "this particular sheet or workbook by", "start": 7129.599, "duration": 4.881}, {"text": "going down to the macro one", "start": 7132.4, "duration": 5.12}, {"text": "right click and then hit hide", "start": 7134.48, "duration": 5.44}, {"text": "this will still execute our payload or", "start": 7137.52, "duration": 5.28}, {"text": "it will still execute or run our macro", "start": 7139.92, "duration": 4.08}, {"text": "regardless", "start": 7142.8, "duration": 5.04}, {"text": "so now let's go and then save this", "start": 7144.0, "duration": 6.4}, {"text": "we'll save this as excel", "start": 7147.84, "duration": 4.399}, {"text": "and then we're going to select", "start": 7150.4, "duration": 3.36}, {"text": "the excel", "start": 7152.239, "duration": 4.521}, {"text": "97-2003", "start": 7153.76, "duration": 3.0}, {"text": "and hit save and this should save it and", "start": 7156.88, "duration": 4.88}, {"text": "then let's try to open so we have the", "start": 7159.52, "duration": 3.76}, {"text": "file open", "start": 7161.76, "duration": 4.16}, {"text": "so if we click on enable content we", "start": 7163.28, "duration": 4.8}, {"text": "should see our calculator", "start": 7165.92, "duration": 3.44}, {"text": "popping", "start": 7168.08, "duration": 3.36}, {"text": "and a hello world coming up", "start": 7169.36, "duration": 4.56}, {"text": "while making an excel", "start": 7171.44, "duration": 4.159}, {"text": "document pop", "start": 7173.92, "duration": 3.279}, {"text": "a message box", "start": 7175.599, "duration": 3.361}, {"text": "can be all cued", "start": 7177.199, "duration": 4.801}, {"text": "that is not we are actually interested", "start": 7178.96, "duration": 3.759}, {"text": "in", "start": 7182.0, "duration": 2.56}, {"text": "as an offensive operator", "start": 7182.719, "duration": 4.321}, {"text": "we want to fully weaponize this", "start": 7184.56, "duration": 4.88}, {"text": "particular capability to be able to", "start": 7187.04, "duration": 5.04}, {"text": "achieve a remote code execution", "start": 7189.44, "duration": 4.64}, {"text": "on a victim's computer", "start": 7192.08, "duration": 4.96}, {"text": "now to execute more complex offensive", "start": 7194.08, "duration": 5.28}, {"text": "actions we can actually access some", "start": 7197.04, "duration": 4.8}, {"text": "windows api through", "start": 7199.36, "duration": 3.759}, {"text": "register", "start": 7201.84, "duration": 4.24}, {"text": "and even call functions", "start": 7203.119, "duration": 5.361}, {"text": "we are going to look into how we can", "start": 7206.08, "duration": 6.4}, {"text": "actually abuse the exec function again", "start": 7208.48, "duration": 6.96}, {"text": "to achieve a remote code execution", "start": 7212.48, "duration": 5.44}, {"text": "there are plenty of tools out there to", "start": 7215.44, "duration": 3.44}, {"text": "make this", "start": 7217.92, "duration": 4.4}, {"text": "very possible in automated way but i", "start": 7218.88, "duration": 5.68}, {"text": "want us to go through the manual way so", "start": 7222.32, "duration": 5.04}, {"text": "you can appreciate how much effort", "start": 7224.56, "duration": 6.079}, {"text": "people put into work to automate most of", "start": 7227.36, "duration": 6.0}, {"text": "our work to make them easier for us", "start": 7230.639, "duration": 5.201}, {"text": "so to get this to work there are a", "start": 7233.36, "duration": 4.799}, {"text": "couple of steps we have to go through", "start": 7235.84, "duration": 4.96}, {"text": "the first is for us to make sure that we", "start": 7238.159, "duration": 5.121}, {"text": "have at least payload that we already", "start": 7240.8, "duration": 5.839}, {"text": "have working if you recall from our", "start": 7243.28, "duration": 5.839}, {"text": "previous steps when it came to", "start": 7246.639, "duration": 5.121}, {"text": "building our c2 infrastructure we had", "start": 7249.119, "duration": 6.48}, {"text": "built an executable and were able to", "start": 7251.76, "duration": 7.919}, {"text": "establish a connection back to our c2", "start": 7255.599, "duration": 7.681}, {"text": "cabinet server so let us replay the same", "start": 7259.679, "duration": 6.321}, {"text": "thing and make sure that this particular", "start": 7263.28, "duration": 5.2}, {"text": "payload is working so we can begin to", "start": 7266.0, "duration": 4.639}, {"text": "work with that when it comes to building", "start": 7268.48, "duration": 4.56}, {"text": "our macro base attack", "start": 7270.639, "duration": 6.241}, {"text": "so from the test environment we can use", "start": 7273.04, "duration": 6.88}, {"text": "the powershell invoke web request", "start": 7276.88, "duration": 5.68}, {"text": "to download the payload and then once we", "start": 7279.92, "duration": 4.64}, {"text": "have it downloaded", "start": 7282.56, "duration": 4.24}, {"text": "we can try to run it", "start": 7284.56, "duration": 4.639}, {"text": "and let's go back and confirm that we", "start": 7286.8, "duration": 4.319}, {"text": "have a connection", "start": 7289.199, "duration": 3.52}, {"text": "back to our c2", "start": 7291.119, "duration": 3.361}, {"text": "server", "start": 7292.719, "duration": 4.241}, {"text": "next we are going to use a tool called", "start": 7294.48, "duration": 3.6}, {"text": "donut", "start": 7296.96, "duration": 5.679}, {"text": "to generate a base64 encoded shell code", "start": 7298.08, "duration": 6.96}, {"text": "from our binary payload which we have", "start": 7302.639, "duration": 5.681}, {"text": "created with our covenant c2 framework", "start": 7305.04, "duration": 6.559}, {"text": "to work with donut you can always type", "start": 7308.32, "duration": 5.68}, {"text": "donut and it will give you", "start": 7311.599, "duration": 6.64}, {"text": "lots of options on how to get it to work", "start": 7314.0, "duration": 7.599}, {"text": "most especially it gives you the type of", "start": 7318.239, "duration": 5.521}, {"text": "payload it takes as an input so in this", "start": 7321.599, "duration": 2.881}, {"text": "case", "start": 7323.76, "duration": 3.359}, {"text": "it can take an exe", "start": 7324.48, "duration": 6.639}, {"text": "dll vbs or jscript file and these are", "start": 7327.119, "duration": 8.48}, {"text": "the additional options that come with it", "start": 7331.119, "duration": 4.48}, {"text": "so this is just a simple setup i have to", "start": 7336.239, "duration": 6.161}, {"text": "run", "start": 7340.48, "duration": 5.44}, {"text": "our donut command so in this case", "start": 7342.4, "duration": 7.52}, {"text": "we are just giving it the gt.exe as an", "start": 7345.92, "duration": 6.719}, {"text": "input and it's going to generate", "start": 7349.92, "duration": 5.44}, {"text": "a gt dot bin which is going to be in", "start": 7352.639, "duration": 5.121}, {"text": "base 64. let's try and see if we can", "start": 7355.36, "duration": 5.839}, {"text": "take a look at the content of the gt", "start": 7357.76, "duration": 5.919}, {"text": "dot bin", "start": 7361.199, "duration": 2.48}, {"text": "next we need to inject this shell code", "start": 7363.84, "duration": 6.0}, {"text": "into a process", "start": 7368.159, "duration": 2.56}, {"text": "and", "start": 7369.84, "duration": 4.16}, {"text": "we can use javascript to do that for us", "start": 7370.719, "duration": 6.081}, {"text": "one of the well-known tools to inject", "start": 7374.0, "duration": 4.96}, {"text": "the shellcode is going to be", "start": 7376.8, "duration": 4.96}, {"text": "shellcode to javascript developed by the", "start": 7378.96, "duration": 4.08}, {"text": "guys at", "start": 7381.76, "duration": 3.52}, {"text": "outflank so big shout out to the guys or", "start": 7383.04, "duration": 3.599}, {"text": "the teams out there who made this", "start": 7385.28, "duration": 3.6}, {"text": "possible so what we're going to be doing", "start": 7386.639, "duration": 5.121}, {"text": "is i am going to copy this", "start": 7388.88, "duration": 6.239}, {"text": "base64 file this is how", "start": 7391.76, "duration": 6.24}, {"text": "the the shell to javascript looks like", "start": 7395.119, "duration": 5.281}, {"text": "and we only need to make a slight", "start": 7398.0, "duration": 5.04}, {"text": "modification here you don't need to know", "start": 7400.4, "duration": 4.88}, {"text": "all the command in here but let's keep", "start": 7403.04, "duration": 3.76}, {"text": "all the way down", "start": 7405.28, "duration": 2.48}, {"text": "and", "start": 7406.8, "duration": 3.28}, {"text": "this is the only place we need to make a", "start": 7407.76, "duration": 3.2}, {"text": "change", "start": 7410.08, "duration": 1.68}, {"text": "so", "start": 7410.96, "duration": 3.279}, {"text": "typically depending on the environment", "start": 7411.76, "duration": 5.919}, {"text": "you find yourself in you can either have", "start": 7414.239, "duration": 8.081}, {"text": "a payload in 64-bit or 32-bit so", "start": 7417.679, "duration": 6.96}, {"text": "depending on the type of payload you'd", "start": 7422.32, "duration": 4.64}, {"text": "have to specify whether it's encoded", "start": 7424.639, "duration": 6.881}, {"text": "payload 64 or encoder payload 32 let me", "start": 7426.96, "duration": 6.56}, {"text": "comment this one out", "start": 7431.52, "duration": 5.199}, {"text": "so i can write a new variable", "start": 7433.52, "duration": 7.92}, {"text": "and i am going to paste my base64", "start": 7436.719, "duration": 7.92}, {"text": "encoded shell", "start": 7441.44, "duration": 4.159}, {"text": "and", "start": 7444.639, "duration": 4.08}, {"text": "okay ctrl x", "start": 7445.599, "duration": 5.04}, {"text": "and save that", "start": 7448.719, "duration": 4.561}, {"text": "before we go any further it is always", "start": 7450.639, "duration": 6.56}, {"text": "advisable to keep testing your payloads", "start": 7453.28, "duration": 6.319}, {"text": "it will help you in troubleshooting", "start": 7457.199, "duration": 4.0}, {"text": "on which step you may have missed", "start": 7459.599, "duration": 4.56}, {"text": "something with that said let us test and", "start": 7461.199, "duration": 5.841}, {"text": "confirm if the javascript code actually", "start": 7464.159, "duration": 5.201}, {"text": "works so a quick recap on this", "start": 7467.04, "duration": 4.8}, {"text": "particular setup so right now i'm", "start": 7469.36, "duration": 5.44}, {"text": "running a temporary web server on this", "start": 7471.84, "duration": 6.96}, {"text": "directory where we have the jscript.js", "start": 7474.8, "duration": 6.319}, {"text": "you know located and on the victims", "start": 7478.8, "duration": 4.24}, {"text": "machine or the test", "start": 7481.119, "duration": 5.04}, {"text": "box we are going to use the invoke dash", "start": 7483.04, "duration": 6.079}, {"text": "web request to download the", "start": 7486.159, "duration": 6.48}, {"text": "jscript and then try to run it", "start": 7489.119, "duration": 5.441}, {"text": "so we bring", "start": 7492.639, "duration": 4.641}, {"text": "up our", "start": 7494.56, "duration": 2.72}, {"text": "kavanaugh c2 framework", "start": 7497.44, "duration": 5.6}, {"text": "and now let's use", "start": 7499.679, "duration": 5.361}, {"text": "w script", "start": 7503.04, "duration": 4.159}, {"text": "to run the script and see if we get a", "start": 7505.04, "duration": 4.559}, {"text": "connection", "start": 7507.199, "duration": 5.92}, {"text": "all right so it took a few seconds and", "start": 7509.599, "duration": 6.961}, {"text": "now we have our connection back to us", "start": 7513.119, "duration": 6.161}, {"text": "so that means our javascript is not", "start": 7516.56, "duration": 5.36}, {"text": "working so now back to our excel", "start": 7519.28, "duration": 4.64}, {"text": "documents let's", "start": 7521.92, "duration": 4.64}, {"text": "begin to put everything together", "start": 7523.92, "duration": 5.52}, {"text": "and then weaponize this capability", "start": 7526.56, "duration": 5.84}, {"text": "so i'll right click on sheet1", "start": 7529.44, "duration": 6.36}, {"text": "go to insert", "start": 7532.4, "duration": 3.4}, {"text": "select", "start": 7537.28, "duration": 4.08}, {"text": "4.0 macro", "start": 7538.239, "duration": 5.201}, {"text": "we have a macro one here", "start": 7541.36, "duration": 2.96}, {"text": "okay", "start": 7543.44, "duration": 3.92}, {"text": "so within the first shell", "start": 7544.32, "duration": 6.08}, {"text": "we are still using the exec function", "start": 7547.36, "duration": 5.759}, {"text": "and we're going to call out powershell", "start": 7550.4, "duration": 4.4}, {"text": "and specify", "start": 7553.119, "duration": 5.52}, {"text": "execution policy to bypass just in case", "start": 7554.8, "duration": 6.799}, {"text": "we also want to specify", "start": 7558.639, "duration": 5.841}, {"text": "to hide our window and then the rest is", "start": 7561.599, "duration": 5.6}, {"text": "just the typical powershell command we", "start": 7564.48, "duration": 4.159}, {"text": "had used to", "start": 7567.199, "duration": 3.841}, {"text": "download the js script", "start": 7568.639, "duration": 4.721}, {"text": "all right and then once we're done", "start": 7571.04, "duration": 4.24}, {"text": "during the course of my research i", "start": 7573.36, "duration": 3.2}, {"text": "realized that", "start": 7575.28, "duration": 3.2}, {"text": "sometime the download takes a bit of a", "start": 7576.56, "duration": 4.639}, {"text": "time maybe about few seconds in between", "start": 7578.48, "duration": 5.199}, {"text": "before we can execute the next command", "start": 7581.199, "duration": 5.681}, {"text": "so i'm now using the weight to wait", "start": 7583.679, "duration": 5.52}, {"text": "about five seconds", "start": 7586.88, "duration": 4.96}, {"text": "and then once that is done another thing", "start": 7589.199, "duration": 5.681}, {"text": "that i discovered was once i close up", "start": 7591.84, "duration": 6.16}, {"text": "and then run the macro even though it", "start": 7594.88, "duration": 5.92}, {"text": "would download the file it doesn't", "start": 7598.0, "duration": 5.44}, {"text": "append or it doesn't add the extension", "start": 7600.8, "duration": 4.72}, {"text": "of dot js", "start": 7603.44, "duration": 2.88}, {"text": "so", "start": 7605.52, "duration": 3.44}, {"text": "i'll go back and then now use the exec", "start": 7606.32, "duration": 3.6}, {"text": "again", "start": 7608.96, "duration": 3.36}, {"text": "and then call out cmd", "start": 7609.92, "duration": 4.64}, {"text": "and then use a copy function", "start": 7612.32, "duration": 4.799}, {"text": "to copy the jscript", "start": 7614.56, "duration": 4.2}, {"text": "into", "start": 7617.119, "duration": 4.801}, {"text": "jscript.js now you can even use a move", "start": 7618.76, "duration": 5.479}, {"text": "here so you don't have two files on a", "start": 7621.92, "duration": 3.199}, {"text": "disk", "start": 7624.239, "duration": 2.88}, {"text": "and then i'll wait for you about five", "start": 7625.119, "duration": 5.441}, {"text": "more seconds before i call out the j and", "start": 7627.119, "duration": 6.96}, {"text": "the w script using the exact function to", "start": 7630.56, "duration": 5.92}, {"text": "run the script we can go further and", "start": 7634.079, "duration": 4.961}, {"text": "then add few more commands to delete our", "start": 7636.48, "duration": 5.44}, {"text": "script once it has been executed but", "start": 7639.04, "duration": 4.559}, {"text": "i'll leave that to you to play around", "start": 7641.92, "duration": 5.36}, {"text": "with that so with this one set up what", "start": 7643.599, "duration": 6.241}, {"text": "we can do is we can go further and then", "start": 7647.28, "duration": 5.68}, {"text": "try to test if this our macro works", "start": 7649.84, "duration": 6.08}, {"text": "before we save it up for our phishing", "start": 7652.96, "duration": 4.56}, {"text": "attack", "start": 7655.92, "duration": 4.159}, {"text": "we have our covenant app there's nothing", "start": 7657.52, "duration": 3.36}, {"text": "here", "start": 7660.079, "duration": 4.481}, {"text": "we go back to the windows 10 machine", "start": 7660.88, "duration": 6.16}, {"text": "and then we can now right click", "start": 7664.56, "duration": 3.84}, {"text": "on the first", "start": 7667.04, "duration": 3.679}, {"text": "cell", "start": 7668.4, "duration": 2.319}, {"text": "and then go to run", "start": 7672.079, "duration": 4.801}, {"text": "and run", "start": 7674.8, "duration": 4.399}, {"text": "our", "start": 7676.88, "duration": 2.319}, {"text": "macro", "start": 7679.92, "duration": 3.759}, {"text": "let's give a few seconds things are", "start": 7682.0, "duration": 5.48}, {"text": "happening behind the scenes", "start": 7683.679, "duration": 3.801}, {"text": "and we get our connection back", "start": 7689.76, "duration": 4.16}, {"text": "fantastic", "start": 7692.4, "duration": 3.199}, {"text": "let's do one more thing", "start": 7693.92, "duration": 2.64}, {"text": "so", "start": 7695.599, "duration": 3.6}, {"text": "within the first cell", "start": 7696.56, "duration": 4.96}, {"text": "we can set up an auto open", "start": 7699.199, "duration": 4.081}, {"text": "or auto close", "start": 7701.52, "duration": 4.719}, {"text": "which would essentially execute or run", "start": 7703.28, "duration": 6.48}, {"text": "our macro based on that definition", "start": 7706.239, "duration": 5.92}, {"text": "now typically we normally have the auto", "start": 7709.76, "duration": 5.12}, {"text": "open and as soon as", "start": 7712.159, "duration": 4.241}, {"text": "the victim", "start": 7714.88, "duration": 4.799}, {"text": "enables macro or data or content we'll", "start": 7716.4, "duration": 5.04}, {"text": "get our execution", "start": 7719.679, "duration": 4.0}, {"text": "let's do something different and try to", "start": 7721.44, "duration": 2.96}, {"text": "do", "start": 7723.679, "duration": 2.081}, {"text": "auto", "start": 7724.4, "duration": 5.839}, {"text": "close so we don't run our macro on open", "start": 7725.76, "duration": 5.839}, {"text": "but instead", "start": 7730.239, "duration": 4.161}, {"text": "when the victim closes the", "start": 7731.599, "duration": 6.161}, {"text": "excel sheet now that may be a patient", "start": 7734.4, "duration": 4.799}, {"text": "game because we don't know how long", "start": 7737.76, "duration": 4.16}, {"text": "they're opening for but at least", "start": 7739.199, "duration": 5.841}, {"text": "most victims are looking for an auto", "start": 7741.92, "duration": 4.08}, {"text": "open", "start": 7745.04, "duration": 3.76}, {"text": "so we just let it hang until they try to", "start": 7746.0, "duration": 5.599}, {"text": "close the document and then we will run", "start": 7748.8, "duration": 4.799}, {"text": "our macro", "start": 7751.599, "duration": 4.961}, {"text": "so hit enter", "start": 7753.599, "duration": 7.361}, {"text": "and let's hide this macro", "start": 7756.56, "duration": 4.4}, {"text": "of course we can enter anything here", "start": 7761.28, "duration": 4.08}, {"text": "so now that we have a weaponized", "start": 7768.96, "duration": 7.679}, {"text": "excel document with the excel 4.0", "start": 7772.159, "duration": 5.681}, {"text": "macro", "start": 7776.639, "duration": 3.201}, {"text": "let's look at our current setup right", "start": 7777.84, "duration": 4.72}, {"text": "now so back on my kali", "start": 7779.84, "duration": 5.12}, {"text": "i'm running the temporary web server", "start": 7782.56, "duration": 6.599}, {"text": "which is serving the jscript.js", "start": 7784.96, "duration": 4.199}, {"text": "on our kavanaugh c2 dashboard we don't", "start": 7789.28, "duration": 6.399}, {"text": "have any grants coming in yet", "start": 7792.719, "duration": 5.761}, {"text": "and this is a victim's computer which", "start": 7795.679, "duration": 5.281}, {"text": "we're going to play the victim", "start": 7798.48, "duration": 4.639}, {"text": "we have the excel", "start": 7800.96, "duration": 4.8}, {"text": "file right here called malicious", "start": 7803.119, "duration": 5.841}, {"text": "and if you look at the public folder it", "start": 7805.76, "duration": 5.04}, {"text": "is currently", "start": 7808.96, "duration": 4.719}, {"text": "empty with no jscript file here", "start": 7810.8, "duration": 3.6}, {"text": "so", "start": 7813.679, "duration": 3.681}, {"text": "double click on that let's run it", "start": 7814.4, "duration": 4.88}, {"text": "so let's assume that the client is here", "start": 7817.36, "duration": 4.48}, {"text": "the victim is here they see the typical", "start": 7819.28, "duration": 4.0}, {"text": "enable content", "start": 7821.84, "duration": 3.279}, {"text": "and they click on that", "start": 7823.28, "duration": 6.399}, {"text": "so for now nothing happens", "start": 7825.119, "duration": 7.681}, {"text": "if we look at our public folder", "start": 7829.679, "duration": 5.601}, {"text": "there's nothing right here", "start": 7832.8, "duration": 4.799}, {"text": "if we go back to our kali", "start": 7835.28, "duration": 4.959}, {"text": "we haven't fetched a file yet so", "start": 7837.599, "duration": 5.281}, {"text": "there's no connection back to our c2", "start": 7840.239, "duration": 6.081}, {"text": "so now let's assume the victim wants to", "start": 7842.88, "duration": 5.839}, {"text": "check out if there's any macro running", "start": 7846.32, "duration": 5.04}, {"text": "they can go in here and click on macro", "start": 7848.719, "duration": 4.161}, {"text": "and view macros", "start": 7851.36, "duration": 3.92}, {"text": "and as you can see there's nothing here", "start": 7852.88, "duration": 3.68}, {"text": "to be seen", "start": 7855.28, "duration": 3.2}, {"text": "so to the victim", "start": 7856.56, "duration": 4.559}, {"text": "nothing is happening here right", "start": 7858.48, "duration": 3.599}, {"text": "until", "start": 7861.119, "duration": 3.281}, {"text": "they close the", "start": 7862.079, "duration": 4.16}, {"text": "excel document", "start": 7864.4, "duration": 3.6}, {"text": "and then let's see what happens we have", "start": 7866.239, "duration": 3.521}, {"text": "fashion the file", "start": 7868.0, "duration": 3.679}, {"text": "and if we go back here", "start": 7869.76, "duration": 4.24}, {"text": "it's been fetched right", "start": 7871.679, "duration": 5.681}, {"text": "so the javascript has been fetched onto", "start": 7874.0, "duration": 5.679}, {"text": "the public folder without them knowing", "start": 7877.36, "duration": 4.239}, {"text": "of course i'm showing you this so you", "start": 7879.679, "duration": 3.361}, {"text": "can know what is happening behind the", "start": 7881.599, "duration": 4.321}, {"text": "scenes right and then let's go back to", "start": 7883.04, "duration": 4.159}, {"text": "our c2", "start": 7885.92, "duration": 5.44}, {"text": "and let's wait for a connection back", "start": 7887.199, "duration": 4.161}, {"text": "fantastic", "start": 7894.32, "duration": 5.759}, {"text": "we now have a working weaponized excel", "start": 7895.52, "duration": 7.52}, {"text": "document which we can use in our", "start": 7900.079, "duration": 5.52}, {"text": "phishing campaign", "start": 7903.04, "duration": 5.36}, {"text": "you have to remember that this is just", "start": 7905.599, "duration": 5.361}, {"text": "scratching the surface there are", "start": 7908.4, "duration": 4.48}, {"text": "a whole lot of things you can do with", "start": 7910.96, "duration": 4.48}, {"text": "this particular attack technique to make", "start": 7912.88, "duration": 4.719}, {"text": "it much more difficult", "start": 7915.44, "duration": 3.04}, {"text": "for", "start": 7917.599, "duration": 4.321}, {"text": "the defenders to catch you or block you", "start": 7918.48, "duration": 4.96}, {"text": "i just showed you some of the most", "start": 7921.92, "duration": 3.36}, {"text": "simplest way like i said a couple of", "start": 7923.44, "duration": 3.92}, {"text": "tools out there which will automate this", "start": 7925.28, "duration": 4.56}, {"text": "whole process to make your life a lot", "start": 7927.36, "duration": 3.44}, {"text": "easier", "start": 7929.84, "duration": 3.44}, {"text": "the next technique we'll talk about", "start": 7930.8, "duration": 4.879}, {"text": "under the initial access", "start": 7933.28, "duration": 5.28}, {"text": "tactic is social engineering", "start": 7935.679, "duration": 5.601}, {"text": "which one of the most well-known and", "start": 7938.56, "duration": 4.24}, {"text": "well-used", "start": 7941.28, "duration": 3.04}, {"text": "attack vector", "start": 7942.8, "duration": 3.359}, {"text": "by apts", "start": 7944.32, "duration": 4.399}, {"text": "and adversaries in general", "start": 7946.159, "duration": 6.641}, {"text": "and by mitre attack definition", "start": 7948.719, "duration": 6.48}, {"text": "adversaries may send phishing messages", "start": 7952.8, "duration": 5.52}, {"text": "to gain access to victim systems", "start": 7955.199, "duration": 6.641}, {"text": "um the attack id number which mitre", "start": 7958.32, "duration": 6.16}, {"text": "associated with social engineering is", "start": 7961.84, "duration": 5.359}, {"text": "t1566", "start": 7964.48, "duration": 4.56}, {"text": "and there are several", "start": 7967.199, "duration": 3.92}, {"text": "types of phishing attacks", "start": 7969.04, "duration": 4.079}, {"text": "we have um vision", "start": 7971.119, "duration": 4.321}, {"text": "smission spear efficient", "start": 7973.119, "duration": 5.201}, {"text": "and a whole lot which we can discuss all", "start": 7975.44, "duration": 4.56}, {"text": "of them here", "start": 7978.32, "duration": 2.52}, {"text": "so", "start": 7980.0, "duration": 3.28}, {"text": "statistically we have about", "start": 7980.84, "duration": 5.48}, {"text": "90 to 95 percent of corporate breaches", "start": 7983.28, "duration": 4.399}, {"text": "that happen", "start": 7986.32, "duration": 2.24}, {"text": "through", "start": 7987.679, "duration": 3.52}, {"text": "some sort of social engineering and this", "start": 7988.56, "duration": 4.72}, {"text": "is well known and doesn't need to be", "start": 7991.199, "duration": 4.161}, {"text": "discussed that much", "start": 7993.28, "duration": 6.16}, {"text": "so for us as offensive operators or as", "start": 7995.36, "duration": 7.2}, {"text": "ethical hackers or pen testers who want", "start": 7999.44, "duration": 5.6}, {"text": "to emulate adversaries", "start": 8002.56, "duration": 4.639}, {"text": "social engineering is going to be one of", "start": 8005.04, "duration": 4.4}, {"text": "the many ways we would want to", "start": 8007.199, "duration": 3.761}, {"text": "use to gain", "start": 8009.44, "duration": 4.719}, {"text": "an initial foothold within the targets", "start": 8010.96, "duration": 4.56}, {"text": "network", "start": 8014.159, "duration": 3.281}, {"text": "now depending on the scope of the", "start": 8015.52, "duration": 4.48}, {"text": "operation or the assessment", "start": 8017.44, "duration": 4.639}, {"text": "there are a couple of ways that we can", "start": 8020.0, "duration": 5.04}, {"text": "use for social engineering to deliver", "start": 8022.079, "duration": 6.801}, {"text": "our payload or weaponized document", "start": 8025.04, "duration": 5.92}, {"text": "some of them are you know hyperlink", "start": 8028.88, "duration": 4.88}, {"text": "weaponized attachment um you know", "start": 8030.96, "duration": 5.199}, {"text": "physical drops of usbs and stuff like", "start": 8033.76, "duration": 3.76}, {"text": "that", "start": 8036.159, "duration": 2.96}, {"text": "i have done a couple", "start": 8037.52, "duration": 5.76}, {"text": "of physical drops using robodaki", "start": 8039.119, "duration": 6.721}, {"text": "to gain initial access and even", "start": 8043.28, "duration": 4.72}, {"text": "weaponized attachment", "start": 8045.84, "duration": 5.359}, {"text": "one concept which as you go about with", "start": 8048.0, "duration": 7.199}, {"text": "your operation is the concept of", "start": 8051.199, "duration": 5.761}, {"text": "fission protects", "start": 8055.199, "duration": 4.48}, {"text": "essentially what you want to do is you", "start": 8056.96, "duration": 5.119}, {"text": "need to be able to have a message", "start": 8059.679, "duration": 5.841}, {"text": "you want to be able to get your victim", "start": 8062.079, "duration": 4.64}, {"text": "to", "start": 8065.52, "duration": 3.28}, {"text": "execute an action", "start": 8066.719, "duration": 4.96}, {"text": "or take certain actions based on what", "start": 8068.8, "duration": 5.279}, {"text": "you are telling them", "start": 8071.679, "duration": 4.641}, {"text": "and that is what a pretext is all about", "start": 8074.079, "duration": 4.321}, {"text": "and let me use an example on one of my", "start": 8076.32, "duration": 3.839}, {"text": "operations", "start": 8078.4, "duration": 2.96}, {"text": "so", "start": 8080.159, "duration": 3.52}, {"text": "the goal here for this particular red", "start": 8081.36, "duration": 4.239}, {"text": "team was supposed to use social", "start": 8083.679, "duration": 4.48}, {"text": "engineering using phishing campaign to", "start": 8085.599, "duration": 4.48}, {"text": "collect credentials", "start": 8088.159, "duration": 4.56}, {"text": "so after we had done all the", "start": 8090.079, "duration": 5.201}, {"text": "reconnaissance and everything", "start": 8092.719, "duration": 4.88}, {"text": "we discovered that the company was", "start": 8095.28, "duration": 4.399}, {"text": "actually going to deploy", "start": 8097.599, "duration": 5.921}, {"text": "an internal human resource platform", "start": 8099.679, "duration": 5.841}, {"text": "which was going to be used by all the", "start": 8103.52, "duration": 3.28}, {"text": "employees", "start": 8105.52, "duration": 3.52}, {"text": "now the mistake the company made was", "start": 8106.8, "duration": 5.359}, {"text": "they made this publicly available", "start": 8109.04, "duration": 6.24}, {"text": "on the company's corporate website", "start": 8112.159, "duration": 5.761}, {"text": "as opposed to being only available", "start": 8115.28, "duration": 4.16}, {"text": "internally", "start": 8117.92, "duration": 4.159}, {"text": "now they did not think about how an", "start": 8119.44, "duration": 3.759}, {"text": "attacker", "start": 8122.079, "duration": 2.56}, {"text": "or", "start": 8123.199, "duration": 4.081}, {"text": "an adversary or an apt would take", "start": 8124.639, "duration": 4.801}, {"text": "advantage of such an announcement which", "start": 8127.28, "duration": 5.04}, {"text": "we did because it gave out the date of", "start": 8129.44, "duration": 4.88}, {"text": "the deployment of the human resource", "start": 8132.32, "duration": 4.56}, {"text": "platform and the version the name of it", "start": 8134.32, "duration": 4.16}, {"text": "and a whole bunch of other information", "start": 8136.88, "duration": 3.759}, {"text": "that should not been exposed over the", "start": 8138.48, "duration": 4.719}, {"text": "internet so what we did was we picked", "start": 8140.639, "duration": 4.401}, {"text": "that and then we went to one of the", "start": 8143.199, "duration": 3.601}, {"text": "social media platforms", "start": 8145.04, "duration": 3.679}, {"text": "and looked up the director of human", "start": 8146.8, "duration": 4.879}, {"text": "resource for this institution", "start": 8148.719, "duration": 5.601}, {"text": "and then we crafted our pretext", "start": 8151.679, "duration": 4.881}, {"text": "and essentially what the pretext was all", "start": 8154.32, "duration": 5.6}, {"text": "about was we selected few employees", "start": 8156.56, "duration": 5.119}, {"text": "and sent an email", "start": 8159.92, "duration": 2.48}, {"text": "to", "start": 8161.679, "duration": 3.04}, {"text": "let them know that they are beta testers", "start": 8162.4, "duration": 4.799}, {"text": "for this platform that is being you know", "start": 8164.719, "duration": 4.161}, {"text": "it's coming out we've made noise about", "start": 8167.199, "duration": 3.92}, {"text": "it we're very excited that we're about", "start": 8168.88, "duration": 4.719}, {"text": "to have a new platform delivered for", "start": 8171.119, "duration": 4.161}, {"text": "employees convenience", "start": 8173.599, "duration": 2.48}, {"text": "but", "start": 8175.28, "duration": 3.6}, {"text": "you have been selected as a few beta", "start": 8176.079, "duration": 7.04}, {"text": "testers to test and see if the platform", "start": 8178.88, "duration": 5.759}, {"text": "would be", "start": 8183.119, "duration": 4.721}, {"text": "useful as we anticipate of course", "start": 8184.639, "duration": 6.96}, {"text": "employees would love to be beta testers", "start": 8187.84, "duration": 4.559}, {"text": "and", "start": 8191.599, "duration": 3.601}, {"text": "as a reward for them taking part of that", "start": 8192.399, "duration": 5.12}, {"text": "we're going to give them a gift card so", "start": 8195.2, "duration": 4.88}, {"text": "this was our pretext", "start": 8197.519, "duration": 4.641}, {"text": "now the reason why we're very successful", "start": 8200.08, "duration": 4.319}, {"text": "was because we did our job very well", "start": 8202.16, "duration": 3.519}, {"text": "when it came to", "start": 8204.399, "duration": 3.681}, {"text": "reconnaissance and we used something", "start": 8205.679, "duration": 4.96}, {"text": "that employees were all aware of within", "start": 8208.08, "duration": 4.639}, {"text": "the organization because we assumed that", "start": 8210.639, "duration": 4.08}, {"text": "if this has been made public on the", "start": 8212.719, "duration": 4.241}, {"text": "internet on their website", "start": 8214.719, "duration": 4.241}, {"text": "employees are all aware and they", "start": 8216.96, "duration": 4.479}, {"text": "anticipate this coming", "start": 8218.96, "duration": 5.12}, {"text": "second we chose you know employees that", "start": 8221.439, "duration": 5.361}, {"text": "we feel like they'll be most likely fall", "start": 8224.08, "duration": 5.92}, {"text": "for this um you know email", "start": 8226.8, "duration": 6.879}, {"text": "so we crafted our email and", "start": 8230.0, "duration": 6.0}, {"text": "were very successful in collecting some", "start": 8233.679, "duration": 4.481}, {"text": "credentials from employees", "start": 8236.0, "duration": 4.479}, {"text": "so this is where you want to make sure", "start": 8238.16, "duration": 4.96}, {"text": "that your pretext is unique", "start": 8240.479, "duration": 5.281}, {"text": "and most likely will be successful", "start": 8243.12, "duration": 6.199}, {"text": "next is going to be delivery and", "start": 8245.76, "duration": 7.12}, {"text": "exploitation and the tactic number", "start": 8249.319, "duration": 7.12}, {"text": "is ta00002", "start": 8252.88, "duration": 3.559}, {"text": "for miter attack framework and the", "start": 8257.679, "duration": 5.601}, {"text": "definition here is the execution", "start": 8260.639, "duration": 4.561}, {"text": "consists of techniques", "start": 8263.28, "duration": 5.039}, {"text": "that result in adversary controlled code", "start": 8265.2, "duration": 4.159}, {"text": "running", "start": 8268.319, "duration": 4.24}, {"text": "on a local or remote system this is", "start": 8269.359, "duration": 5.921}, {"text": "where once we've been able to social", "start": 8272.559, "duration": 4.641}, {"text": "engineer our way through phishing", "start": 8275.28, "duration": 3.359}, {"text": "campaign", "start": 8277.2, "duration": 3.439}, {"text": "we've been able to deliver", "start": 8278.639, "duration": 6.72}, {"text": "our weaponized document to our victim", "start": 8280.639, "duration": 7.84}, {"text": "that should lead into exploitation which", "start": 8285.359, "duration": 6.0}, {"text": "means that should lead into our code", "start": 8288.479, "duration": 6.481}, {"text": "being run on a victim system to gain our", "start": 8291.359, "duration": 5.521}, {"text": "initial foothold", "start": 8294.96, "duration": 4.24}, {"text": "techniques that run malicious code are", "start": 8296.88, "duration": 5.28}, {"text": "often paired with techniques from all", "start": 8299.2, "duration": 5.92}, {"text": "other tactics to achieve broader goals", "start": 8302.16, "duration": 5.519}, {"text": "like exploring a network", "start": 8305.12, "duration": 6.479}, {"text": "or stealing data so for example an", "start": 8307.679, "duration": 6.561}, {"text": "adversary might use a remote access tool", "start": 8311.599, "duration": 5.04}, {"text": "to run a partial script", "start": 8314.24, "duration": 5.52}, {"text": "that does remote system discovery so", "start": 8316.639, "duration": 5.121}, {"text": "everything that we do here is we've been", "start": 8319.76, "duration": 5.04}, {"text": "able to now deliver oh this is where we", "start": 8321.76, "duration": 4.879}, {"text": "deliver our payload", "start": 8324.8, "duration": 4.799}, {"text": "and then have expectation being done or", "start": 8326.639, "duration": 5.04}, {"text": "have our code running on a victim's", "start": 8329.599, "duration": 2.96}, {"text": "machine", "start": 8331.679, "duration": 3.521}, {"text": "this is where the red team operators", "start": 8332.559, "duration": 4.8}, {"text": "employ different ways to have the", "start": 8335.2, "duration": 4.8}, {"text": "efficient payloads delivered to the", "start": 8337.359, "duration": 4.96}, {"text": "targets network several way we've", "start": 8340.0, "duration": 5.04}, {"text": "discussed previously email attachment", "start": 8342.319, "duration": 5.521}, {"text": "hyperlink drive by download", "start": 8345.04, "duration": 4.96}, {"text": "let you know usb or link file or", "start": 8347.84, "duration": 4.08}, {"text": "whatever way that we can deliver our", "start": 8350.0, "duration": 2.96}, {"text": "payload", "start": 8351.92, "duration": 3.04}, {"text": "once it is delivered", "start": 8352.96, "duration": 4.719}, {"text": "our goal here is to have the", "start": 8354.96, "duration": 6.399}, {"text": "exploitation or have our code", "start": 8357.679, "duration": 6.081}, {"text": "run on the victim's machine", "start": 8361.359, "duration": 5.12}, {"text": "once it's been clicked or has been run", "start": 8363.76, "duration": 4.719}, {"text": "by the victim", "start": 8366.479, "duration": 4.16}, {"text": "so let's take a look at", "start": 8368.479, "duration": 4.0}, {"text": "one of the many ways that", "start": 8370.639, "duration": 3.92}, {"text": "some of you may be familiar with", "start": 8372.479, "duration": 3.84}, {"text": "when it comes to", "start": 8374.559, "duration": 4.8}, {"text": "delivery of a payload which is", "start": 8376.319, "duration": 4.721}, {"text": "html", "start": 8379.359, "duration": 3.04}, {"text": "smog green", "start": 8381.04, "duration": 4.88}, {"text": "so in attack scenario", "start": 8382.399, "duration": 7.281}, {"text": "a user may receive an email with a link", "start": 8385.92, "duration": 6.399}, {"text": "embedded in it by an adversary", "start": 8389.68, "duration": 4.56}, {"text": "now when the user visits the link", "start": 8392.319, "duration": 3.921}, {"text": "provided in the email", "start": 8394.24, "duration": 3.92}, {"text": "a javascript code", "start": 8396.24, "duration": 5.04}, {"text": "will most likely be executed", "start": 8398.16, "duration": 6.319}, {"text": "through what we called html smuggling", "start": 8401.28, "duration": 6.079}, {"text": "to automatically download and save the", "start": 8404.479, "duration": 4.481}, {"text": "smuggled payload", "start": 8407.359, "duration": 3.921}, {"text": "in the html link", "start": 8408.96, "duration": 4.8}, {"text": "now this technique is possible because", "start": 8411.28, "duration": 3.56}, {"text": "of", "start": 8413.76, "duration": 4.08}, {"text": "html5's download attribute", "start": 8414.84, "duration": 5.32}, {"text": "for anchor tags", "start": 8417.84, "duration": 4.88}, {"text": "and i have just a snippet", "start": 8420.16, "duration": 4.96}, {"text": "down here for you to take a quick look", "start": 8422.72, "duration": 3.36}, {"text": "at", "start": 8425.12, "duration": 2.88}, {"text": "this is what", "start": 8426.08, "duration": 5.44}, {"text": "makes possible to download", "start": 8428.0, "duration": 4.96}, {"text": "this file", "start": 8431.52, "duration": 3.36}, {"text": "this file right here", "start": 8432.96, "duration": 4.88}, {"text": "which is being referred in our html", "start": 8434.88, "duration": 3.84}, {"text": "code", "start": 8437.84, "duration": 3.76}, {"text": "automatically and it is going to show as", "start": 8438.72, "duration": 6.08}, {"text": "resume is resume dot doc", "start": 8441.6, "duration": 5.92}, {"text": "and we take a quick look into a fully", "start": 8444.8, "duration": 5.679}, {"text": "weaponized html file", "start": 8447.52, "duration": 4.64}, {"text": "and see how we can have this", "start": 8450.479, "duration": 4.241}, {"text": "accomplished now when the user clicks on", "start": 8452.16, "duration": 4.48}, {"text": "the hyperlink which in this case is", "start": 8454.72, "duration": 3.04}, {"text": "going to be", "start": 8456.64, "duration": 3.36}, {"text": "the resume.doc", "start": 8457.76, "duration": 5.52}, {"text": "the download attribute would instruct", "start": 8460.0, "duration": 5.92}, {"text": "the browser to automatically", "start": 8463.28, "duration": 6.88}, {"text": "download the target pointed by the href", "start": 8465.92, "duration": 5.439}, {"text": "attribute", "start": 8470.16, "duration": 4.64}, {"text": "and save it to disk so this is the", "start": 8471.359, "duration": 5.12}, {"text": "target file", "start": 8474.8, "duration": 3.32}, {"text": "which in this case is", "start": 8476.479, "duration": 3.441}, {"text": "doc123", "start": 8478.12, "duration": 3.08}, {"text": "dot doc", "start": 8479.92, "duration": 3.92}, {"text": "this will be automatically be downloaded", "start": 8481.2, "duration": 6.159}, {"text": "once the user clicks on the", "start": 8483.84, "duration": 6.0}, {"text": "hyperlink in the html file", "start": 8487.359, "duration": 5.04}, {"text": "now of course the anchor and its", "start": 8489.84, "duration": 5.76}, {"text": "download attribute can also be created", "start": 8492.399, "duration": 7.521}, {"text": "using just javascript instead of html so", "start": 8495.6, "duration": 7.52}, {"text": "this is built using html what we can", "start": 8499.92, "duration": 6.72}, {"text": "also do is we can use javascript to", "start": 8503.12, "duration": 6.239}, {"text": "do the same thing and this is an example", "start": 8506.64, "duration": 4.88}, {"text": "of a code we can use when it comes to", "start": 8509.359, "duration": 4.96}, {"text": "javascript two things happening here we", "start": 8511.52, "duration": 5.04}, {"text": "have we define a variable called my", "start": 8514.319, "duration": 5.681}, {"text": "anchor and we assign the", "start": 8516.56, "duration": 6.24}, {"text": "document dot create element and then", "start": 8520.0, "duration": 5.2}, {"text": "provide this as the href right", "start": 8522.8, "duration": 4.559}, {"text": "and then we're going to use the call out", "start": 8525.2, "duration": 3.199}, {"text": "the download", "start": 8527.359, "duration": 3.601}, {"text": "and then call out this particular file", "start": 8528.399, "duration": 4.721}, {"text": "so this is how we can use a javascript", "start": 8530.96, "duration": 4.0}, {"text": "to accomplish the same thing", "start": 8533.12, "duration": 4.239}, {"text": "down here with html now while this", "start": 8534.96, "duration": 5.04}, {"text": "technique is widely used the downside", "start": 8537.359, "duration": 5.921}, {"text": "here is the user would be prompted to", "start": 8540.0, "duration": 5.2}, {"text": "save the document file i mean the", "start": 8543.28, "duration": 4.32}, {"text": "downloaded file and then open it in", "start": 8545.2, "duration": 5.68}, {"text": "order for a payload to run", "start": 8547.6, "duration": 5.36}, {"text": "of course we don't want to have that so", "start": 8550.88, "duration": 4.559}, {"text": "we want to find a way to automatically", "start": 8552.96, "duration": 5.519}, {"text": "download and execute or at least", "start": 8555.439, "duration": 4.561}, {"text": "download a file", "start": 8558.479, "duration": 3.84}, {"text": "without the user's interaction so let's", "start": 8560.0, "duration": 4.16}, {"text": "say they just visit the site and then", "start": 8562.319, "duration": 4.721}, {"text": "automatically the file is downloaded", "start": 8564.16, "duration": 4.319}, {"text": "some of you may be aware of this", "start": 8567.04, "duration": 4.64}, {"text": "technique as the drive-by download where", "start": 8568.479, "duration": 4.88}, {"text": "you visit the site and then something", "start": 8571.68, "duration": 3.52}, {"text": "just downloads at the back you know", "start": 8573.359, "duration": 5.04}, {"text": "within the background so that is how", "start": 8575.2, "duration": 6.0}, {"text": "attackers used to also deliver their", "start": 8578.399, "duration": 5.841}, {"text": "payload to victims so we can trigger the", "start": 8581.2, "duration": 4.72}, {"text": "download from a jack you know from the", "start": 8584.24, "duration": 5.119}, {"text": "embedded javascript file no problem okay", "start": 8585.92, "duration": 5.92}, {"text": "what we also want to do is we would want", "start": 8589.359, "duration": 5.921}, {"text": "our payload to be base64 encoded of", "start": 8591.84, "duration": 5.84}, {"text": "course base64 can be", "start": 8595.28, "duration": 5.28}, {"text": "easily detected however there are", "start": 8597.68, "duration": 5.84}, {"text": "several ways to obfuscate", "start": 8600.56, "duration": 4.799}, {"text": "and also", "start": 8603.52, "duration": 4.4}, {"text": "implement detection evasion technique to", "start": 8605.359, "duration": 5.841}, {"text": "make a payload stay undetected but for", "start": 8607.92, "duration": 4.96}, {"text": "the sake of this", "start": 8611.2, "duration": 3.52}, {"text": "we're just going to stay um stick with", "start": 8612.88, "duration": 4.559}, {"text": "just a simpler way to get the concept", "start": 8614.72, "duration": 6.0}, {"text": "across to you so that you can apply or", "start": 8617.439, "duration": 6.241}, {"text": "do much more research on applying some", "start": 8620.72, "duration": 6.4}, {"text": "obfuscation to your technique or to your", "start": 8623.68, "duration": 4.48}, {"text": "delivery", "start": 8627.12, "duration": 3.359}, {"text": "so let's go through", "start": 8628.16, "duration": 4.319}, {"text": "one demo on how", "start": 8630.479, "duration": 4.321}, {"text": "we can create our", "start": 8632.479, "duration": 6.401}, {"text": "html smuggling attack for delivery of", "start": 8634.8, "duration": 7.44}, {"text": "our payload currently this is how our", "start": 8638.88, "duration": 5.12}, {"text": "setup looks like", "start": 8642.24, "duration": 4.32}, {"text": "we have our covenant c2 framework", "start": 8644.0, "duration": 3.52}, {"text": "running", "start": 8646.56, "duration": 3.04}, {"text": "with no connection to us with no", "start": 8647.52, "duration": 4.32}, {"text": "existing grant", "start": 8649.6, "duration": 6.32}, {"text": "so let's go step by step in the process", "start": 8651.84, "duration": 7.04}, {"text": "we already have an executable file we", "start": 8655.92, "duration": 4.96}, {"text": "have created with our covenant to", "start": 8658.88, "duration": 3.84}, {"text": "confirm we can connect back from our", "start": 8660.88, "duration": 5.84}, {"text": "victim's machine to our c2 framework", "start": 8662.72, "duration": 6.96}, {"text": "next with this html smuggling is we are", "start": 8666.72, "duration": 6.719}, {"text": "going to base 64 encode the binary", "start": 8669.68, "duration": 7.04}, {"text": "and convert the output into a one", "start": 8673.439, "duration": 6.0}, {"text": "continuous line which will be placed", "start": 8676.72, "duration": 6.16}, {"text": "within our html file so this is a", "start": 8679.439, "duration": 6.081}, {"text": "command i run to", "start": 8682.88, "duration": 5.12}, {"text": "generate one continuous basics for", "start": 8685.52, "duration": 6.56}, {"text": "encoded output um in this case we are", "start": 8688.0, "duration": 5.64}, {"text": "providing the", "start": 8692.08, "duration": 4.8}, {"text": "gt.exe which we know is able to", "start": 8693.64, "duration": 6.04}, {"text": "establish a shell back to our covenant", "start": 8696.88, "duration": 5.84}, {"text": "c2 framework and then we pipe that using", "start": 8699.68, "duration": 7.12}, {"text": "the tr to essentially remove every entry", "start": 8702.72, "duration": 6.719}, {"text": "um the enter and also any return", "start": 8706.8, "duration": 6.0}, {"text": "carriage within our um the basics for", "start": 8709.439, "duration": 5.761}, {"text": "encoded you know output", "start": 8712.8, "duration": 4.16}, {"text": "so once we hit enter", "start": 8715.2, "duration": 3.84}, {"text": "this should give us this", "start": 8716.96, "duration": 3.68}, {"text": "base64", "start": 8719.04, "duration": 4.08}, {"text": "encoded output and we're going to copy", "start": 8720.64, "duration": 5.04}, {"text": "this and then paste it within our html", "start": 8723.12, "duration": 3.84}, {"text": "file", "start": 8725.68, "duration": 6.88}, {"text": "so this is the example html smuggle html", "start": 8726.96, "duration": 7.84}, {"text": "file that we're going to", "start": 8732.56, "duration": 4.96}, {"text": "use for smuggling our payload", "start": 8734.8, "duration": 6.08}, {"text": "and i'll try my best as possible to walk", "start": 8737.52, "duration": 4.48}, {"text": "you through", "start": 8740.88, "duration": 3.12}, {"text": "some of the key element in this", "start": 8742.0, "duration": 4.56}, {"text": "particular html code", "start": 8744.0, "duration": 6.16}, {"text": "so the first one is just a function", "start": 8746.56, "duration": 8.48}, {"text": "which essentially decodes our payload or", "start": 8750.16, "duration": 8.159}, {"text": "our file which we had created or", "start": 8755.04, "duration": 6.16}, {"text": "generated a base64 encoded version of", "start": 8758.319, "duration": 6.16}, {"text": "that now we create a new variable called", "start": 8761.2, "duration": 7.04}, {"text": "file which is where we'll put our base64", "start": 8764.479, "duration": 5.681}, {"text": "encoded file here", "start": 8768.24, "duration": 4.88}, {"text": "so let me go ahead and", "start": 8770.16, "duration": 5.36}, {"text": "replace this one right here", "start": 8773.12, "duration": 5.12}, {"text": "with our base64", "start": 8775.52, "duration": 5.76}, {"text": "encoded output", "start": 8778.24, "duration": 6.64}, {"text": "so once our base64 file is encoded we", "start": 8781.28, "duration": 5.52}, {"text": "create i mean it's decoded", "start": 8784.88, "duration": 5.599}, {"text": "we now have to assign it to", "start": 8786.8, "duration": 6.639}, {"text": "a new variable called data so this is", "start": 8790.479, "duration": 5.84}, {"text": "where the basics for file is decoded and", "start": 8793.439, "duration": 6.721}, {"text": "put into the data variable", "start": 8796.319, "duration": 6.561}, {"text": "once that is done create a new blob", "start": 8800.16, "duration": 3.84}, {"text": "variable", "start": 8802.88, "duration": 4.0}, {"text": "so we can place the buffer array into", "start": 8804.0, "duration": 4.96}, {"text": "the blob another key thing we have to", "start": 8806.88, "duration": 5.76}, {"text": "make sure of is we create a new variable", "start": 8808.96, "duration": 6.64}, {"text": "of a file name which will be downloaded", "start": 8812.64, "duration": 6.32}, {"text": "so if you recall this is a file that we", "start": 8815.6, "duration": 6.719}, {"text": "base 64 encoded and this is supposed to", "start": 8818.96, "duration": 6.16}, {"text": "be the file which will be downloaded", "start": 8822.319, "duration": 7.12}, {"text": "once the the user visits the page", "start": 8825.12, "duration": 6.48}, {"text": "so the next one that we also interested", "start": 8829.439, "duration": 5.681}, {"text": "in is we create a hidden tag a tag here", "start": 8831.6, "duration": 5.28}, {"text": "if you recall we have something like", "start": 8835.12, "duration": 4.08}, {"text": "this in the javascript that i told you", "start": 8836.88, "duration": 5.68}, {"text": "so this will create a new variable of an", "start": 8839.2, "duration": 4.56}, {"text": "a tag", "start": 8842.56, "duration": 3.28}, {"text": "and then another feature we want to pay", "start": 8843.76, "duration": 4.8}, {"text": "attention to is this one right here", "start": 8845.84, "duration": 5.44}, {"text": "which is going to ensure that our anchor", "start": 8848.56, "duration": 6.0}, {"text": "object is not displayed on a web page we", "start": 8851.28, "duration": 5.28}, {"text": "will move our data", "start": 8854.56, "duration": 6.0}, {"text": "to the href which was created here okay", "start": 8856.56, "duration": 6.24}, {"text": "and then the download", "start": 8860.56, "duration": 5.839}, {"text": "action happens and our main objective", "start": 8862.8, "duration": 5.599}, {"text": "here for the smuggling is to make sure", "start": 8866.399, "duration": 3.92}, {"text": "that the user doesn't have any", "start": 8868.399, "duration": 4.641}, {"text": "interaction when it comes to downloading", "start": 8870.319, "duration": 5.761}, {"text": "so this particular line here is going to", "start": 8873.04, "duration": 6.399}, {"text": "ensure that the click action is", "start": 8876.08, "duration": 6.56}, {"text": "simulated to download the file without", "start": 8879.439, "duration": 6.081}, {"text": "the user doing anything here", "start": 8882.64, "duration": 5.44}, {"text": "so once we're done here we are going to", "start": 8885.52, "duration": 5.2}, {"text": "save this html file", "start": 8888.08, "duration": 5.52}, {"text": "and then host it on our web server and", "start": 8890.72, "duration": 6.32}, {"text": "then simulate a user trying to access", "start": 8893.6, "duration": 5.68}, {"text": "that particular web page", "start": 8897.04, "duration": 3.84}, {"text": "through let's say", "start": 8899.28, "duration": 3.76}, {"text": "our phishing campaign or our phishing", "start": 8900.88, "duration": 4.559}, {"text": "email that they were supposed to click", "start": 8903.04, "duration": 3.92}, {"text": "on a hyperlink", "start": 8905.439, "duration": 4.401}, {"text": "all right so a slight modification here", "start": 8906.96, "duration": 5.6}, {"text": "i realized i made a mistake and i forgot", "start": 8909.84, "duration": 6.0}, {"text": "to add an opening body tag here within", "start": 8912.56, "duration": 4.879}, {"text": "our html", "start": 8915.84, "duration": 5.12}, {"text": "file so that would have made our html", "start": 8917.439, "duration": 6.88}, {"text": "html file not working properly so i came", "start": 8920.96, "duration": 5.519}, {"text": "back and fixed that so just in case", "start": 8924.319, "duration": 4.321}, {"text": "we're following along this might be an", "start": 8926.479, "duration": 3.92}, {"text": "issue if you", "start": 8928.64, "duration": 3.839}, {"text": "followed along step by step with my", "start": 8930.399, "duration": 4.321}, {"text": "previous code so i just came back and", "start": 8932.479, "duration": 4.161}, {"text": "fixed this one right here so", "start": 8934.72, "duration": 4.4}, {"text": "so now let's save it and let's bring", "start": 8936.64, "duration": 5.679}, {"text": "back our command to host our file", "start": 8939.12, "duration": 6.16}, {"text": "we have our c2 running no", "start": 8942.319, "duration": 4.881}, {"text": "grant coming in so far", "start": 8945.28, "duration": 4.88}, {"text": "and let's go back to the", "start": 8947.2, "duration": 4.4}, {"text": "victims machine", "start": 8950.16, "duration": 4.64}, {"text": "and let's play as a victim who is", "start": 8951.6, "duration": 5.36}, {"text": "accessing the hyperlink we may have", "start": 8954.8, "duration": 6.04}, {"text": "provided in our patient email so", "start": 8956.96, "duration": 7.04}, {"text": "http okay and then once the victim", "start": 8960.84, "duration": 5.88}, {"text": "clicks or executes or run this", "start": 8964.0, "duration": 4.399}, {"text": "particular url", "start": 8966.72, "duration": 4.0}, {"text": "let's look in few", "start": 8968.399, "duration": 5.361}, {"text": "seconds we should see a pop-up", "start": 8970.72, "duration": 6.08}, {"text": "that downloaded our file automatically", "start": 8973.76, "duration": 5.12}, {"text": "now unfortunately this is going to give", "start": 8976.8, "duration": 5.44}, {"text": "us a blocking by any browser because", "start": 8978.88, "duration": 6.0}, {"text": "this is an executable and of course we", "start": 8982.24, "duration": 6.079}, {"text": "did not apply any obfuscation or any", "start": 8984.88, "duration": 6.4}, {"text": "detection bypasses so for the sake of", "start": 8988.319, "duration": 5.521}, {"text": "this demo we wanted to just show you how", "start": 8991.28, "duration": 6.32}, {"text": "an html smuggling works as opposed to", "start": 8993.84, "duration": 6.72}, {"text": "trying to evade any detection so let's", "start": 8997.6, "duration": 4.719}, {"text": "just keep it", "start": 9000.56, "duration": 3.839}, {"text": "so once we open the file", "start": 9002.319, "duration": 6.481}, {"text": "we run it and then we head back to our", "start": 9004.399, "duration": 6.561}, {"text": "covenant c2 framework we get our", "start": 9008.8, "duration": 3.44}, {"text": "connection back", "start": 9010.96, "duration": 4.24}, {"text": "um the goal here is not to go into the", "start": 9012.24, "duration": 5.6}, {"text": "technicalities of trying to bypass any", "start": 9015.2, "duration": 4.4}, {"text": "image um any", "start": 9017.84, "duration": 4.479}, {"text": "detection controls the goal here was to", "start": 9019.6, "duration": 6.56}, {"text": "demonstrate how html smuggling works", "start": 9022.319, "duration": 6.16}, {"text": "when it comes to delivering payloads", "start": 9026.16, "duration": 5.68}, {"text": "so now we have a foothold on our victims", "start": 9028.479, "duration": 4.241}, {"text": "machine", "start": 9031.84, "duration": 3.84}, {"text": "network propagation", "start": 9032.72, "duration": 3.92}, {"text": "so", "start": 9035.68, "duration": 4.4}, {"text": "in our first phase of our", "start": 9036.64, "duration": 5.2}, {"text": "unified", "start": 9040.08, "duration": 4.08}, {"text": "attack kill chain", "start": 9041.84, "duration": 5.76}, {"text": "we did everything we can within the", "start": 9044.16, "duration": 5.6}, {"text": "initial access phase", "start": 9047.6, "duration": 5.759}, {"text": "to ensure we have established a foothold", "start": 9049.76, "duration": 6.96}, {"text": "on a victim's machine or on a target's", "start": 9053.359, "duration": 4.801}, {"text": "machine", "start": 9056.72, "duration": 2.56}, {"text": "next", "start": 9058.16, "duration": 3.84}, {"text": "major milestone we are going to try to", "start": 9059.28, "duration": 6.079}, {"text": "accomplish is network propagation", "start": 9062.0, "duration": 6.08}, {"text": "now this is where we find ourselves on", "start": 9065.359, "duration": 4.881}, {"text": "an environment that we're not familiar", "start": 9068.08, "duration": 4.319}, {"text": "with it's like being dropped within a", "start": 9070.24, "duration": 6.079}, {"text": "forest right our job here is now to be", "start": 9072.399, "duration": 6.96}, {"text": "able to get ourselves familiarized with", "start": 9076.319, "duration": 4.881}, {"text": "the victim's target environment i mean", "start": 9079.359, "duration": 3.841}, {"text": "with the targets environment", "start": 9081.2, "duration": 4.239}, {"text": "and then be able to execute other", "start": 9083.2, "duration": 4.0}, {"text": "activities", "start": 9085.439, "duration": 4.161}, {"text": "so once the team has established initial", "start": 9087.2, "duration": 5.76}, {"text": "access on a system our job is to pivot", "start": 9089.6, "duration": 7.2}, {"text": "into the internal network by executing", "start": 9092.96, "duration": 5.92}, {"text": "various activities", "start": 9096.8, "duration": 5.28}, {"text": "some of these activities are persistence", "start": 9098.88, "duration": 5.439}, {"text": "of course we want to make sure that we", "start": 9102.08, "duration": 5.2}, {"text": "maintain our access on a system", "start": 9104.319, "duration": 6.321}, {"text": "that would help us to take our time", "start": 9107.28, "duration": 6.96}, {"text": "to execute situational awareness to get", "start": 9110.64, "duration": 5.6}, {"text": "to know the environment we found", "start": 9114.24, "duration": 3.52}, {"text": "ourselves in", "start": 9116.24, "duration": 4.079}, {"text": "in some cases we may need to escalate", "start": 9117.76, "duration": 5.599}, {"text": "privileges to be able to execute certain", "start": 9120.319, "duration": 4.561}, {"text": "activities", "start": 9123.359, "duration": 2.641}, {"text": "and", "start": 9124.88, "duration": 3.76}, {"text": "maybe we may have to also evade some", "start": 9126.0, "duration": 4.56}, {"text": "defensive controls", "start": 9128.64, "duration": 5.44}, {"text": "that we may face within the", "start": 9130.56, "duration": 4.879}, {"text": "environment", "start": 9134.08, "duration": 3.84}, {"text": "we may need to harvest credentials to be", "start": 9135.439, "duration": 5.92}, {"text": "able to jump around within the network", "start": 9137.92, "duration": 6.0}, {"text": "which would facilitate or help us in", "start": 9141.359, "duration": 5.601}, {"text": "lateral movement", "start": 9143.92, "duration": 3.04}, {"text": "so the first", "start": 9147.04, "duration": 5.279}, {"text": "tactic within the network propagation is", "start": 9148.88, "duration": 5.04}, {"text": "persistence", "start": 9152.319, "duration": 6.321}, {"text": "and the miter attack framework id number", "start": 9153.92, "duration": 8.519}, {"text": "is ta00003", "start": 9158.64, "duration": 3.799}, {"text": "and the definition is persistent", "start": 9163.84, "duration": 4.8}, {"text": "consists of techniques that adversaries", "start": 9165.76, "duration": 6.08}, {"text": "use to keep access systems across", "start": 9168.64, "duration": 4.48}, {"text": "restarts", "start": 9171.84, "duration": 3.44}, {"text": "change credentials and other", "start": 9173.12, "duration": 5.199}, {"text": "interruptions that could cut off their", "start": 9175.28, "duration": 4.24}, {"text": "access", "start": 9178.319, "duration": 3.281}, {"text": "we just want to make sure that we", "start": 9179.52, "duration": 4.4}, {"text": "maintain access throughout our", "start": 9181.6, "duration": 4.48}, {"text": "operations", "start": 9183.92, "duration": 5.6}, {"text": "so for red teamers persistence is where", "start": 9186.08, "duration": 6.239}, {"text": "we carry out a set of techniques", "start": 9189.52, "duration": 6.08}, {"text": "to attempt to establish short and long", "start": 9192.319, "duration": 7.281}, {"text": "term footholds on the network to ensure", "start": 9195.6, "duration": 6.799}, {"text": "a continued communication between the", "start": 9199.6, "duration": 5.52}, {"text": "compromise system or systems", "start": 9202.399, "duration": 5.441}, {"text": "and then our c2 infrastructure now what", "start": 9205.12, "duration": 5.52}, {"text": "happens is most of the time we have", "start": 9207.84, "duration": 4.72}, {"text": "established access to at least one", "start": 9210.64, "duration": 4.96}, {"text": "system during our initial access now", "start": 9212.56, "duration": 5.52}, {"text": "sometimes it may be one or it could be", "start": 9215.6, "duration": 5.52}, {"text": "10 20 depending on how we carried out", "start": 9218.08, "duration": 5.04}, {"text": "our initial access", "start": 9221.12, "duration": 4.88}, {"text": "nevertheless the process or some of the", "start": 9223.12, "duration": 5.44}, {"text": "activities will run here will be the", "start": 9226.0, "duration": 4.88}, {"text": "same doesn't matter whether we do it", "start": 9228.56, "duration": 3.759}, {"text": "from one system", "start": 9230.88, "duration": 4.24}, {"text": "to three or ten systems", "start": 9232.319, "duration": 5.841}, {"text": "so to ensure the team maintains access", "start": 9235.12, "duration": 5.359}, {"text": "through our system reboots persistence", "start": 9238.16, "duration": 5.12}, {"text": "is necessary one key thing that we need", "start": 9240.479, "duration": 5.041}, {"text": "to understand here is persistence is a", "start": 9243.28, "duration": 3.92}, {"text": "necessary evil", "start": 9245.52, "duration": 4.799}, {"text": "because we want to maintain access but", "start": 9247.2, "duration": 5.199}, {"text": "we can't do that without a cost and the", "start": 9250.319, "duration": 6.0}, {"text": "cost here is our activities may touch", "start": 9252.399, "duration": 6.96}, {"text": "computer disk that means anything that", "start": 9256.319, "duration": 5.601}, {"text": "we do when it comes to persistence may", "start": 9259.359, "duration": 3.921}, {"text": "leave", "start": 9261.92, "duration": 2.88}, {"text": "some footprint", "start": 9263.28, "duration": 5.52}, {"text": "on the systems or disk and this may be", "start": 9264.8, "duration": 6.559}, {"text": "an opportunity for the blue teamers to", "start": 9268.8, "duration": 6.4}, {"text": "detect our operations or our activities", "start": 9271.359, "duration": 6.08}, {"text": "and let's cover some few", "start": 9275.2, "duration": 3.84}, {"text": "additional things that you should be", "start": 9277.439, "duration": 4.241}, {"text": "aware of persistence can be established", "start": 9279.04, "duration": 5.68}, {"text": "on both the system we had compromised or", "start": 9281.68, "duration": 5.2}, {"text": "the ad and we'll go through some of the", "start": 9284.72, "duration": 4.48}, {"text": "techniques for both system based", "start": 9286.88, "duration": 6.0}, {"text": "persistence and also domain or active", "start": 9289.2, "duration": 6.64}, {"text": "directory based persistence", "start": 9292.88, "duration": 5.28}, {"text": "another important thing to understand", "start": 9295.84, "duration": 4.88}, {"text": "also is persistence can be carried out", "start": 9298.16, "duration": 6.0}, {"text": "under two types of access levels we have", "start": 9300.72, "duration": 6.16}, {"text": "the typical regular user which might be", "start": 9304.16, "duration": 5.76}, {"text": "um is classified as low or medium", "start": 9306.88, "duration": 4.559}, {"text": "integrity", "start": 9309.92, "duration": 5.92}, {"text": "or an admin system or root user which", "start": 9311.439, "duration": 7.441}, {"text": "will be in high integrity so persistent", "start": 9315.84, "duration": 4.88}, {"text": "some of them may only be", "start": 9318.88, "duration": 5.599}, {"text": "be applicable if you are an admin or you", "start": 9320.72, "duration": 6.88}, {"text": "are a system or you are a root others", "start": 9324.479, "duration": 5.84}, {"text": "may require just a regular user to", "start": 9327.6, "duration": 4.4}, {"text": "maintain persistence", "start": 9330.319, "duration": 3.681}, {"text": "two concepts you also have to understand", "start": 9332.0, "duration": 5.359}, {"text": "is where do i keep my payload especially", "start": 9334.0, "duration": 5.52}, {"text": "where it should not be detected or be", "start": 9337.359, "duration": 5.361}, {"text": "found easily by our target and what", "start": 9339.52, "duration": 6.72}, {"text": "events should trigger that payload so", "start": 9342.72, "duration": 5.44}, {"text": "these are some of the things that we", "start": 9346.24, "duration": 4.8}, {"text": "need to consider and some example", "start": 9348.16, "duration": 5.279}, {"text": "techniques we will come across or use in", "start": 9351.04, "duration": 3.52}, {"text": "this demo", "start": 9353.439, "duration": 2.96}, {"text": "for persistence", "start": 9354.56, "duration": 3.68}, {"text": "uh registry", "start": 9356.399, "duration": 4.561}, {"text": "schedule jobs tasks phone jobs", "start": 9358.24, "duration": 4.88}, {"text": "services hidden accounts and what have", "start": 9360.96, "duration": 3.92}, {"text": "you so let's", "start": 9363.12, "duration": 4.0}, {"text": "start with some demos", "start": 9364.88, "duration": 5.2}, {"text": "on how we can create persistence on", "start": 9367.12, "duration": 4.96}, {"text": "systems once we have established a", "start": 9370.08, "duration": 3.279}, {"text": "foothold", "start": 9372.08, "duration": 3.44}, {"text": "on our first target", "start": 9373.359, "duration": 5.361}, {"text": "our first persistence technique is", "start": 9375.52, "duration": 5.839}, {"text": "shortcut back dooring", "start": 9378.72, "duration": 6.639}, {"text": "and the miter attack framework attack id", "start": 9381.359, "duration": 7.401}, {"text": "is t1547.009", "start": 9385.359, "duration": 3.401}, {"text": "[Music]", "start": 9390.79, "duration": 4.17}, {"text": "the type of permission we need here is", "start": 9392.0, "duration": 6.16}, {"text": "at least just a regular user", "start": 9394.96, "duration": 7.359}, {"text": "now most users have link or shortcut", "start": 9398.16, "duration": 7.44}, {"text": "files that points to another program", "start": 9402.319, "duration": 5.921}, {"text": "which makes it very easy to just double", "start": 9405.6, "duration": 5.36}, {"text": "click the shortcut to a file that will", "start": 9408.24, "duration": 5.28}, {"text": "run the program so if you look here we", "start": 9410.96, "duration": 5.92}, {"text": "have all these here are what we classify", "start": 9413.52, "duration": 8.64}, {"text": "as dot lnk or a shortcut what happens is", "start": 9416.88, "duration": 7.599}, {"text": "once we double click on any of these", "start": 9422.16, "duration": 4.8}, {"text": "it will just execute the", "start": 9424.479, "duration": 5.601}, {"text": "uh microsoft edge browser", "start": 9426.96, "duration": 3.92}, {"text": "so", "start": 9430.08, "duration": 4.56}, {"text": "what we can do here is as adversaries or", "start": 9430.88, "duration": 5.76}, {"text": "as rating operators", "start": 9434.64, "duration": 4.96}, {"text": "we can backdoor this particular", "start": 9436.64, "duration": 4.08}, {"text": "shortcut", "start": 9439.6, "duration": 2.719}, {"text": "so that it will run", "start": 9440.72, "duration": 4.56}, {"text": "our payload each time that the user", "start": 9442.319, "duration": 4.481}, {"text": "tries to", "start": 9445.28, "duration": 3.28}, {"text": "run this program", "start": 9446.8, "duration": 3.76}, {"text": "so let's take a look at how we can have", "start": 9448.56, "duration": 5.36}, {"text": "this happen so we are going to try and", "start": 9450.56, "duration": 6.4}, {"text": "backdoor the microsoft edge", "start": 9453.92, "duration": 4.399}, {"text": "link here", "start": 9456.96, "duration": 2.88}, {"text": "so let's start", "start": 9458.319, "duration": 6.681}, {"text": "by making a copy of this", "start": 9459.84, "duration": 5.16}, {"text": "okay so we know that this is a copy once", "start": 9466.08, "duration": 5.52}, {"text": "we've made a copy of the", "start": 9468.56, "duration": 6.24}, {"text": "microsoft edge application", "start": 9471.6, "duration": 5.36}, {"text": "let's work off on the", "start": 9474.8, "duration": 4.559}, {"text": "copied version and not the original if", "start": 9476.96, "duration": 4.399}, {"text": "we mess up on the copied one we can", "start": 9479.359, "duration": 4.161}, {"text": "always make an additional copies from", "start": 9481.359, "duration": 4.481}, {"text": "the original i went ahead and made some", "start": 9483.52, "duration": 4.48}, {"text": "modifications to this one right here", "start": 9485.84, "duration": 4.4}, {"text": "let's walk through step by step on what", "start": 9488.0, "duration": 4.24}, {"text": "happened first", "start": 9490.24, "duration": 3.36}, {"text": "we will create", "start": 9492.24, "duration": 3.36}, {"text": "a vbs", "start": 9493.6, "duration": 5.28}, {"text": "script which is going to do two things", "start": 9495.6, "duration": 7.12}, {"text": "and i called it msh.vbs", "start": 9498.88, "duration": 6.8}, {"text": "first of all we set up a variable or we", "start": 9502.72, "duration": 6.4}, {"text": "instantiate the shell", "start": 9505.68, "duration": 6.719}, {"text": "command from using w script", "start": 9509.12, "duration": 6.96}, {"text": "using the w script dot create object to", "start": 9512.399, "duration": 6.0}, {"text": "call out the shell", "start": 9516.08, "duration": 4.16}, {"text": "function", "start": 9518.399, "duration": 4.241}, {"text": "and then what happens is we would", "start": 9520.24, "duration": 4.4}, {"text": "actually want to run the actual", "start": 9522.64, "duration": 3.28}, {"text": "application", "start": 9524.64, "duration": 3.28}, {"text": "once the user double clicks and the", "start": 9525.92, "duration": 3.76}, {"text": "reason why i want to do that is we don't", "start": 9527.92, "duration": 4.399}, {"text": "want to create any suspicion so when", "start": 9529.68, "duration": 5.28}, {"text": "they double click on the link we want", "start": 9532.319, "duration": 5.201}, {"text": "the application to behave", "start": 9534.96, "duration": 5.04}, {"text": "as if it is what it's supposed to be", "start": 9537.52, "duration": 4.08}, {"text": "doing", "start": 9540.0, "duration": 5.12}, {"text": "but then we want a second command to run", "start": 9541.6, "duration": 7.04}, {"text": "which is going to run our gt", "start": 9545.12, "duration": 5.359}, {"text": "txc payload", "start": 9548.64, "duration": 4.48}, {"text": "which is being hosted within the user's", "start": 9550.479, "duration": 4.721}, {"text": "directory or folder", "start": 9553.12, "duration": 4.56}, {"text": "and of course i have the zero set to", "start": 9555.2, "duration": 5.76}, {"text": "true so that it doesn't show the pop-up", "start": 9557.68, "duration": 4.719}, {"text": "once the user", "start": 9560.96, "duration": 3.359}, {"text": "double clicks on this so it is going to", "start": 9562.399, "duration": 4.881}, {"text": "hide our payload from being seen by the", "start": 9564.319, "duration": 6.0}, {"text": "user but underneath the background it", "start": 9567.28, "duration": 5.68}, {"text": "will be running and will catch our shell", "start": 9570.319, "duration": 5.761}, {"text": "so each time the user tries to run the", "start": 9572.96, "duration": 4.24}, {"text": "ms", "start": 9576.08, "duration": 3.76}, {"text": "or the microsoft edge browser would", "start": 9577.2, "duration": 5.6}, {"text": "always have persistence coming back to", "start": 9579.84, "duration": 6.72}, {"text": "our system to our c2 server so let us", "start": 9582.8, "duration": 6.08}, {"text": "confirm those two files", "start": 9586.56, "duration": 6.24}, {"text": "um if we come down here i have the ms", "start": 9588.88, "duration": 6.64}, {"text": "edge right here we have this being", "start": 9592.8, "duration": 5.12}, {"text": "stored so with these two files out of", "start": 9595.52, "duration": 5.76}, {"text": "the way let's go back and then show you", "start": 9597.92, "duration": 4.16}, {"text": "how", "start": 9601.28, "duration": 3.44}, {"text": "we modify this", "start": 9602.08, "duration": 4.399}, {"text": "shortcut so", "start": 9604.72, "duration": 3.679}, {"text": "let me bring up the original for a", "start": 9606.479, "duration": 4.161}, {"text": "comparison sake", "start": 9608.399, "duration": 4.481}, {"text": "so this is the original", "start": 9610.64, "duration": 3.92}, {"text": "microsoft edge", "start": 9612.88, "duration": 4.0}, {"text": "this is the fake one or the carpet one", "start": 9614.56, "duration": 5.04}, {"text": "or back door one the original one has", "start": 9616.88, "duration": 3.68}, {"text": "this", "start": 9619.6, "duration": 3.36}, {"text": "target which essentially points to the", "start": 9620.56, "duration": 5.839}, {"text": "entire path of the msh.exe", "start": 9622.96, "duration": 7.519}, {"text": "this one points to our vb script", "start": 9626.399, "duration": 6.801}, {"text": "this one points to the directory where", "start": 9630.479, "duration": 5.121}, {"text": "this application will call from always", "start": 9633.2, "duration": 5.68}, {"text": "provide the directory where our vbscript", "start": 9635.6, "duration": 6.16}, {"text": "will be called from so with all this set", "start": 9638.88, "duration": 3.68}, {"text": "let's", "start": 9641.76, "duration": 2.719}, {"text": "behave like the user", "start": 9642.56, "duration": 4.24}, {"text": "and then try to", "start": 9644.479, "duration": 3.201}, {"text": "run", "start": 9646.8, "duration": 1.84}, {"text": "our", "start": 9647.68, "duration": 4.4}, {"text": "microsoft edge shortcut on our desktop", "start": 9648.64, "duration": 4.799}, {"text": "and i have", "start": 9652.08, "duration": 2.319}, {"text": "our", "start": 9653.439, "duration": 2.081}, {"text": "c2", "start": 9654.399, "duration": 4.401}, {"text": "cabinet running and let's monitor once", "start": 9655.52, "duration": 5.04}, {"text": "the user tries to", "start": 9658.8, "duration": 3.92}, {"text": "run the microsoft edge", "start": 9660.56, "duration": 5.28}, {"text": "so as you can see the browser is open on", "start": 9662.72, "duration": 6.48}, {"text": "its own as typical as usual but then we", "start": 9665.84, "duration": 6.08}, {"text": "got our connection back to us and as you", "start": 9669.2, "duration": 5.76}, {"text": "can see the user will see the browser as", "start": 9671.92, "duration": 4.96}, {"text": "it is and then be going about their", "start": 9674.96, "duration": 5.12}, {"text": "business as usual each time the user", "start": 9676.88, "duration": 6.8}, {"text": "tries to run this browser we will keep", "start": 9680.08, "duration": 6.72}, {"text": "receiving our connection maintaining", "start": 9683.68, "duration": 7.16}, {"text": "persistence on the user", "start": 9686.8, "duration": 4.04}, {"text": "again as you can see", "start": 9691.359, "duration": 4.561}, {"text": "once the user tries to open it if they", "start": 9693.12, "duration": 6.56}, {"text": "open the browser 20 times a day we will", "start": 9695.92, "duration": 6.559}, {"text": "have our connection back to us 20 times", "start": 9699.68, "duration": 5.44}, {"text": "now that might be an overkilling but i", "start": 9702.479, "duration": 5.201}, {"text": "think we'll prefer having more sales", "start": 9705.12, "duration": 4.72}, {"text": "than having none at all", "start": 9707.68, "duration": 6.16}, {"text": "next on our persistence technique is", "start": 9709.84, "duration": 6.32}, {"text": "startup folder", "start": 9713.84, "duration": 3.28}, {"text": "the", "start": 9716.16, "duration": 4.72}, {"text": "mitre attack id number for this one is", "start": 9717.12, "duration": 6.76}, {"text": "1547.001", "start": 9720.88, "duration": 3.0}, {"text": "the permission again required for this", "start": 9726.08, "duration": 6.48}, {"text": "attack is at least just a regular user", "start": 9728.24, "duration": 7.76}, {"text": "now the goal here is to upload our", "start": 9732.56, "duration": 7.52}, {"text": "payload onto our victims startup folder", "start": 9736.0, "duration": 8.08}, {"text": "so that each time the system boots or", "start": 9740.08, "duration": 7.76}, {"text": "the user logs in our payload will", "start": 9744.08, "duration": 6.96}, {"text": "execute or will fire up the default", "start": 9747.84, "duration": 4.72}, {"text": "location for", "start": 9751.04, "duration": 6.0}, {"text": "any user's startup folder on a microsoft", "start": 9752.56, "duration": 6.799}, {"text": "operating system is this particular you", "start": 9757.04, "duration": 3.52}, {"text": "know path", "start": 9759.359, "duration": 1.92}, {"text": "so", "start": 9760.56, "duration": 3.759}, {"text": "we confirm that we don't have anything", "start": 9761.279, "duration": 4.08}, {"text": "right now", "start": 9764.319, "duration": 4.96}, {"text": "within this user and mandelar's", "start": 9765.359, "duration": 6.641}, {"text": "startup folder so now what we're gonna", "start": 9769.279, "duration": 5.441}, {"text": "do is we are going to upload", "start": 9772.0, "duration": 6.16}, {"text": "our payload or our implant into this", "start": 9774.72, "duration": 6.0}, {"text": "particular startup folder and then each", "start": 9778.16, "duration": 5.92}, {"text": "time the user logs out or reboot", "start": 9780.72, "duration": 6.0}, {"text": "will have our payload executed", "start": 9784.08, "duration": 7.12}, {"text": "so let's go ahead and copy our existing", "start": 9786.72, "duration": 7.52}, {"text": "gt file and then put it here right", "start": 9791.2, "duration": 5.92}, {"text": "within the startup folder once we're", "start": 9794.24, "duration": 4.96}, {"text": "done we can confirm", "start": 9797.12, "duration": 4.08}, {"text": "if the persistence works", "start": 9799.2, "duration": 4.4}, {"text": "by either rebooting the system which", "start": 9801.2, "duration": 4.159}, {"text": "will not be ideal", "start": 9803.6, "duration": 3.6}, {"text": "because the user might still be logged", "start": 9805.359, "duration": 4.801}, {"text": "in or we can log out the computer and", "start": 9807.2, "duration": 4.96}, {"text": "then log back in", "start": 9810.16, "duration": 4.239}, {"text": "so let's go ahead", "start": 9812.16, "duration": 5.68}, {"text": "and close this out", "start": 9814.399, "duration": 3.441}, {"text": "then log out so let's bring up and then", "start": 9818.56, "duration": 7.04}, {"text": "try to authenticate", "start": 9822.479, "duration": 3.121}, {"text": "okay", "start": 9826.56, "duration": 2.799}, {"text": "we see that", "start": 9827.6, "duration": 3.28}, {"text": "our", "start": 9829.359, "duration": 4.401}, {"text": "payload is executed and then we gain our", "start": 9830.88, "duration": 6.0}, {"text": "connection back obviously this is not", "start": 9833.76, "duration": 6.88}, {"text": "the most prudent way to have our payload", "start": 9836.88, "duration": 6.24}, {"text": "or our implant run", "start": 9840.64, "duration": 4.08}, {"text": "but like i said", "start": 9843.12, "duration": 4.159}, {"text": "the concept remains the same it's just", "start": 9844.72, "duration": 4.08}, {"text": "how you deliver", "start": 9847.279, "duration": 3.841}, {"text": "or approach it will determine", "start": 9848.8, "duration": 5.519}, {"text": "uh the success in being hidden from the", "start": 9851.12, "duration": 7.279}, {"text": "user of course this is a big problem", "start": 9854.319, "duration": 6.16}, {"text": "that we may have to find a way to have", "start": 9858.399, "duration": 4.321}, {"text": "this working without prompting or", "start": 9860.479, "duration": 5.041}, {"text": "showing to the user so each time the", "start": 9862.72, "duration": 5.2}, {"text": "user rate logs in we'll have this", "start": 9865.52, "duration": 4.72}, {"text": "connection coming back to us now for", "start": 9867.92, "duration": 5.04}, {"text": "cleanup purposes we can always go back", "start": 9870.24, "duration": 4.4}, {"text": "and then remove", "start": 9872.96, "duration": 4.479}, {"text": "that file", "start": 9874.64, "duration": 2.799}, {"text": "the next persistence", "start": 9879.279, "duration": 3.841}, {"text": "technique is", "start": 9881.439, "duration": 3.601}, {"text": "registry run", "start": 9883.12, "duration": 6.08}, {"text": "the miter attack framework id is", "start": 9885.04, "duration": 7.16}, {"text": "t1547.001", "start": 9889.2, "duration": 3.0}, {"text": "permission level for", "start": 9894.399, "duration": 5.441}, {"text": "this persistence is just a regular user", "start": 9896.56, "duration": 7.12}, {"text": "now the goal here is we want to modify", "start": 9899.84, "duration": 5.84}, {"text": "a registry run key", "start": 9903.68, "duration": 5.52}, {"text": "with our payload to execute so that each", "start": 9905.68, "duration": 6.799}, {"text": "time the system boots or the user logs", "start": 9909.2, "duration": 6.96}, {"text": "in our payload also execute", "start": 9912.479, "duration": 6.481}, {"text": "and this is going to be a path which we", "start": 9916.16, "duration": 6.239}, {"text": "are going to point our payload to first", "start": 9918.96, "duration": 5.2}, {"text": "let's confirm", "start": 9922.399, "duration": 6.481}, {"text": "our entries for the current registry run", "start": 9924.16, "duration": 8.4}, {"text": "and this is how the entry", "start": 9928.88, "duration": 5.92}, {"text": "looks like currently", "start": 9932.56, "duration": 3.44}, {"text": "we can now", "start": 9934.8, "duration": 4.08}, {"text": "set up a registry", "start": 9936.0, "duration": 4.96}, {"text": "key entry", "start": 9938.88, "duration": 4.64}, {"text": "to a path on a system", "start": 9940.96, "duration": 5.28}, {"text": "that would always fire", "start": 9943.52, "duration": 7.839}, {"text": "anytime that the system is rebooted", "start": 9946.24, "duration": 5.119}, {"text": "so the command to update", "start": 9951.6, "duration": 6.56}, {"text": "the registry entry would be this one", "start": 9954.88, "duration": 4.399}, {"text": "right here", "start": 9958.16, "duration": 3.04}, {"text": "so reg", "start": 9959.279, "duration": 6.401}, {"text": "add and we provide the entire path", "start": 9961.2, "duration": 4.48}, {"text": "of the run", "start": 9965.84, "duration": 5.04}, {"text": "and we are going to name our entry", "start": 9967.359, "duration": 5.841}, {"text": "defender update", "start": 9970.88, "duration": 6.24}, {"text": "and this is going to be the entry value", "start": 9973.2, "duration": 6.48}, {"text": "and it's going to point to", "start": 9977.12, "duration": 6.159}, {"text": "this file which is going to be our gt", "start": 9979.68, "duration": 5.36}, {"text": "dot exe", "start": 9983.279, "duration": 3.601}, {"text": "so we hit enter", "start": 9985.04, "duration": 4.0}, {"text": "and that should tell us", "start": 9986.88, "duration": 4.8}, {"text": "operation completed successfully", "start": 9989.04, "duration": 5.2}, {"text": "if we go back and", "start": 9991.68, "duration": 5.2}, {"text": "refresh this page", "start": 9994.24, "duration": 6.32}, {"text": "we should now see an entry here", "start": 9996.88, "duration": 5.12}, {"text": "just like", "start": 10000.56, "duration": 2.879}, {"text": "before", "start": 10002.0, "duration": 5.68}, {"text": "let's try to restart the system", "start": 10003.439, "duration": 6.641}, {"text": "and then let's see if", "start": 10007.68, "duration": 5.36}, {"text": "this works", "start": 10010.08, "duration": 5.76}, {"text": "then let's bring up our", "start": 10013.04, "duration": 5.359}, {"text": "kavanaugh", "start": 10015.84, "duration": 2.559}, {"text": "again we see a pop-up and we get our", "start": 10020.8, "duration": 6.44}, {"text": "connection back", "start": 10023.76, "duration": 3.48}, {"text": "so that works", "start": 10028.319, "duration": 3.12}, {"text": "the next persistence technique is", "start": 10032.0, "duration": 5.84}, {"text": "logon script", "start": 10035.439, "duration": 5.04}, {"text": "the permission type we need here is just", "start": 10037.84, "duration": 3.519}, {"text": "again", "start": 10040.479, "duration": 3.761}, {"text": "a regular user with no", "start": 10041.359, "duration": 5.361}, {"text": "admin privileges", "start": 10044.24, "duration": 5.84}, {"text": "when a user on a windows log", "start": 10046.72, "duration": 4.24}, {"text": "into", "start": 10050.08, "duration": 2.56}, {"text": "their box", "start": 10050.96, "duration": 3.439}, {"text": "there is a process called", "start": 10052.64, "duration": 4.96}, {"text": "user innate a when logon registry key", "start": 10054.399, "duration": 6.88}, {"text": "which launches the user's logon script", "start": 10057.6, "duration": 6.08}, {"text": "now the goal here is to set up", "start": 10061.279, "duration": 4.401}, {"text": "the user init", "start": 10063.68, "duration": 5.12}, {"text": "mpr logon script entry", "start": 10065.68, "duration": 6.32}, {"text": "within the registry with our script to", "start": 10068.8, "duration": 5.84}, {"text": "execute so that when the user", "start": 10072.0, "duration": 4.08}, {"text": "logs on", "start": 10074.64, "duration": 4.24}, {"text": "our script will execute us", "start": 10076.08, "duration": 5.44}, {"text": "one of the user's logon scripts", "start": 10078.88, "duration": 6.24}, {"text": "so the location of this particular", "start": 10081.52, "duration": 8.08}, {"text": "registry is h key underscore current", "start": 10085.12, "duration": 8.48}, {"text": "user environment so this is how the", "start": 10089.6, "duration": 5.24}, {"text": "user's", "start": 10093.6, "duration": 4.32}, {"text": "default current environment variable", "start": 10094.84, "duration": 6.2}, {"text": "looks like the goal here is we are going", "start": 10097.92, "duration": 5.359}, {"text": "to put in our backdoor", "start": 10101.04, "duration": 5.439}, {"text": "here so that it would execute as part of", "start": 10103.279, "duration": 4.561}, {"text": "the user's", "start": 10106.479, "duration": 2.361}, {"text": "logon", "start": 10107.84, "duration": 2.88}, {"text": "script so", "start": 10108.84, "duration": 6.04}, {"text": "to execute this persistence technique", "start": 10110.72, "duration": 6.559}, {"text": "there are a couple of things i had to do", "start": 10114.88, "duration": 5.519}, {"text": "first of all i created um a bad file", "start": 10117.279, "duration": 4.12}, {"text": "called", "start": 10120.399, "duration": 2.641}, {"text": "logon.bat", "start": 10121.399, "duration": 3.96}, {"text": "and it's only doing one thing right here", "start": 10123.04, "duration": 5.52}, {"text": "it's just going to run our payload which", "start": 10125.359, "duration": 6.721}, {"text": "is located within the directory for the", "start": 10128.56, "duration": 6.32}, {"text": "user and mandela", "start": 10132.08, "duration": 3.84}, {"text": "and", "start": 10134.88, "duration": 3.04}, {"text": "the next ends we are going to make an", "start": 10135.92, "duration": 3.04}, {"text": "entry", "start": 10137.92, "duration": 4.16}, {"text": "within the environment variable", "start": 10138.96, "duration": 6.96}, {"text": "so we can save that path to the", "start": 10142.08, "duration": 8.72}, {"text": "user init mpr logon script entry", "start": 10145.92, "duration": 7.28}, {"text": "okay so we hit enter", "start": 10150.8, "duration": 4.559}, {"text": "and that should be successful", "start": 10153.2, "duration": 6.0}, {"text": "so now if we go back to", "start": 10155.359, "duration": 6.08}, {"text": "our registry", "start": 10159.2, "duration": 4.64}, {"text": "and we do a refresh", "start": 10161.439, "duration": 6.401}, {"text": "we should have the logon.bat", "start": 10163.84, "duration": 5.84}, {"text": "entry", "start": 10167.84, "duration": 3.84}, {"text": "so to test if this persistence is", "start": 10169.68, "duration": 5.12}, {"text": "working let's go ahead and log out and", "start": 10171.68, "duration": 4.719}, {"text": "log back in", "start": 10174.8, "duration": 4.559}, {"text": "login back in", "start": 10176.399, "duration": 2.96}, {"text": "and as soon as they log in we got our", "start": 10179.76, "duration": 4.719}, {"text": "connection back the good thing here with", "start": 10182.399, "duration": 4.161}, {"text": "this particular", "start": 10184.479, "duration": 4.401}, {"text": "persistence is", "start": 10186.56, "duration": 3.52}, {"text": "even though", "start": 10188.88, "duration": 4.64}, {"text": "our script runs it runs a bit hidden", "start": 10190.08, "duration": 4.8}, {"text": "underneath here", "start": 10193.52, "duration": 4.32}, {"text": "which can at least escape the user's", "start": 10194.88, "duration": 5.599}, {"text": "observation let's clean up", "start": 10197.84, "duration": 5.519}, {"text": "to remove our entry we can just type", "start": 10200.479, "duration": 4.96}, {"text": "this command", "start": 10203.359, "duration": 4.401}, {"text": "and hit enter", "start": 10205.439, "duration": 5.04}, {"text": "then we come back hit refresh", "start": 10207.76, "duration": 4.32}, {"text": "and that should be gone", "start": 10210.479, "duration": 3.441}, {"text": "now when it comes to persistence there", "start": 10212.08, "duration": 4.64}, {"text": "are so many ways and techniques out", "start": 10213.92, "duration": 5.04}, {"text": "there in which i cannot cover all of", "start": 10216.72, "duration": 3.44}, {"text": "them", "start": 10218.96, "duration": 3.68}, {"text": "we have task scheduler that we could", "start": 10220.16, "duration": 3.44}, {"text": "have done", "start": 10222.64, "duration": 3.92}, {"text": "so let's head out to", "start": 10223.6, "duration": 6.08}, {"text": "another platform where we can do a", "start": 10226.56, "duration": 5.44}, {"text": "couple of other persistence which is", "start": 10229.68, "duration": 5.28}, {"text": "within the linux environment assuming we", "start": 10232.0, "duration": 5.76}, {"text": "breach or gain access to a linux box", "start": 10234.96, "duration": 5.04}, {"text": "what are one or two ways that we we can", "start": 10237.76, "duration": 3.92}, {"text": "persist on such", "start": 10240.0, "duration": 3.439}, {"text": "machine", "start": 10241.68, "duration": 4.4}, {"text": "the next persistence technique we want", "start": 10243.439, "duration": 6.721}, {"text": "to look into is chrome job backdooring", "start": 10246.08, "duration": 8.08}, {"text": "miter attack framework id for this", "start": 10250.16, "duration": 8.6}, {"text": "persistence technique is t1053.003", "start": 10254.16, "duration": 4.6}, {"text": "type of permission we need to execute", "start": 10262.08, "duration": 4.64}, {"text": "this persistence technique as just a", "start": 10264.399, "duration": 4.641}, {"text": "regular non-root", "start": 10266.72, "duration": 5.28}, {"text": "user so within the linux world chrome", "start": 10269.04, "duration": 6.0}, {"text": "job is similar to the task schedule", "start": 10272.0, "duration": 5.04}, {"text": "on windows machines", "start": 10275.04, "duration": 4.64}, {"text": "chrome job is essentially a script or", "start": 10277.04, "duration": 6.319}, {"text": "command designated to run at regular or", "start": 10279.68, "duration": 7.04}, {"text": "periodic predetermined intervals and our", "start": 10283.359, "duration": 7.281}, {"text": "job is we can backdoor or schedule", "start": 10286.72, "duration": 7.04}, {"text": "a cron job which will run based on our", "start": 10290.64, "duration": 7.12}, {"text": "definition or our specified time of", "start": 10293.76, "duration": 6.48}, {"text": "execution or intervals", "start": 10297.76, "duration": 6.4}, {"text": "so to demonstrate this technique we are", "start": 10300.24, "duration": 7.44}, {"text": "going to log in to one of the machines", "start": 10304.16, "duration": 6.4}, {"text": "as n mandela assuming that we have", "start": 10307.68, "duration": 5.599}, {"text": "compromised this user", "start": 10310.56, "duration": 7.12}, {"text": "okay so we are logged in as mandela", "start": 10313.279, "duration": 7.441}, {"text": "if we do id that is a user", "start": 10317.68, "duration": 6.32}, {"text": "and we know the user doesn't have any", "start": 10320.72, "duration": 6.639}, {"text": "root privileges we can check", "start": 10324.0, "duration": 5.359}, {"text": "the status of", "start": 10327.359, "duration": 5.481}, {"text": "chrome job by typing system", "start": 10329.359, "duration": 6.801}, {"text": "ctl and then status", "start": 10332.84, "duration": 6.439}, {"text": "to confirm it is running next we want to", "start": 10336.16, "duration": 5.68}, {"text": "check if there are any existing chrome", "start": 10339.279, "duration": 6.721}, {"text": "job running so we can type in chrome tab", "start": 10341.84, "duration": 5.0}, {"text": "dash", "start": 10346.0, "duration": 4.16}, {"text": "l and there are no chrome tab for n", "start": 10346.84, "duration": 7.32}, {"text": "mandela we can edit or add a chrome job", "start": 10350.16, "duration": 6.88}, {"text": "by issuing this command and we will just", "start": 10354.16, "duration": 5.36}, {"text": "pick the first option which is the nano", "start": 10357.04, "duration": 4.399}, {"text": "and as you can see", "start": 10359.52, "duration": 4.4}, {"text": "there's no entry here", "start": 10361.439, "duration": 5.201}, {"text": "so what we can do right here is we are", "start": 10363.92, "duration": 5.359}, {"text": "going to add a back door chrome job", "start": 10366.64, "duration": 5.52}, {"text": "which will run based on a time that we", "start": 10369.279, "duration": 5.281}, {"text": "define so i'm going to put in this entry", "start": 10372.16, "duration": 4.08}, {"text": "which is going to run every minute and", "start": 10374.56, "duration": 4.08}, {"text": "every two minutes right here", "start": 10376.24, "duration": 5.199}, {"text": "so this is the command we want to run", "start": 10378.64, "duration": 3.759}, {"text": "here", "start": 10381.439, "duration": 2.88}, {"text": "it's going to create a back door which", "start": 10382.399, "duration": 3.361}, {"text": "is going to", "start": 10384.319, "duration": 3.281}, {"text": "connect back to us from the victims", "start": 10385.76, "duration": 2.96}, {"text": "machine", "start": 10387.6, "duration": 3.759}, {"text": "every two minutes we can even drop this", "start": 10388.72, "duration": 4.16}, {"text": "down to", "start": 10391.359, "duration": 4.241}, {"text": "one minute", "start": 10392.88, "duration": 2.72}, {"text": "and save that", "start": 10397.04, "duration": 4.88}, {"text": "now we can head over to our kali so", "start": 10398.96, "duration": 6.319}, {"text": "let's change this to nine", "start": 10401.92, "duration": 5.04}, {"text": "eight four four three", "start": 10405.279, "duration": 3.441}, {"text": "and let's go back", "start": 10406.96, "duration": 2.88}, {"text": "and make", "start": 10408.72, "duration": 4.36}, {"text": "this modification", "start": 10409.84, "duration": 3.24}, {"text": "right", "start": 10420.64, "duration": 2.24}, {"text": "okay and after just one minute we", "start": 10427.52, "duration": 5.04}, {"text": "receive our connection back to us from", "start": 10430.319, "duration": 4.96}, {"text": "the victim this is still here", "start": 10432.56, "duration": 6.96}, {"text": "and we are here as mandela", "start": 10435.279, "duration": 4.241}, {"text": "another technique we can use within the", "start": 10439.68, "duration": 7.44}, {"text": "linux environment is ssh back dooring", "start": 10442.16, "duration": 9.44}, {"text": "and the miter attack framework attack id", "start": 10447.12, "duration": 8.159}, {"text": "associated with this technique is t", "start": 10451.6, "duration": 5.2}, {"text": "one zero", "start": 10455.279, "duration": 5.841}, {"text": "nine eight dot zero zero four permission", "start": 10456.8, "duration": 6.72}, {"text": "we need for this to work is just a", "start": 10461.12, "duration": 4.4}, {"text": "regular user", "start": 10463.52, "duration": 5.44}, {"text": "so once we have access to a linux box", "start": 10465.52, "duration": 7.839}, {"text": "we can add our attack ssh public key", "start": 10468.96, "duration": 7.359}, {"text": "into the ssh key files on the victims", "start": 10473.359, "duration": 4.08}, {"text": "machine", "start": 10476.319, "duration": 4.08}, {"text": "this will add our account as a trusted", "start": 10477.439, "duration": 5.761}, {"text": "account to ssh into the box", "start": 10480.399, "duration": 5.361}, {"text": "at any time without providing any", "start": 10483.2, "duration": 4.239}, {"text": "credential", "start": 10485.76, "duration": 6.719}, {"text": "so from the victims machine we can cd", "start": 10487.439, "duration": 8.801}, {"text": "into the ssh directory and as we can see", "start": 10492.479, "duration": 6.321}, {"text": "we have nothing here so far", "start": 10496.24, "duration": 4.0}, {"text": "now typically", "start": 10498.8, "duration": 4.559}, {"text": "that will be the folder with every ssh", "start": 10500.24, "duration": 6.32}, {"text": "related information such as authorized", "start": 10503.359, "duration": 5.601}, {"text": "keys or any", "start": 10506.56, "duration": 5.04}, {"text": "authorized host that has authenticated", "start": 10508.96, "duration": 5.04}, {"text": "to the system so currently we don't have", "start": 10511.6, "duration": 4.96}, {"text": "any first on our kali machine", "start": 10514.0, "duration": 5.84}, {"text": "let's generate an ssh key so the key has", "start": 10516.56, "duration": 6.64}, {"text": "been generated and it is down here this", "start": 10519.84, "duration": 4.4}, {"text": "path", "start": 10523.2, "duration": 4.4}, {"text": "for a public key next we can now copy", "start": 10524.24, "duration": 8.0}, {"text": "our key onto the victims ubuntu box", "start": 10527.6, "duration": 5.44}, {"text": "okay", "start": 10532.24, "duration": 1.68}, {"text": "so", "start": 10533.04, "duration": 2.88}, {"text": "number of keys added", "start": 10533.92, "duration": 4.479}, {"text": "is one and let's go back and confirm", "start": 10535.92, "duration": 3.439}, {"text": "that", "start": 10538.399, "duration": 2.96}, {"text": "we should see that our keys has been", "start": 10539.359, "duration": 3.521}, {"text": "added here", "start": 10541.359, "duration": 3.761}, {"text": "for my kali machine", "start": 10542.88, "duration": 4.72}, {"text": "so now let's test our persistence to", "start": 10545.12, "duration": 5.279}, {"text": "this box from our kali machine", "start": 10547.6, "duration": 4.799}, {"text": "and that should give us access without", "start": 10550.399, "duration": 4.481}, {"text": "providing any credentials", "start": 10552.399, "duration": 6.08}, {"text": "before we move on to the other", "start": 10554.88, "duration": 6.0}, {"text": "tactics and techniques i would like to", "start": 10558.479, "duration": 4.481}, {"text": "take a brief moment", "start": 10560.88, "duration": 3.519}, {"text": "to cover", "start": 10562.96, "duration": 3.84}, {"text": "one of the most important things when it", "start": 10564.399, "duration": 5.521}, {"text": "comes to rating operations and that is", "start": 10566.8, "duration": 5.84}, {"text": "active directory now this is not going", "start": 10569.92, "duration": 4.8}, {"text": "to be a comprehensive", "start": 10572.64, "duration": 3.36}, {"text": "discussion", "start": 10574.72, "duration": 4.0}, {"text": "on active directory and that is why i", "start": 10576.0, "duration": 5.52}, {"text": "have it classified as simplified an", "start": 10578.72, "duration": 5.599}, {"text": "active directory is a hierarchical", "start": 10581.52, "duration": 4.0}, {"text": "structure", "start": 10584.319, "duration": 4.561}, {"text": "that stores information about objects on", "start": 10585.52, "duration": 4.799}, {"text": "a network", "start": 10588.88, "duration": 3.92}, {"text": "a directory service such as active", "start": 10590.319, "duration": 4.641}, {"text": "directory domain services", "start": 10592.8, "duration": 5.599}, {"text": "provides the methods for storing", "start": 10594.96, "duration": 6.399}, {"text": "directory data and making this data", "start": 10598.399, "duration": 6.401}, {"text": "available to users and admins", "start": 10601.359, "duration": 7.04}, {"text": "now the ad ds stores information such as", "start": 10604.8, "duration": 4.8}, {"text": "servers", "start": 10608.399, "duration": 3.201}, {"text": "volumes printers", "start": 10609.6, "duration": 5.679}, {"text": "users usernames password phone numbers", "start": 10611.6, "duration": 6.48}, {"text": "accounts other objects that are", "start": 10615.279, "duration": 6.961}, {"text": "authorized on the same network this is a", "start": 10618.08, "duration": 7.76}, {"text": "screenshot from microsoft website", "start": 10622.24, "duration": 7.6}, {"text": "which gives us an overview of what i", "start": 10625.84, "duration": 6.88}, {"text": "just described right so these are all", "start": 10629.84, "duration": 5.519}, {"text": "the things that come together", "start": 10632.72, "duration": 6.8}, {"text": "and be managed by the domain controller", "start": 10635.359, "duration": 7.761}, {"text": "or a set of servers that manage these", "start": 10639.52, "duration": 7.36}, {"text": "objects another template is this very", "start": 10643.12, "duration": 7.279}, {"text": "simplistic overview of how a domain", "start": 10646.88, "duration": 6.88}, {"text": "forest would look like the blue.com and", "start": 10650.399, "duration": 6.721}, {"text": "the red.com as separate domains and", "start": 10653.76, "duration": 5.76}, {"text": "these domains are joined by what we call", "start": 10657.12, "duration": 4.96}, {"text": "the trust relationship we'll talk about", "start": 10659.52, "duration": 5.28}, {"text": "trust and how we can abuse and", "start": 10662.08, "duration": 5.84}, {"text": "leverage that to compromise an entire", "start": 10664.8, "duration": 5.92}, {"text": "forest within each domain we can have", "start": 10667.92, "duration": 6.359}, {"text": "subdomains so in this case we can have", "start": 10670.72, "duration": 7.04}, {"text": "sales.blue.com pr.blue.com", "start": 10674.279, "duration": 6.761}, {"text": "and the same thing for the red.com when", "start": 10677.76, "duration": 5.44}, {"text": "we have these two subdomains the", "start": 10681.04, "duration": 3.92}, {"text": "relationship created here is what we", "start": 10683.2, "duration": 4.48}, {"text": "call the domain tree we talk more about", "start": 10684.96, "duration": 5.519}, {"text": "the domain forest and the trust", "start": 10687.68, "duration": 5.92}, {"text": "relationships that will come across when", "start": 10690.479, "duration": 6.561}, {"text": "it comes to writing operations now given", "start": 10693.6, "duration": 5.2}, {"text": "how huge", "start": 10697.04, "duration": 4.88}, {"text": "the active directory would look like", "start": 10698.8, "duration": 5.76}, {"text": "and also all the", "start": 10701.92, "duration": 5.84}, {"text": "access rights we have to ensure and", "start": 10704.56, "duration": 6.48}, {"text": "enforce access controls and permissions", "start": 10707.76, "duration": 6.08}, {"text": "on the active directory objects", "start": 10711.04, "duration": 5.92}, {"text": "so that there are proper permission and", "start": 10713.84, "duration": 5.599}, {"text": "no abuse of", "start": 10716.96, "duration": 5.28}, {"text": "rights we have on the environment and as", "start": 10719.439, "duration": 4.0}, {"text": "a result", "start": 10722.24, "duration": 4.4}, {"text": "one key thing which is implemented here", "start": 10723.439, "duration": 6.481}, {"text": "is the security descriptor that defines", "start": 10726.64, "duration": 5.12}, {"text": "the object owner", "start": 10729.92, "duration": 4.96}, {"text": "the discretionary access control list or", "start": 10731.76, "duration": 7.04}, {"text": "the doco the system access control list", "start": 10734.88, "duration": 6.64}, {"text": "now the docker is made up of access", "start": 10738.8, "duration": 6.24}, {"text": "control entries that specify what", "start": 10741.52, "duration": 6.72}, {"text": "control other principles or other", "start": 10745.04, "duration": 7.68}, {"text": "objects are granted or denied over other", "start": 10748.24, "duration": 6.159}, {"text": "objects so for instance", "start": 10752.72, "duration": 4.719}, {"text": "you can have a user a", "start": 10754.399, "duration": 6.801}, {"text": "who would have control over user b", "start": 10757.439, "duration": 6.161}, {"text": "and the access control entries will", "start": 10761.2, "duration": 6.159}, {"text": "determine the type of control such a", "start": 10763.6, "duration": 7.2}, {"text": "principle would have on the user or", "start": 10767.359, "duration": 5.12}, {"text": "object b", "start": 10770.8, "duration": 4.8}, {"text": "during writing operations we may be able", "start": 10772.479, "duration": 7.281}, {"text": "to abuse misconfigured a c es for", "start": 10775.6, "duration": 7.679}, {"text": "privilege escalation or lateral movement", "start": 10779.76, "duration": 5.2}, {"text": "and we'll be talking about this and", "start": 10783.279, "duration": 4.721}, {"text": "we'll play some demos on how to abuse", "start": 10784.96, "duration": 7.6}, {"text": "these in red team operations", "start": 10788.0, "duration": 4.56}, {"text": "let's look at an", "start": 10793.12, "duration": 5.84}, {"text": "example access control entries for", "start": 10794.84, "duration": 7.479}, {"text": "the user object held selected", "start": 10798.96, "duration": 6.16}, {"text": "so within our domain controller", "start": 10802.319, "duration": 6.481}, {"text": "we can go into the user's profile", "start": 10805.12, "duration": 6.88}, {"text": "and then go to advanced", "start": 10808.8, "duration": 6.8}, {"text": "this is what we call the a c e", "start": 10812.0, "duration": 5.6}, {"text": "it will give us a type", "start": 10815.6, "duration": 5.36}, {"text": "the principle that has controls over the", "start": 10817.6, "duration": 5.52}, {"text": "user hailey selassie", "start": 10820.96, "duration": 4.8}, {"text": "and the type of access they use the", "start": 10823.12, "duration": 5.68}, {"text": "inheritance and where it applies", "start": 10825.76, "duration": 7.12}, {"text": "so this is what we have for this user", "start": 10828.8, "duration": 5.44}, {"text": "right here", "start": 10832.88, "duration": 3.36}, {"text": "and as you can see", "start": 10834.24, "duration": 5.76}, {"text": "the domain admins have full control over", "start": 10836.24, "duration": 6.48}, {"text": "the user health lassi", "start": 10840.0, "duration": 4.96}, {"text": "the same thing with account operators", "start": 10842.72, "duration": 4.24}, {"text": "have for control", "start": 10844.96, "duration": 5.12}, {"text": "and enterprise admin now of course the", "start": 10846.96, "duration": 6.64}, {"text": "types is where we can either deny", "start": 10850.08, "duration": 7.6}, {"text": "or allow and all of these are set to", "start": 10853.6, "duration": 5.44}, {"text": "allow", "start": 10857.68, "duration": 3.599}, {"text": "so how do we", "start": 10859.04, "duration": 6.08}, {"text": "demonstrate how a misconfigured ace", "start": 10861.279, "duration": 6.16}, {"text": "entry can be done", "start": 10865.12, "duration": 5.04}, {"text": "well we can go into add", "start": 10867.439, "duration": 5.92}, {"text": "and for the sake of demonstration", "start": 10870.16, "duration": 4.48}, {"text": "we can now", "start": 10873.359, "duration": 2.241}, {"text": "enter", "start": 10874.64, "duration": 4.16}, {"text": "permission entry for haley selassie", "start": 10875.6, "duration": 6.64}, {"text": "we can now select the principle that we", "start": 10878.8, "duration": 5.2}, {"text": "want to provide", "start": 10882.24, "duration": 3.28}, {"text": "access over", "start": 10884.0, "duration": 3.92}, {"text": "the object health class", "start": 10885.52, "duration": 3.2}, {"text": "let's", "start": 10887.92, "duration": 2.16}, {"text": "assign", "start": 10888.72, "duration": 2.88}, {"text": "the user", "start": 10890.08, "duration": 2.76}, {"text": "and", "start": 10891.6, "duration": 4.24}, {"text": "mandela let's check for the user name", "start": 10892.84, "duration": 5.16}, {"text": "and then click ok", "start": 10895.84, "duration": 3.84}, {"text": "now these are", "start": 10898.0, "duration": 5.04}, {"text": "the permissions we can select", "start": 10899.68, "duration": 6.56}, {"text": "we can just give the user mandela", "start": 10903.04, "duration": 5.84}, {"text": "for control over", "start": 10906.24, "duration": 6.0}, {"text": "the user object health selassie or we", "start": 10908.88, "duration": 6.479}, {"text": "can be selective and select us", "start": 10912.24, "duration": 5.199}, {"text": "which ones we want", "start": 10915.359, "duration": 4.721}, {"text": "for the purpose of this demo let's just", "start": 10917.439, "duration": 6.801}, {"text": "select for control and click ok", "start": 10920.08, "duration": 6.64}, {"text": "now once we come back here we should see", "start": 10924.24, "duration": 5.84}, {"text": "that the user and mandela now has full", "start": 10926.72, "duration": 6.8}, {"text": "control over the user hail selassie", "start": 10930.08, "duration": 5.359}, {"text": "and we'll walk through some example", "start": 10933.52, "duration": 4.16}, {"text": "demos on how we can abuse this", "start": 10935.439, "duration": 5.84}, {"text": "misconfiguration in the upcoming steps", "start": 10937.68, "duration": 5.759}, {"text": "so we just click apply", "start": 10941.279, "duration": 4.321}, {"text": "and click ok", "start": 10943.439, "duration": 3.84}, {"text": "another concept", "start": 10945.6, "duration": 4.799}, {"text": "we need to understand is kerberos", "start": 10947.279, "duration": 4.881}, {"text": "authentication", "start": 10950.399, "duration": 5.281}, {"text": "so kerberos authentication is used in", "start": 10952.16, "duration": 6.72}, {"text": "active directory for authentication and", "start": 10955.68, "duration": 6.32}, {"text": "authorization to access or request", "start": 10958.88, "duration": 7.68}, {"text": "network resources and when it comes to", "start": 10962.0, "duration": 6.24}, {"text": "authentication", "start": 10966.56, "duration": 4.16}, {"text": "it is essentially something similar to", "start": 10968.24, "duration": 5.039}, {"text": "single sign-on authentication it's just", "start": 10970.72, "duration": 5.679}, {"text": "you log in once on your network", "start": 10973.279, "duration": 6.16}, {"text": "and then you don't have to rate login", "start": 10976.399, "duration": 5.281}, {"text": "each time you have to request a resource", "start": 10979.439, "duration": 3.84}, {"text": "for the network", "start": 10981.68, "duration": 4.96}, {"text": "let's say the workstation zero one is", "start": 10983.279, "duration": 4.241}, {"text": "you", "start": 10986.64, "duration": 2.0}, {"text": "the", "start": 10987.52, "duration": 4.72}, {"text": "user who want to log into your network", "start": 10988.64, "duration": 5.12}, {"text": "server01", "start": 10992.24, "duration": 4.239}, {"text": "is let's say a server somewhere on a", "start": 10993.76, "duration": 6.08}, {"text": "network such as a printer or let's say a", "start": 10996.479, "duration": 6.321}, {"text": "human resource server that you may need", "start": 10999.84, "duration": 5.599}, {"text": "to request a resource and then we have", "start": 11002.8, "duration": 5.04}, {"text": "the dc-01", "start": 11005.439, "duration": 5.121}, {"text": "which is the domain controller and that", "start": 11007.84, "duration": 5.12}, {"text": "serves as the kdc", "start": 11010.56, "duration": 3.44}, {"text": "the key", "start": 11012.96, "duration": 3.76}, {"text": "distribution center and that provides", "start": 11014.0, "duration": 4.479}, {"text": "two services", "start": 11016.72, "duration": 4.48}, {"text": "authentication service and ticket", "start": 11018.479, "duration": 4.481}, {"text": "granting service", "start": 11021.2, "duration": 5.44}, {"text": "so here you are as a user on your laptop", "start": 11022.96, "duration": 6.24}, {"text": "the moment you go to work and then you", "start": 11026.64, "duration": 3.6}, {"text": "log in", "start": 11029.2, "duration": 3.36}, {"text": "what happens is you provide your", "start": 11030.24, "duration": 4.72}, {"text": "username and password", "start": 11032.56, "duration": 4.32}, {"text": "and then your system", "start": 11034.96, "duration": 4.96}, {"text": "communicates with the active directory", "start": 11036.88, "duration": 6.16}, {"text": "running the key distribution center and", "start": 11039.92, "duration": 5.68}, {"text": "it will take your username and then pass", "start": 11043.04, "duration": 5.12}, {"text": "it over to the domain controller to", "start": 11045.6, "duration": 8.48}, {"text": "request a ticket granting ticket or tgt", "start": 11048.16, "duration": 7.6}, {"text": "what would happen is the domain", "start": 11054.08, "duration": 3.92}, {"text": "controller will look at the information", "start": 11055.76, "duration": 4.559}, {"text": "you have provided and confirm that you", "start": 11058.0, "duration": 5.359}, {"text": "do exist on a domain and the credentials", "start": 11060.319, "duration": 6.96}, {"text": "do work it will pass back the tgt plus a", "start": 11063.359, "duration": 7.12}, {"text": "session key so let's say during the day", "start": 11067.279, "duration": 5.681}, {"text": "you want to request a resource on this", "start": 11070.479, "duration": 4.481}, {"text": "server right here", "start": 11072.96, "duration": 4.08}, {"text": "what is going to happen is you would", "start": 11074.96, "duration": 4.96}, {"text": "need to request what we call ticket", "start": 11077.04, "duration": 5.68}, {"text": "granting service tgs", "start": 11079.92, "duration": 5.84}, {"text": "but to do that you will send the ticket", "start": 11082.72, "duration": 4.4}, {"text": "request", "start": 11085.76, "duration": 4.16}, {"text": "to the server and is going to use a", "start": 11087.12, "duration": 5.44}, {"text": "ticket granted service to give you a", "start": 11089.92, "duration": 6.08}, {"text": "ticket plus your session key", "start": 11092.56, "duration": 5.2}, {"text": "in step four", "start": 11096.0, "duration": 3.439}, {"text": "now in step five", "start": 11097.76, "duration": 4.8}, {"text": "your system is going to take that key", "start": 11099.439, "duration": 5.441}, {"text": "and then send it over to the server", "start": 11102.56, "duration": 4.799}, {"text": "to request the resource let's assume you", "start": 11104.88, "duration": 5.36}, {"text": "want to request let's say an excel", "start": 11107.359, "duration": 5.521}, {"text": "document for human resources or for", "start": 11110.24, "duration": 3.92}, {"text": "payroll", "start": 11112.88, "duration": 4.08}, {"text": "this is where the authorization comes in", "start": 11114.16, "duration": 5.44}, {"text": "the authentication happens here from", "start": 11116.96, "duration": 4.399}, {"text": "this kdc", "start": 11119.6, "duration": 5.759}, {"text": "the kdc authenticates you who you are", "start": 11121.359, "duration": 6.401}, {"text": "and the fact that you're a valid user on", "start": 11125.359, "duration": 5.201}, {"text": "a domain the resource server would", "start": 11127.76, "duration": 5.2}, {"text": "provide the authorization if you", "start": 11130.56, "duration": 5.12}, {"text": "authorize to actually request a resource", "start": 11132.96, "duration": 4.16}, {"text": "on the server", "start": 11135.68, "duration": 4.16}, {"text": "before it will give you that request a", "start": 11137.12, "duration": 6.159}, {"text": "certain service or um object", "start": 11139.84, "duration": 5.439}, {"text": "this is where people get confused a lot", "start": 11143.279, "duration": 4.0}, {"text": "because they feel like once you have the", "start": 11145.279, "duration": 5.2}, {"text": "tgs in hand you should be able to access", "start": 11147.279, "duration": 4.801}, {"text": "anything no", "start": 11150.479, "duration": 5.041}, {"text": "because of access controls the server", "start": 11152.08, "duration": 6.239}, {"text": "determines whether you authorize to", "start": 11155.52, "duration": 6.0}, {"text": "obtain such requested resource", "start": 11158.319, "duration": 6.401}, {"text": "in step one we do the tgt", "start": 11161.52, "duration": 4.32}, {"text": "request", "start": 11164.72, "duration": 4.719}, {"text": "the traffic will normally show as a s", "start": 11165.84, "duration": 5.84}, {"text": "r e q", "start": 11169.439, "duration": 5.121}, {"text": "the user password will convert into ntlm", "start": 11171.68, "duration": 3.759}, {"text": "hash", "start": 11174.56, "duration": 3.6}, {"text": "timestamp and is encrypted with a hash", "start": 11175.439, "duration": 5.361}, {"text": "and then sent to the kdc to authenticate", "start": 11178.16, "duration": 4.319}, {"text": "you the user", "start": 11180.8, "duration": 4.24}, {"text": "the kdc checks your user information", "start": 11182.479, "duration": 5.681}, {"text": "such as your logon script restrictions", "start": 11185.04, "duration": 5.2}, {"text": "group membership and other things and", "start": 11188.16, "duration": 4.08}, {"text": "then create what we call the ticket", "start": 11190.24, "duration": 5.28}, {"text": "granting ticket and then step two the", "start": 11192.24, "duration": 5.92}, {"text": "tgt is encrypted", "start": 11195.52, "duration": 5.759}, {"text": "signed and delivered to you the user", "start": 11198.16, "duration": 5.76}, {"text": "and that will be the tgt plus session", "start": 11201.279, "duration": 3.521}, {"text": "key", "start": 11203.92, "duration": 3.76}, {"text": "the traffic will come as a s", "start": 11204.8, "duration": 4.639}, {"text": "r e p", "start": 11207.68, "duration": 5.04}, {"text": "only the curve service and the curve tgt", "start": 11209.439, "duration": 6.161}, {"text": "service in a domain can open and read", "start": 11212.72, "duration": 4.559}, {"text": "that ddt file", "start": 11215.6, "duration": 4.08}, {"text": "during the day you won't request a", "start": 11217.279, "duration": 3.521}, {"text": "resource", "start": 11219.68, "duration": 3.44}, {"text": "what happens is you present a ticket", "start": 11220.8, "duration": 3.44}, {"text": "back", "start": 11223.12, "duration": 3.279}, {"text": "to the kdc", "start": 11224.24, "duration": 6.079}, {"text": "this time it will be a tgs request so", "start": 11226.399, "duration": 6.241}, {"text": "you present that to the ticket granted", "start": 11230.319, "duration": 3.441}, {"text": "service", "start": 11232.64, "duration": 4.56}, {"text": "ticket and then the kdc opens the tgt", "start": 11233.76, "duration": 6.8}, {"text": "which it had given to you previously and", "start": 11237.2, "duration": 5.64}, {"text": "then validate the pack", "start": 11240.56, "duration": 6.879}, {"text": "content and then the tgs is encrypted", "start": 11242.84, "duration": 8.28}, {"text": "with a target service accounts ntlm hash", "start": 11247.439, "duration": 6.081}, {"text": "and then sent to you so", "start": 11251.12, "duration": 5.04}, {"text": "a little bit of explanation here the", "start": 11253.52, "duration": 6.879}, {"text": "service accounts ntlm hash is let's say", "start": 11256.16, "duration": 6.96}, {"text": "you are requesting a web resource the", "start": 11260.399, "duration": 6.481}, {"text": "service account running this iis might", "start": 11263.12, "duration": 7.199}, {"text": "be iis admin account", "start": 11266.88, "duration": 5.439}, {"text": "so let's say you're requesting a web", "start": 11270.319, "duration": 3.04}, {"text": "service", "start": 11272.319, "duration": 4.16}, {"text": "the http service is being run under the", "start": 11273.359, "duration": 6.161}, {"text": "context of iis admin account", "start": 11276.479, "duration": 6.88}, {"text": "so with the tgs being sent to you", "start": 11279.52, "duration": 6.879}, {"text": "the encryption will be this iis admin", "start": 11283.359, "duration": 6.641}, {"text": "accounts ntlm hash will be used to", "start": 11286.399, "duration": 4.88}, {"text": "encrypt", "start": 11290.0, "duration": 4.56}, {"text": "the tgs and then send it to you", "start": 11291.279, "duration": 6.321}, {"text": "and this is where we can abuse kerberos", "start": 11294.56, "duration": 7.44}, {"text": "in attack so once now we have the tgs", "start": 11297.6, "duration": 6.879}, {"text": "the user will now try to connect to the", "start": 11302.0, "duration": 6.399}, {"text": "network service and present the tgs to", "start": 11304.479, "duration": 7.441}, {"text": "the service for a resource a service", "start": 11308.399, "duration": 8.08}, {"text": "opens a tgs ticket using its ntlm", "start": 11311.92, "duration": 6.96}, {"text": "password hash so in this case you", "start": 11316.479, "duration": 5.681}, {"text": "present our ticket to http service", "start": 11318.88, "duration": 6.08}, {"text": "but then the iis admin account", "start": 11322.16, "duration": 3.84}, {"text": "will now", "start": 11324.96, "duration": 3.439}, {"text": "open the service ticket using its", "start": 11326.0, "duration": 5.68}, {"text": "password hash authorization is where the", "start": 11328.399, "duration": 6.561}, {"text": "service will determine whether the user", "start": 11331.68, "duration": 6.32}, {"text": "has the proper authorization to be able", "start": 11334.96, "duration": 5.2}, {"text": "to access such a request", "start": 11338.0, "duration": 5.52}, {"text": "this is a screenshot of how", "start": 11340.16, "duration": 6.48}, {"text": "a typical request will go through if you", "start": 11343.52, "duration": 6.16}, {"text": "do a wireshark traffic analysis when", "start": 11346.64, "duration": 5.2}, {"text": "let's say this is the user", "start": 11349.68, "duration": 5.84}, {"text": "who is trying to access the c sure on", "start": 11351.84, "duration": 6.68}, {"text": "dc1.xfrlab.local", "start": 11355.52, "duration": 3.0}, {"text": "just doing this", "start": 11360.8, "duration": 4.4}, {"text": "this is what happens behind the scenes", "start": 11362.56, "duration": 5.36}, {"text": "there will be a tgs request", "start": 11365.2, "duration": 5.119}, {"text": "and a tgs response", "start": 11367.92, "duration": 4.319}, {"text": "the request is coming from this host", "start": 11370.319, "duration": 5.281}, {"text": "machine and it's going to this kdc", "start": 11372.239, "duration": 5.521}, {"text": "the kdc will respond", "start": 11375.6, "duration": 4.96}, {"text": "with the tgs and reply", "start": 11377.76, "duration": 5.36}, {"text": "and then a session can be set up to list", "start": 11380.56, "duration": 4.24}, {"text": "the directory", "start": 11383.12, "duration": 3.92}, {"text": "of course this is after", "start": 11384.8, "duration": 3.36}, {"text": "the", "start": 11387.04, "duration": 2.64}, {"text": "tgt", "start": 11388.16, "duration": 4.48}, {"text": "request and tgt reply had happened", "start": 11389.68, "duration": 5.679}, {"text": "during login or during initial", "start": 11392.64, "duration": 4.24}, {"text": "authentication", "start": 11395.359, "duration": 4.641}, {"text": "before we proceed to", "start": 11396.88, "duration": 4.08}, {"text": "the", "start": 11400.0, "duration": 2.479}, {"text": "other techniques", "start": 11400.96, "duration": 4.319}, {"text": "we also want to make sure that", "start": 11402.479, "duration": 5.76}, {"text": "we set up our kali linux", "start": 11405.279, "duration": 5.281}, {"text": "to be able to work properly", "start": 11408.239, "duration": 5.2}, {"text": "with active directory kerberos", "start": 11410.56, "duration": 4.64}, {"text": "authentication", "start": 11413.439, "duration": 4.481}, {"text": "i went ahead and did a setup already but", "start": 11415.2, "duration": 4.239}, {"text": "i'm going to walk you through the", "start": 11417.92, "duration": 3.92}, {"text": "step-by-step screenshots on how you can", "start": 11419.439, "duration": 4.0}, {"text": "set your own app", "start": 11421.84, "duration": 4.96}, {"text": "on your kali linux or any linux machine", "start": 11423.439, "duration": 5.281}, {"text": "few things we need to install first to", "start": 11426.8, "duration": 3.76}, {"text": "get this to work this is not the", "start": 11428.72, "duration": 4.4}, {"text": "absolute way to do it but this should", "start": 11430.56, "duration": 4.48}, {"text": "get you up and running and then in the", "start": 11433.12, "duration": 3.279}, {"text": "future you can make your own", "start": 11435.04, "duration": 3.92}, {"text": "modification and even find better way to", "start": 11436.399, "duration": 5.601}, {"text": "do that so these are tools that we need", "start": 11438.96, "duration": 5.84}, {"text": "to um install in this case i installed", "start": 11442.0, "duration": 4.96}, {"text": "the hamda clients and then once we're", "start": 11444.8, "duration": 3.76}, {"text": "done with installation we need to do", "start": 11446.96, "duration": 4.96}, {"text": "some configuration to get a proper setup", "start": 11448.56, "duration": 4.48}, {"text": "so", "start": 11451.92, "duration": 3.359}, {"text": "once you begin to run the installation", "start": 11453.04, "duration": 5.76}, {"text": "for the handle clients you'll be", "start": 11455.279, "duration": 6.0}, {"text": "prompted for few entries", "start": 11458.8, "duration": 5.2}, {"text": "and the one is the the default kerberos", "start": 11461.279, "duration": 4.401}, {"text": "version ram", "start": 11464.0, "duration": 3.68}, {"text": "version 5 ram which is going to be in", "start": 11465.68, "duration": 5.52}, {"text": "this case um the domain that we are", "start": 11467.68, "duration": 6.4}, {"text": "going to work with is a bas dot wakanda", "start": 11471.2, "duration": 5.279}, {"text": "dot city which which is the sub domain", "start": 11474.08, "duration": 4.48}, {"text": "or the child domain and then the next", "start": 11476.479, "duration": 5.92}, {"text": "one is we are going to configure the", "start": 11478.56, "duration": 6.56}, {"text": "domain controller which in my case the", "start": 11482.399, "duration": 5.201}, {"text": "domain controller for the bas dot what", "start": 11485.12, "duration": 7.0}, {"text": "canada city is 10.20.30.10", "start": 11487.6, "duration": 4.52}, {"text": "and the admin server for the kerberos", "start": 11492.64, "duration": 5.679}, {"text": "ram would also be the same as the", "start": 11495.52, "duration": 5.839}, {"text": "domain controller once we are done what", "start": 11498.319, "duration": 5.281}, {"text": "i would normally like to do is i would", "start": 11501.359, "duration": 5.92}, {"text": "normally make a copy of the curb5.conf", "start": 11503.6, "duration": 5.759}, {"text": "and modify that", "start": 11507.279, "duration": 5.04}, {"text": "to work with mine so if you want yours", "start": 11509.359, "duration": 5.761}, {"text": "to work with what i got here this is the", "start": 11512.319, "duration": 4.721}, {"text": "entry of my", "start": 11515.12, "duration": 4.72}, {"text": "curb5.conf", "start": 11517.04, "duration": 4.88}, {"text": "so after the", "start": 11519.84, "duration": 4.559}, {"text": "kerberos setup is done", "start": 11521.92, "duration": 4.0}, {"text": "on my kali", "start": 11524.399, "duration": 4.761}, {"text": "let's take a quick look at how my", "start": 11525.92, "duration": 6.08}, {"text": "curb5.conf entry looks like and let me", "start": 11529.16, "duration": 6.44}, {"text": "also show you my dns entry", "start": 11532.0, "duration": 5.76}, {"text": "resolve.com", "start": 11535.6, "duration": 4.56}, {"text": "this is my entry again this is a demo", "start": 11537.76, "duration": 5.519}, {"text": "environment so i have to set this up", "start": 11540.16, "duration": 5.36}, {"text": "internally to be able to get things to", "start": 11543.279, "duration": 3.841}, {"text": "work out for me", "start": 11545.52, "duration": 4.16}, {"text": "another place to also look for my", "start": 11547.12, "duration": 6.0}, {"text": "modifications would also be my atc host", "start": 11549.68, "duration": 5.2}, {"text": "file", "start": 11553.12, "duration": 5.359}, {"text": "which i had to map some of these entries", "start": 11554.88, "duration": 4.96}, {"text": "to", "start": 11558.479, "duration": 4.321}, {"text": "to map the ip addresses to the host", "start": 11559.84, "duration": 3.92}, {"text": "names", "start": 11562.8, "duration": 3.599}, {"text": "so to confirm that", "start": 11563.76, "duration": 6.479}, {"text": "we have a good setup for our kerberos", "start": 11566.399, "duration": 5.92}, {"text": "let's do a quick test", "start": 11570.239, "duration": 3.2}, {"text": "with", "start": 11572.319, "duration": 2.321}, {"text": "the user", "start": 11573.439, "duration": 3.281}, {"text": "and mandela which we assume we have", "start": 11574.64, "duration": 4.32}, {"text": "compromised so we're going to use the", "start": 11576.72, "duration": 3.92}, {"text": "command kenneth", "start": 11578.96, "duration": 5.92}, {"text": "to check out a tgt from the kdc as an", "start": 11580.64, "duration": 6.88}, {"text": "example like that and then provide the", "start": 11584.88, "duration": 5.76}, {"text": "username and mandela and hit enter to", "start": 11587.52, "duration": 5.839}, {"text": "confirm that we have a signed ticket we", "start": 11590.64, "duration": 5.2}, {"text": "can just type k list", "start": 11593.359, "duration": 5.12}, {"text": "and that should have this entry right", "start": 11595.84, "duration": 3.599}, {"text": "here", "start": 11598.479, "duration": 2.561}, {"text": "so this means", "start": 11599.439, "duration": 4.481}, {"text": "we have successfully been able to obtain", "start": 11601.04, "duration": 6.48}, {"text": "a tgt ticket from the kdc", "start": 11603.92, "duration": 8.16}, {"text": "so we have it valid august 8 2021", "start": 11607.52, "duration": 8.64}, {"text": "through 11 59 and 59 seconds so um the", "start": 11612.08, "duration": 6.319}, {"text": "expiration date is going to be here this", "start": 11616.16, "duration": 4.4}, {"text": "one right here on the service principle", "start": 11618.399, "duration": 5.761}, {"text": "is right here so good this is very good", "start": 11620.56, "duration": 6.32}, {"text": "in fact any tool that supports kerberos", "start": 11624.16, "duration": 6.4}, {"text": "authentication can now be used with our", "start": 11626.88, "duration": 6.64}, {"text": "c cache now most tools use environment", "start": 11630.56, "duration": 4.16}, {"text": "variable", "start": 11633.52, "duration": 3.28}, {"text": "curb curb5c", "start": 11634.72, "duration": 5.36}, {"text": "c name to point to our current cache all", "start": 11636.8, "duration": 5.12}, {"text": "right so if you look", "start": 11640.08, "duration": 4.319}, {"text": "at our k list", "start": 11641.92, "duration": 4.96}, {"text": "this is what i mean by that if it's not", "start": 11644.399, "duration": 5.601}, {"text": "we can always export all right so let's", "start": 11646.88, "duration": 5.68}, {"text": "try and see if we can communicate with a", "start": 11650.0, "duration": 5.04}, {"text": "domain controller going to provide the", "start": 11652.56, "duration": 4.08}, {"text": "switch dash k", "start": 11655.04, "duration": 4.399}, {"text": "meaning it should use kerberos protocol", "start": 11656.64, "duration": 5.12}, {"text": "or it should use our ticket instead of", "start": 11659.439, "duration": 4.321}, {"text": "prompting for a password and then once", "start": 11661.76, "duration": 4.639}, {"text": "we hit enter that works successfully we", "start": 11663.76, "duration": 6.479}, {"text": "can just run some commands type get user", "start": 11666.399, "duration": 5.441}, {"text": "name", "start": 11670.239, "duration": 4.561}, {"text": "and it looks like this is working great", "start": 11671.84, "duration": 6.399}, {"text": "so we can type exit we can also use smb", "start": 11674.8, "duration": 5.2}, {"text": "client like that", "start": 11678.239, "duration": 5.681}, {"text": "and then try to see if that also works", "start": 11680.0, "duration": 6.64}, {"text": "okay now we can type pwd to get a", "start": 11683.92, "duration": 4.08}, {"text": "current directory", "start": 11686.64, "duration": 3.44}, {"text": "and that should work for us", "start": 11688.0, "duration": 4.399}, {"text": "fantastic so we are now all set up we", "start": 11690.08, "duration": 4.88}, {"text": "can confirm that the same things that we", "start": 11692.399, "duration": 4.241}, {"text": "can do on a windows machine when it", "start": 11694.96, "duration": 4.24}, {"text": "comes to kerberos authentication can", "start": 11696.64, "duration": 6.32}, {"text": "also be done from our kali linux", "start": 11699.2, "duration": 4.72}, {"text": "so", "start": 11702.96, "duration": 3.76}, {"text": "from persistence we are now going to", "start": 11703.92, "duration": 4.08}, {"text": "jump into", "start": 11706.72, "duration": 3.36}, {"text": "situation awareness", "start": 11708.0, "duration": 4.96}, {"text": "and the previous steps we went through", "start": 11710.08, "duration": 5.68}, {"text": "with the active directory", "start": 11712.96, "duration": 6.96}, {"text": "um the kerberos setup and also our kali", "start": 11715.76, "duration": 6.479}, {"text": "linux kerberos setup", "start": 11719.92, "duration": 5.68}, {"text": "will lead into this part of our activity", "start": 11722.239, "duration": 5.681}, {"text": "you have to remember that this doesn't", "start": 11725.6, "duration": 4.16}, {"text": "have any entry", "start": 11727.92, "duration": 3.2}, {"text": "within", "start": 11729.76, "duration": 5.12}, {"text": "miter attack framework so it is an entry", "start": 11731.12, "duration": 6.72}, {"text": "i have on my modified version of the", "start": 11734.88, "duration": 5.84}, {"text": "unified attack kill chain this is where", "start": 11737.84, "duration": 6.0}, {"text": "the team gathers intelligence about the", "start": 11740.72, "duration": 6.88}, {"text": "local host or the entire domain", "start": 11743.84, "duration": 6.8}, {"text": "the reality here is you have gotten", "start": 11747.6, "duration": 5.759}, {"text": "yourself access to a system", "start": 11750.64, "duration": 5.52}, {"text": "to an environment that you have no idea", "start": 11753.359, "duration": 3.761}, {"text": "about", "start": 11756.16, "duration": 4.56}, {"text": "so the next thing is for you to study to", "start": 11757.12, "duration": 6.4}, {"text": "understand what you've got yourself into", "start": 11760.72, "duration": 5.36}, {"text": "where you've landed and how do you move", "start": 11763.52, "duration": 3.52}, {"text": "around", "start": 11766.08, "duration": 3.279}, {"text": "and this is where you do intelligence", "start": 11767.04, "duration": 4.88}, {"text": "gathering to understand the actual", "start": 11769.359, "duration": 6.0}, {"text": "domain or the actual environment", "start": 11771.92, "duration": 6.0}, {"text": "now some of the ad enumeration which", "start": 11775.359, "duration": 5.201}, {"text": "will execute when it comes to", "start": 11777.92, "duration": 5.68}, {"text": "situational awareness is trying to find", "start": 11780.56, "duration": 5.759}, {"text": "the domains that are available within", "start": 11783.6, "duration": 4.879}, {"text": "the environment we want to understand", "start": 11786.319, "duration": 4.08}, {"text": "the forest trust", "start": 11788.479, "duration": 4.401}, {"text": "the memberships of each group we want to", "start": 11790.399, "duration": 5.92}, {"text": "know the domain users domain controllers", "start": 11792.88, "duration": 6.64}, {"text": "the various admins the various critical", "start": 11796.319, "duration": 6.641}, {"text": "systems gpos access controllers a whole", "start": 11799.52, "duration": 6.4}, {"text": "lot of things that we want to understand", "start": 11802.96, "duration": 6.16}, {"text": "and then that would help us to sit back", "start": 11805.92, "duration": 5.92}, {"text": "and then craft our next attack", "start": 11809.12, "duration": 4.159}, {"text": "techniques", "start": 11811.84, "duration": 5.439}, {"text": "so let us look into some of the things", "start": 11813.279, "duration": 6.241}, {"text": "will carry out when it comes to", "start": 11817.279, "duration": 4.08}, {"text": "situation awareness", "start": 11819.52, "duration": 4.48}, {"text": "by doing some demos", "start": 11821.359, "duration": 5.681}, {"text": "all right so to kick start our situation", "start": 11824.0, "duration": 4.319}, {"text": "awareness", "start": 11827.04, "duration": 3.439}, {"text": "let's import the", "start": 11828.319, "duration": 5.681}, {"text": "power view script once we have our", "start": 11830.479, "duration": 6.321}, {"text": "script imported we can start by looking", "start": 11834.0, "duration": 4.479}, {"text": "for let's say", "start": 11836.8, "duration": 4.4}, {"text": "local admins and in this case we only", "start": 11838.479, "duration": 3.92}, {"text": "have two", "start": 11841.2, "duration": 4.239}, {"text": "install and domain admins", "start": 11842.399, "duration": 5.601}, {"text": "we can look at what privileges we", "start": 11845.439, "duration": 5.441}, {"text": "currently have under this user and then", "start": 11848.0, "duration": 5.279}, {"text": "we can look at the privileges we have", "start": 11850.88, "duration": 4.0}, {"text": "most especially", "start": 11853.279, "duration": 4.241}, {"text": "this one right here and we can see that", "start": 11854.88, "duration": 4.479}, {"text": "almost everything is disabled with", "start": 11857.52, "duration": 4.08}, {"text": "exception of this one here we can also", "start": 11859.359, "duration": 6.641}, {"text": "search for files so we can type in wmic", "start": 11861.6, "duration": 6.32}, {"text": "so we type this command and what it's", "start": 11866.0, "duration": 3.359}, {"text": "going to do is", "start": 11867.92, "duration": 3.76}, {"text": "it is going to search for files with a", "start": 11869.359, "duration": 5.441}, {"text": "name that has or contains", "start": 11871.68, "duration": 6.08}, {"text": "password in it now this can take a while", "start": 11874.8, "duration": 7.439}, {"text": "so i have to stop it so let's go further", "start": 11877.76, "duration": 7.44}, {"text": "and uh we can also get user accounts and", "start": 11882.239, "duration": 3.921}, {"text": "sets", "start": 11885.2, "duration": 5.44}, {"text": "so we can use w mic and then user you", "start": 11886.16, "duration": 6.239}, {"text": "have to understand that", "start": 11890.64, "duration": 3.839}, {"text": "we are just using", "start": 11892.399, "duration": 4.641}, {"text": "the built-in utilities", "start": 11894.479, "duration": 4.96}, {"text": "without using necessarily", "start": 11897.04, "duration": 4.319}, {"text": "external tool for this", "start": 11899.439, "duration": 4.0}, {"text": "even though we did import", "start": 11901.359, "duration": 3.12}, {"text": "our", "start": 11903.439, "duration": 3.04}, {"text": "power view script", "start": 11904.479, "duration": 3.361}, {"text": "we could still", "start": 11906.479, "duration": 4.161}, {"text": "achieve most of these without using such", "start": 11907.84, "duration": 4.399}, {"text": "a tool so", "start": 11910.64, "duration": 6.0}, {"text": "for instance we can use the wmi c", "start": 11912.239, "duration": 6.961}, {"text": "command to get the list of", "start": 11916.64, "duration": 6.0}, {"text": "users in a domain and the associated", "start": 11919.2, "duration": 6.0}, {"text": "seed we can get", "start": 11922.64, "duration": 5.44}, {"text": "local groups by typing", "start": 11925.2, "duration": 5.039}, {"text": "net local group", "start": 11928.08, "duration": 4.159}, {"text": "and this will give us all the local", "start": 11930.239, "duration": 4.321}, {"text": "groups on this machine", "start": 11932.239, "duration": 5.761}, {"text": "now let's do some things on an ad level", "start": 11934.56, "duration": 5.2}, {"text": "now we can use some", "start": 11938.0, "duration": 3.52}, {"text": "script from", "start": 11939.76, "duration": 4.719}, {"text": "power view to make things a lot easier", "start": 11941.52, "duration": 6.0}, {"text": "for us so get net and let's say we want", "start": 11944.479, "duration": 5.681}, {"text": "domain admins group member which is", "start": 11947.52, "duration": 4.56}, {"text": "going to fetch for all the users that", "start": 11950.16, "duration": 4.72}, {"text": "have domain admin rights so in this case", "start": 11952.08, "duration": 5.68}, {"text": "we have p lumumba", "start": 11954.88, "duration": 5.519}, {"text": "is a member of domain admins", "start": 11957.76, "duration": 4.4}, {"text": "and then we have the", "start": 11960.399, "duration": 3.601}, {"text": "administrator let's find the current", "start": 11962.16, "duration": 2.88}, {"text": "domain", "start": 11964.0, "duration": 3.84}, {"text": "that we're working on would get us", "start": 11965.04, "duration": 5.8}, {"text": "the forest is the wakanda dot", "start": 11967.84, "duration": 6.479}, {"text": "city and the domain controller", "start": 11970.84, "duration": 6.519}, {"text": "for our current domain is vacuum dot", "start": 11974.319, "duration": 4.16}, {"text": "best", "start": 11977.359, "duration": 3.521}, {"text": "dot wakanda.city", "start": 11978.479, "duration": 4.721}, {"text": "and the parent domain of course is also", "start": 11980.88, "duration": 4.399}, {"text": "the wakanda city", "start": 11983.2, "duration": 5.36}, {"text": "and then um the name of our domain is", "start": 11985.279, "duration": 5.921}, {"text": "this one right here the best", "start": 11988.56, "duration": 5.759}, {"text": "dot wakanda.c so we know that we have", "start": 11991.2, "duration": 5.84}, {"text": "established a foothold on this domain", "start": 11994.319, "duration": 4.881}, {"text": "being a child domain by just looking at", "start": 11997.04, "duration": 4.8}, {"text": "it so the ultimate goal might be", "start": 11999.2, "duration": 5.36}, {"text": "us trying to compromise this forest", "start": 12001.84, "duration": 3.92}, {"text": "eventually", "start": 12004.56, "duration": 3.759}, {"text": "which will cover we can also just get", "start": 12005.76, "duration": 5.12}, {"text": "the list of domain controllers and again", "start": 12008.319, "duration": 6.241}, {"text": "it will give us the forest one", "start": 12010.88, "duration": 5.519}, {"text": "and it's running at least it's running", "start": 12014.56, "duration": 4.96}, {"text": "windows 2006 data center", "start": 12016.399, "duration": 5.121}, {"text": "and the site name is best", "start": 12019.52, "duration": 4.24}, {"text": "the domain is one right here", "start": 12021.52, "duration": 5.36}, {"text": "the ip address of the domain controller", "start": 12023.76, "duration": 5.84}, {"text": "is this one right here", "start": 12026.88, "duration": 5.28}, {"text": "and the fully qualified domain name is", "start": 12029.6, "duration": 5.28}, {"text": "best and baku dot best", "start": 12032.16, "duration": 4.56}, {"text": "dot wakanda", "start": 12034.88, "duration": 5.76}, {"text": "similar to how we use the wmic", "start": 12036.72, "duration": 6.32}, {"text": "we can also type get", "start": 12040.64, "duration": 3.28}, {"text": "net", "start": 12043.04, "duration": 3.04}, {"text": "user", "start": 12043.92, "duration": 4.88}, {"text": "and that will give us the list of the", "start": 12046.08, "duration": 5.6}, {"text": "user names on a domain", "start": 12048.8, "duration": 6.0}, {"text": "if we want more details on the user we", "start": 12051.68, "duration": 4.719}, {"text": "have just compromised", "start": 12054.8, "duration": 5.04}, {"text": "we can also type net user and then n", "start": 12056.399, "duration": 7.761}, {"text": "mandela is our user and then domain", "start": 12059.84, "duration": 7.36}, {"text": "and that will give us the membership and", "start": 12064.16, "duration": 6.56}, {"text": "information about this user this user", "start": 12067.2, "duration": 5.199}, {"text": "has no", "start": 12070.72, "duration": 4.48}, {"text": "privileges it's just a domain user we", "start": 12072.399, "duration": 5.121}, {"text": "can use power views", "start": 12075.2, "duration": 4.64}, {"text": "get", "start": 12077.52, "duration": 2.32}, {"text": "net", "start": 12081.279, "duration": 4.561}, {"text": "group", "start": 12082.96, "duration": 2.88}, {"text": "username", "start": 12086.239, "duration": 3.2}, {"text": "and", "start": 12088.08, "duration": 4.0}, {"text": "mandela", "start": 12089.439, "duration": 2.641}, {"text": "and see what groups this user belongs to", "start": 12093.52, "duration": 6.16}, {"text": "is a member of domain users", "start": 12096.88, "duration": 5.2}, {"text": "we can get a list of four computers on", "start": 12099.68, "duration": 4.08}, {"text": "this domain", "start": 12102.08, "duration": 4.64}, {"text": "type net get net", "start": 12103.76, "duration": 4.639}, {"text": "computer", "start": 12106.72, "duration": 4.24}, {"text": "so this will give us a list of all the", "start": 12108.399, "duration": 5.441}, {"text": "computers on the domain we can also try", "start": 12110.96, "duration": 5.519}, {"text": "to find all machines on the current", "start": 12113.84, "duration": 5.12}, {"text": "domain where the user we have", "start": 12116.479, "duration": 5.281}, {"text": "compromised may have local admin", "start": 12118.96, "duration": 6.319}, {"text": "privileges on now on real engagement", "start": 12121.76, "duration": 5.44}, {"text": "that has been always been fruitful", "start": 12125.279, "duration": 3.841}, {"text": "because even though you might land on a", "start": 12127.2, "duration": 4.239}, {"text": "system that a user may not have local", "start": 12129.12, "duration": 5.279}, {"text": "admin on i have found that most of the", "start": 12131.439, "duration": 6.721}, {"text": "time the user may have some sort of", "start": 12134.399, "duration": 6.96}, {"text": "local admin privilege on another system", "start": 12138.16, "duration": 5.52}, {"text": "on the network so we want to hunt for", "start": 12141.359, "duration": 4.561}, {"text": "that particular system or those systems", "start": 12143.68, "duration": 4.799}, {"text": "on the network so we can pivot into", "start": 12145.92, "duration": 5.439}, {"text": "those so to do that we can just use a", "start": 12148.479, "duration": 6.0}, {"text": "find and see if this our user", "start": 12151.359, "duration": 5.601}, {"text": "and mandela which we have compromised", "start": 12154.479, "duration": 4.561}, {"text": "may have local admin somewhere on the", "start": 12156.96, "duration": 4.0}, {"text": "network if we like it", "start": 12159.04, "duration": 5.04}, {"text": "okay our command completed and we were", "start": 12160.96, "duration": 4.8}, {"text": "not lucky enough", "start": 12164.08, "duration": 4.96}, {"text": "so the user has no local admin anywhere", "start": 12165.76, "duration": 6.559}, {"text": "on the network so next is we want to see", "start": 12169.04, "duration": 4.48}, {"text": "if", "start": 12172.319, "duration": 3.521}, {"text": "there are any boxes on a network where a", "start": 12173.52, "duration": 5.44}, {"text": "domain admin has a session on or has", "start": 12175.84, "duration": 4.32}, {"text": "logged in", "start": 12178.96, "duration": 3.279}, {"text": "the reason why you want to do that is we", "start": 12180.16, "duration": 4.48}, {"text": "want to find out if we can create a path", "start": 12182.239, "duration": 4.08}, {"text": "from our existing", "start": 12184.64, "duration": 4.08}, {"text": "machine and then be able to compromise", "start": 12186.319, "duration": 4.801}, {"text": "such a machine i mean the machine that a", "start": 12188.72, "duration": 4.88}, {"text": "domain admin has a session on or has", "start": 12191.12, "duration": 5.119}, {"text": "logged in because if we can then we", "start": 12193.6, "duration": 5.04}, {"text": "might be able to either extract", "start": 12196.239, "duration": 3.601}, {"text": "credentials", "start": 12198.64, "duration": 4.48}, {"text": "in memory that um the domain admin has", "start": 12199.84, "duration": 5.439}, {"text": "left behind or we might even have an", "start": 12203.12, "duration": 5.04}, {"text": "existing one and then still a token or a", "start": 12205.279, "duration": 3.921}, {"text": "process", "start": 12208.16, "duration": 3.279}, {"text": "so to find", "start": 12209.2, "duration": 4.4}, {"text": "where domain admins are logged in can", "start": 12211.439, "duration": 4.081}, {"text": "use the invoke", "start": 12213.6, "duration": 3.92}, {"text": "user hunter", "start": 12215.52, "duration": 5.68}, {"text": "so our hunt for domain admin session", "start": 12217.52, "duration": 7.12}, {"text": "came back empty-handed next we can get", "start": 12221.2, "duration": 7.92}, {"text": "the acls associated with a specified", "start": 12224.64, "duration": 7.36}, {"text": "object in this case since we now have", "start": 12229.12, "duration": 6.0}, {"text": "access with n mandela's object", "start": 12232.0, "duration": 7.279}, {"text": "we can use the get object acl and then", "start": 12235.12, "duration": 5.44}, {"text": "sam", "start": 12239.279, "duration": 4.08}, {"text": "account name and then provide and", "start": 12240.56, "duration": 4.64}, {"text": "mandela", "start": 12243.359, "duration": 4.481}, {"text": "as the objects and then", "start": 12245.2, "duration": 4.079}, {"text": "resolve", "start": 12247.84, "duration": 3.36}, {"text": "guides", "start": 12249.279, "duration": 3.761}, {"text": "this is", "start": 12251.2, "duration": 4.4}, {"text": "what we have currently and it will take", "start": 12253.04, "duration": 4.88}, {"text": "us some time to", "start": 12255.6, "duration": 4.799}, {"text": "go through and we'll revisit this", "start": 12257.92, "duration": 6.319}, {"text": "particular attack or this information", "start": 12260.399, "duration": 6.96}, {"text": "later on in the future so the stuff we", "start": 12264.239, "duration": 5.12}, {"text": "just did manually", "start": 12267.359, "duration": 3.601}, {"text": "i recall", "start": 12269.359, "duration": 3.92}, {"text": "back in the days when", "start": 12270.96, "duration": 6.16}, {"text": "we did execute penetration test this was", "start": 12273.279, "duration": 5.921}, {"text": "what we had to go through", "start": 12277.12, "duration": 5.52}, {"text": "that was when veil pillage came in back", "start": 12279.2, "duration": 7.36}, {"text": "in the days we had to manually hunt", "start": 12282.64, "duration": 5.28}, {"text": "for", "start": 12286.56, "duration": 4.799}, {"text": "access or go after systems on the", "start": 12287.92, "duration": 6.559}, {"text": "network once we had gained initial", "start": 12291.359, "duration": 4.481}, {"text": "foothold", "start": 12294.479, "duration": 4.161}, {"text": "now finding privileged escalation and", "start": 12295.84, "duration": 4.72}, {"text": "attack path", "start": 12298.64, "duration": 5.04}, {"text": "back in those times was or could be very", "start": 12300.56, "duration": 5.679}, {"text": "tedious depending on the size of the", "start": 12303.68, "duration": 5.84}, {"text": "engagement so the guys who had a veil", "start": 12306.239, "duration": 6.0}, {"text": "pillage to make our life a bit easier", "start": 12309.52, "duration": 5.6}, {"text": "also came back with bloodhound", "start": 12312.239, "duration": 5.601}, {"text": "so with the introduction of blunthound", "start": 12315.12, "duration": 4.8}, {"text": "most of the things that would have", "start": 12317.84, "duration": 4.88}, {"text": "otherwise done manually can now be", "start": 12319.92, "duration": 6.72}, {"text": "automated to map out any attack path for", "start": 12322.72, "duration": 5.599}, {"text": "us easily", "start": 12326.64, "duration": 4.24}, {"text": "so with bloodhound we can easily find", "start": 12328.319, "duration": 6.401}, {"text": "acl weaknesses we can find interesting", "start": 12330.88, "duration": 6.72}, {"text": "groups we can find path to attacks and", "start": 12334.72, "duration": 5.84}, {"text": "stuff like that so let's go ahead and", "start": 12337.6, "duration": 4.879}, {"text": "install bloodhound and the most", "start": 12340.56, "duration": 3.919}, {"text": "important thing i want us to do is i", "start": 12342.479, "duration": 3.681}, {"text": "would like to show you how we can", "start": 12344.479, "duration": 5.121}, {"text": "remotely access our bloodhound database", "start": 12346.16, "duration": 6.56}, {"text": "within kali linux we can type", "start": 12349.6, "duration": 5.36}, {"text": "if you take a quick look it installed", "start": 12352.72, "duration": 6.48}, {"text": "both the bloodhound and neo4j", "start": 12354.96, "duration": 8.0}, {"text": "neo4j is a backend database that", "start": 12359.2, "duration": 6.72}, {"text": "works with bloodhound so let's clear the", "start": 12362.96, "duration": 4.479}, {"text": "screen", "start": 12365.92, "duration": 5.68}, {"text": "and we need to have neo4j started and", "start": 12367.439, "duration": 5.441}, {"text": "first of all", "start": 12371.6, "duration": 4.0}, {"text": "few directories will be created", "start": 12372.88, "duration": 5.04}, {"text": "and you need to pay attention here", "start": 12375.6, "duration": 5.04}, {"text": "because we'll be using the config file", "start": 12377.92, "duration": 3.84}, {"text": "here", "start": 12380.64, "duration": 3.679}, {"text": "we're making some updates to", "start": 12381.76, "duration": 5.04}, {"text": "update this particular the back end", "start": 12384.319, "duration": 3.761}, {"text": "database", "start": 12386.8, "duration": 4.16}, {"text": "for easy accessibility", "start": 12388.08, "duration": 7.12}, {"text": "so now that the neo4j is started we can", "start": 12390.96, "duration": 6.479}, {"text": "right click on the link", "start": 12395.2, "duration": 4.88}, {"text": "and then open it so we can set it up the", "start": 12397.439, "duration": 7.84}, {"text": "login credentials is going to be neo4j", "start": 12400.08, "duration": 8.399}, {"text": "and neo4j", "start": 12405.279, "duration": 6.561}, {"text": "and then we are being forced or prompted", "start": 12408.479, "duration": 6.0}, {"text": "to change our password and that should", "start": 12411.84, "duration": 4.479}, {"text": "have a working", "start": 12414.479, "duration": 3.521}, {"text": "neo4j", "start": 12416.319, "duration": 5.04}, {"text": "database for us this is how our", "start": 12418.0, "duration": 7.2}, {"text": "bloodhound can connect to the neo4j", "start": 12421.359, "duration": 8.241}, {"text": "backend now let's test out our setup by", "start": 12425.2, "duration": 5.44}, {"text": "running", "start": 12429.6, "duration": 4.08}, {"text": "bloodhound and this is going to provide", "start": 12430.64, "duration": 6.4}, {"text": "the bloodhound interface for us because", "start": 12433.68, "duration": 5.84}, {"text": "it is already running locally", "start": 12437.04, "duration": 5.439}, {"text": "it will pick it up by default for us", "start": 12439.52, "duration": 5.04}, {"text": "we can now log in", "start": 12442.479, "duration": 4.161}, {"text": "by providing the", "start": 12444.56, "duration": 4.64}, {"text": "username neo4j", "start": 12446.64, "duration": 5.599}, {"text": "and the password we had created", "start": 12449.2, "duration": 4.96}, {"text": "and hit login", "start": 12452.239, "duration": 4.16}, {"text": "and that should give us a successful", "start": 12454.16, "duration": 3.279}, {"text": "login", "start": 12456.399, "duration": 3.121}, {"text": "and this is how", "start": 12457.439, "duration": 2.88}, {"text": "the", "start": 12459.52, "duration": 4.16}, {"text": "bloodhound interface looks like with no", "start": 12460.319, "duration": 6.0}, {"text": "data entry", "start": 12463.68, "duration": 5.84}, {"text": "let's close out and let's make", "start": 12466.319, "duration": 6.321}, {"text": "some modifications if you recall", "start": 12469.52, "duration": 4.959}, {"text": "when we brought up", "start": 12472.64, "duration": 4.24}, {"text": "our bloodhound", "start": 12474.479, "duration": 5.76}, {"text": "it made a connection to the database", "start": 12476.88, "duration": 4.32}, {"text": "here", "start": 12480.239, "duration": 3.2}, {"text": "that means we can only access the", "start": 12481.2, "duration": 3.6}, {"text": "bloodhound", "start": 12483.439, "duration": 3.601}, {"text": "on this kali machine", "start": 12484.8, "duration": 5.04}, {"text": "but what if we want database to run and", "start": 12487.04, "duration": 6.72}, {"text": "be accessible remotely from anywhere so", "start": 12489.84, "duration": 7.12}, {"text": "let's make some modifications to our", "start": 12493.76, "duration": 4.88}, {"text": "neo4j", "start": 12496.96, "duration": 3.519}, {"text": "configuration file", "start": 12498.64, "duration": 4.56}, {"text": "to allow for remote", "start": 12500.479, "duration": 5.92}, {"text": "connection to the database", "start": 12503.2, "duration": 4.0}, {"text": "so", "start": 12506.399, "duration": 4.161}, {"text": "cd into the neo4j config", "start": 12507.2, "duration": 4.96}, {"text": "do an ls", "start": 12510.56, "duration": 3.28}, {"text": "do a nano", "start": 12512.16, "duration": 3.279}, {"text": "and then", "start": 12513.84, "duration": 4.399}, {"text": "make a slide modification", "start": 12515.439, "duration": 5.84}, {"text": "so under the network connector", "start": 12518.239, "duration": 4.641}, {"text": "configuration", "start": 12521.279, "duration": 3.681}, {"text": "we have this option here that says", "start": 12522.88, "duration": 4.8}, {"text": "default with default configuration", "start": 12524.96, "duration": 6.08}, {"text": "neo4j only accepts local connection", "start": 12527.68, "duration": 6.0}, {"text": "to accept non-local connection", "start": 12531.04, "duration": 5.76}, {"text": "uncommon this line so we are going to", "start": 12533.68, "duration": 4.24}, {"text": "uncomment", "start": 12536.8, "duration": 5.76}, {"text": "so that we can now access neo4j remotely", "start": 12537.92, "duration": 6.319}, {"text": "now we can see", "start": 12542.56, "duration": 5.44}, {"text": "the bolt is now enabled on all the", "start": 12544.239, "duration": 5.12}, {"text": "interface", "start": 12548.0, "duration": 2.16}, {"text": "so", "start": 12549.359, "duration": 4.481}, {"text": "now if we head over", "start": 12550.16, "duration": 7.76}, {"text": "and remote desktop to", "start": 12553.84, "duration": 4.08}, {"text": "our target windows machine", "start": 12559.6, "duration": 6.48}, {"text": "and we try to run", "start": 12562.72, "duration": 5.2}, {"text": "bloodhound from here", "start": 12566.08, "duration": 4.159}, {"text": "we should be able to connect", "start": 12567.92, "duration": 4.96}, {"text": "so of course this is going to tell us no", "start": 12570.239, "duration": 4.401}, {"text": "database found", "start": 12572.88, "duration": 5.12}, {"text": "so we can replace localhost with our", "start": 12574.64, "duration": 5.12}, {"text": "kali's", "start": 12578.0, "duration": 5.2}, {"text": "machine's ip address", "start": 12579.76, "duration": 3.44}, {"text": "and now we have a good connection we can", "start": 12585.12, "duration": 6.159}, {"text": "type neo4j", "start": 12587.92, "duration": 6.72}, {"text": "so this is how we set up", "start": 12591.279, "duration": 6.641}, {"text": "bloodhound and make database available", "start": 12594.64, "duration": 4.719}, {"text": "remotely", "start": 12597.92, "duration": 5.04}, {"text": "we'll visit this in the future so the", "start": 12599.359, "duration": 6.401}, {"text": "next activity under the network", "start": 12602.96, "duration": 4.479}, {"text": "propagation", "start": 12605.76, "duration": 4.32}, {"text": "is privilege escalation", "start": 12607.439, "duration": 3.84}, {"text": "and the", "start": 12610.08, "duration": 5.76}, {"text": "attack id by mitre attack framework is", "start": 12611.279, "duration": 7.561}, {"text": "ta00003", "start": 12615.84, "duration": 3.0}, {"text": "privilege escalation", "start": 12619.92, "duration": 4.8}, {"text": "consists of techniques that adversaries", "start": 12621.92, "duration": 4.16}, {"text": "use to gain", "start": 12624.72, "duration": 3.519}, {"text": "higher level permissions", "start": 12626.08, "duration": 5.6}, {"text": "on a system or network", "start": 12628.239, "duration": 6.08}, {"text": "um so some of the examples that", "start": 12631.68, "duration": 5.52}, {"text": "we want to use to elevate our access", "start": 12634.319, "duration": 4.881}, {"text": "include system level", "start": 12637.2, "duration": 5.68}, {"text": "or route level if we're talking about", "start": 12639.2, "duration": 5.36}, {"text": "linux environment", "start": 12642.88, "duration": 4.32}, {"text": "or local admin", "start": 12644.56, "duration": 5.919}, {"text": "user account with admin like access", "start": 12647.2, "duration": 5.76}, {"text": "and user accounts with access to", "start": 12650.479, "duration": 4.081}, {"text": "specific system", "start": 12652.96, "duration": 4.319}, {"text": "or perform certain functions", "start": 12654.56, "duration": 6.16}, {"text": "now for most part as red team operators", "start": 12657.279, "duration": 7.601}, {"text": "ethical hackers or penetration testers", "start": 12660.72, "duration": 6.88}, {"text": "most of the time we have an assumption", "start": 12664.88, "duration": 3.519}, {"text": "that", "start": 12667.6, "duration": 3.04}, {"text": "we may have compromised an account which", "start": 12668.399, "duration": 4.721}, {"text": "may not have any", "start": 12670.64, "duration": 5.92}, {"text": "higher privilege or any higher level of", "start": 12673.12, "duration": 7.68}, {"text": "access on that particular system so the", "start": 12676.56, "duration": 6.48}, {"text": "activities we take under the privileged", "start": 12680.8, "duration": 3.519}, {"text": "escalation", "start": 12683.04, "duration": 4.88}, {"text": "is trying to elevate our access level", "start": 12684.319, "duration": 6.721}, {"text": "from that of a regular user to a higher", "start": 12687.92, "duration": 4.08}, {"text": "level", "start": 12691.04, "duration": 3.6}, {"text": "now depending on the scope or the goal", "start": 12692.0, "duration": 5.52}, {"text": "of your red team operations it is not", "start": 12694.64, "duration": 5.52}, {"text": "all the time that you need to elevate", "start": 12697.52, "duration": 4.56}, {"text": "your privileges to", "start": 12700.16, "duration": 5.04}, {"text": "accomplish the objectives sometimes you", "start": 12702.08, "duration": 6.319}, {"text": "may just have a regular user and still", "start": 12705.2, "duration": 6.72}, {"text": "and still be able to accomplish the task", "start": 12708.399, "duration": 5.281}, {"text": "under the objectives", "start": 12711.92, "duration": 3.92}, {"text": "but for the sake of i'll say", "start": 12713.68, "duration": 3.92}, {"text": "generalization", "start": 12715.84, "duration": 4.72}, {"text": "privilege escalation is typically one", "start": 12717.6, "duration": 5.92}, {"text": "part that we have to consider when it", "start": 12720.56, "duration": 4.08}, {"text": "comes to", "start": 12723.52, "duration": 3.28}, {"text": "network propagation the privilege", "start": 12724.64, "duration": 5.599}, {"text": "escalation can happen on both either the", "start": 12726.8, "duration": 5.28}, {"text": "system or the host that we have", "start": 12730.239, "duration": 4.881}, {"text": "compromised or the domain level we'll", "start": 12732.08, "duration": 5.279}, {"text": "discuss how we can accomplish", "start": 12735.12, "duration": 4.159}, {"text": "for both of these", "start": 12737.359, "duration": 2.88}, {"text": "levels", "start": 12739.279, "duration": 3.441}, {"text": "now when it comes to privilege", "start": 12740.239, "duration": 5.921}, {"text": "escalation there are two broader ways of", "start": 12742.72, "duration": 5.04}, {"text": "accomplishing that", "start": 12746.16, "duration": 4.0}, {"text": "one of them is essentially we're looking", "start": 12747.76, "duration": 4.4}, {"text": "for vulnerabilities", "start": 12750.16, "duration": 4.48}, {"text": "things such as local privilege", "start": 12752.16, "duration": 5.84}, {"text": "escalation would be one way to achieve", "start": 12754.64, "duration": 5.28}, {"text": "privilege escalation", "start": 12758.0, "duration": 4.319}, {"text": "um in this case just when i was making", "start": 12759.92, "duration": 5.92}, {"text": "this video we had a new one coming up", "start": 12762.319, "duration": 6.561}, {"text": "called print nightmare which will do a", "start": 12765.84, "duration": 4.96}, {"text": "demo on that", "start": 12768.88, "duration": 4.24}, {"text": "the second part of how we can accomplish", "start": 12770.8, "duration": 4.559}, {"text": "or achieve brief escalation", "start": 12773.12, "duration": 3.68}, {"text": "is abusing", "start": 12775.359, "duration": 4.04}, {"text": "services or weak services or", "start": 12776.8, "duration": 4.16}, {"text": "misconfigurations", "start": 12779.399, "duration": 3.641}, {"text": "in my experience and each time that i", "start": 12780.96, "duration": 4.8}, {"text": "conduct any offensive operation", "start": 12783.04, "duration": 4.72}, {"text": "we would normally want to focus on more", "start": 12785.76, "duration": 4.32}, {"text": "of missed configurations easier to get", "start": 12787.76, "duration": 4.4}, {"text": "or find misconfigurations", "start": 12790.08, "duration": 4.96}, {"text": "on a system or on a domain level than", "start": 12792.16, "duration": 6.159}, {"text": "looking for exploit so for most part of", "start": 12795.04, "duration": 6.64}, {"text": "this rating operation course we'll focus", "start": 12798.319, "duration": 7.04}, {"text": "more on how can we identify and abuse", "start": 12801.68, "duration": 5.36}, {"text": "the lateral level", "start": 12805.359, "duration": 4.401}, {"text": "mistakes that cis admins make to", "start": 12807.04, "duration": 5.68}, {"text": "misconfigure a network or system so we", "start": 12809.76, "duration": 5.599}, {"text": "can accomplish or achieve pre-escalation", "start": 12812.72, "duration": 4.639}, {"text": "some examples of", "start": 12815.359, "duration": 4.161}, {"text": "weaknesses or misconfigurations we'll be", "start": 12817.359, "duration": 4.401}, {"text": "looking at or we would like to look at", "start": 12819.52, "duration": 4.64}, {"text": "when we perform rating operation", "start": 12821.76, "duration": 4.0}, {"text": "is kerberos", "start": 12824.16, "duration": 4.239}, {"text": "encoded service path installation files", "start": 12825.76, "duration": 4.96}, {"text": "um token manipulation", "start": 12828.399, "duration": 4.08}, {"text": "gp password", "start": 12830.72, "duration": 3.679}, {"text": "kerberos delegations", "start": 12832.479, "duration": 5.361}, {"text": "weak file permissions sudo search uid", "start": 12834.399, "duration": 4.96}, {"text": "set gid", "start": 12837.84, "duration": 4.96}, {"text": "and acl abuse all right so that is where", "start": 12839.359, "duration": 5.761}, {"text": "we want to look into when it comes to", "start": 12842.8, "duration": 5.2}, {"text": "rating operation hacking is not about", "start": 12845.12, "duration": 5.52}, {"text": "elegance it's being efficient so we're", "start": 12848.0, "duration": 6.0}, {"text": "not trying to go out in style and try to", "start": 12850.64, "duration": 5.839}, {"text": "be looking cool we just want to abuse", "start": 12854.0, "duration": 4.72}, {"text": "things which are low-hanging fruit so we", "start": 12856.479, "duration": 4.641}, {"text": "can accomplish our goal with that said", "start": 12858.72, "duration": 5.92}, {"text": "let us look into some demos of how we", "start": 12861.12, "duration": 6.88}, {"text": "can achieve privilege escalation so on", "start": 12864.64, "duration": 7.599}, {"text": "one of my operations the client had a", "start": 12868.0, "duration": 7.439}, {"text": "policy which prohibited regular users", "start": 12872.239, "duration": 5.841}, {"text": "from having local admin privileges on", "start": 12875.439, "duration": 5.761}, {"text": "their system and per the policy the only", "start": 12878.08, "duration": 5.52}, {"text": "time somebody can have local admin", "start": 12881.2, "duration": 3.6}, {"text": "privilege", "start": 12883.6, "duration": 4.639}, {"text": "to execute tasks such as installing", "start": 12884.8, "duration": 4.96}, {"text": "let's say", "start": 12888.239, "duration": 3.601}, {"text": "drivers you know printer drivers or", "start": 12889.76, "duration": 3.44}, {"text": "whatever", "start": 12891.84, "duration": 5.92}, {"text": "you have to request a local admin access", "start": 12893.2, "duration": 6.48}, {"text": "for 24 hours", "start": 12897.76, "duration": 5.04}, {"text": "now that was a policy that was very", "start": 12899.68, "duration": 4.08}, {"text": "strict", "start": 12902.8, "duration": 3.679}, {"text": "and it wasn't good for us as", "start": 12903.76, "duration": 6.08}, {"text": "red teamers or offensive operators but", "start": 12906.479, "duration": 6.8}, {"text": "it served a good purpose so at one point", "start": 12909.84, "duration": 6.88}, {"text": "within 24 hours only one regular user", "start": 12913.279, "duration": 6.241}, {"text": "should have local admin privilege to do", "start": 12916.72, "duration": 5.599}, {"text": "something which they need to do because", "start": 12919.52, "duration": 4.16}, {"text": "let's say they're trying to install a", "start": 12922.319, "duration": 4.481}, {"text": "software and that requires a higher", "start": 12923.68, "duration": 5.759}, {"text": "you know access level sometimes of", "start": 12926.8, "duration": 5.12}, {"text": "course some apps need to be installed", "start": 12929.439, "duration": 4.561}, {"text": "within the context of that high", "start": 12931.92, "duration": 4.72}, {"text": "privilege such as system privileges and", "start": 12934.0, "duration": 5.52}, {"text": "within the windows environments an admin", "start": 12936.64, "duration": 5.839}, {"text": "can create a group policy to permit", "start": 12939.52, "duration": 5.759}, {"text": "regular users to be able to", "start": 12942.479, "duration": 4.88}, {"text": "install microsoft", "start": 12945.279, "duration": 5.841}, {"text": "installer packages which is misi", "start": 12947.359, "duration": 5.12}, {"text": "with system", "start": 12951.12, "duration": 4.0}, {"text": "privileges because with this policy that", "start": 12952.479, "duration": 5.041}, {"text": "i came across with this organization i", "start": 12955.12, "duration": 4.319}, {"text": "mean it was a good policy", "start": 12957.52, "duration": 4.0}, {"text": "but it was a bigger organization and", "start": 12959.439, "duration": 5.04}, {"text": "that was going to have a toll on admins", "start": 12961.52, "duration": 5.2}, {"text": "to always have to", "start": 12964.479, "duration": 4.88}, {"text": "go through a whole process of granting", "start": 12966.72, "duration": 5.519}, {"text": "someone local admin privilege for 24", "start": 12969.359, "duration": 5.04}, {"text": "hours just for them to install an", "start": 12972.239, "duration": 3.441}, {"text": "application", "start": 12974.399, "duration": 3.04}, {"text": "so the easiest way", "start": 12975.68, "duration": 4.639}, {"text": "is normally for admins to have a policy", "start": 12977.439, "duration": 4.8}, {"text": "that would allow users to install", "start": 12980.319, "duration": 4.241}, {"text": "applications within the context of a", "start": 12982.239, "duration": 4.0}, {"text": "system", "start": 12984.56, "duration": 4.24}, {"text": "now as an adversary or for rating", "start": 12986.239, "duration": 6.16}, {"text": "operators we can abuse this policy to", "start": 12988.8, "duration": 5.76}, {"text": "elevate our privileges to that of a", "start": 12992.399, "duration": 6.161}, {"text": "system now the gpo entry for this or", "start": 12994.56, "duration": 6.799}, {"text": "this particular escalation attack", "start": 12998.56, "duration": 5.04}, {"text": "is against the always", "start": 13001.359, "duration": 5.92}, {"text": "install elevator and that is what we are", "start": 13003.6, "duration": 7.28}, {"text": "going to look into we need to create two", "start": 13007.279, "duration": 6.401}, {"text": "entries within the registry so these are", "start": 13010.88, "duration": 5.519}, {"text": "the two registry keys that we can", "start": 13013.68, "duration": 4.88}, {"text": "enumerate and see if there are any", "start": 13016.399, "duration": 3.441}, {"text": "entries", "start": 13018.56, "duration": 2.16}, {"text": "so", "start": 13019.84, "duration": 2.72}, {"text": "let's run the first one", "start": 13020.72, "duration": 4.719}, {"text": "and this one comes back and tells us", "start": 13022.56, "duration": 4.4}, {"text": "there's an entry", "start": 13025.439, "duration": 3.361}, {"text": "to allow", "start": 13026.96, "duration": 4.8}, {"text": "installation of application", "start": 13028.8, "duration": 4.8}, {"text": "with elevation", "start": 13031.76, "duration": 4.8}, {"text": "let's look up the other entry and this", "start": 13033.6, "duration": 4.799}, {"text": "one also comes back", "start": 13036.56, "duration": 3.52}, {"text": "with the same entry", "start": 13038.399, "duration": 4.401}, {"text": "typically if it is disabled this should", "start": 13040.08, "duration": 3.8}, {"text": "be", "start": 13042.8, "duration": 4.8}, {"text": "0x0 the one means there is an entry to", "start": 13043.88, "duration": 4.92}, {"text": "allow for", "start": 13047.6, "duration": 4.4}, {"text": "elevation when it comes to installation", "start": 13048.8, "duration": 5.679}, {"text": "so how do we abuse this", "start": 13052.0, "duration": 4.08}, {"text": "base configuration", "start": 13054.479, "duration": 4.8}, {"text": "let us console power exploit and then", "start": 13056.08, "duration": 6.0}, {"text": "import powersploit okay and then the", "start": 13059.279, "duration": 6.0}, {"text": "command is going to be get", "start": 13062.08, "duration": 7.12}, {"text": "registry always installed and it comes", "start": 13065.279, "duration": 6.801}, {"text": "back as true let's type the command", "start": 13069.2, "duration": 4.64}, {"text": "which is going to abuse this", "start": 13072.08, "duration": 4.319}, {"text": "functionality i'm this misconfiguration", "start": 13073.84, "duration": 5.28}, {"text": "we'll type write", "start": 13076.399, "duration": 3.92}, {"text": "user", "start": 13079.12, "duration": 2.279}, {"text": "add", "start": 13080.319, "duration": 2.96}, {"text": "msi", "start": 13081.399, "duration": 5.241}, {"text": "if we want more help", "start": 13083.279, "duration": 5.361}, {"text": "with this command", "start": 13086.64, "duration": 6.96}, {"text": "we can just type get help and then write", "start": 13088.64, "duration": 7.36}, {"text": "user add", "start": 13093.6, "duration": 3.92}, {"text": "hit enter", "start": 13096.0, "duration": 4.239}, {"text": "and that would give us a brief", "start": 13097.52, "duration": 4.0}, {"text": "synopsis", "start": 13100.239, "duration": 4.0}, {"text": "of this particular command", "start": 13101.52, "duration": 5.28}, {"text": "and the syntax", "start": 13104.239, "duration": 4.16}, {"text": "we can use", "start": 13106.8, "duration": 4.24}, {"text": "and even if we want more examples we can", "start": 13108.399, "duration": 6.161}, {"text": "just do get help to look for how", "start": 13111.04, "duration": 6.0}, {"text": "some of the examples we can use so by", "start": 13114.56, "duration": 6.4}, {"text": "default if we just type write user add", "start": 13117.04, "duration": 5.199}, {"text": "msi", "start": 13120.96, "duration": 4.64}, {"text": "it is going to write a user add msi to", "start": 13122.239, "duration": 5.04}, {"text": "the local directory which is just this", "start": 13125.6, "duration": 2.96}, {"text": "one right here", "start": 13127.279, "duration": 2.08}, {"text": "so", "start": 13128.56, "duration": 2.08}, {"text": "we can type", "start": 13129.359, "duration": 3.12}, {"text": "this paste it here", "start": 13130.64, "duration": 5.12}, {"text": "hit enter all right so it looks like an", "start": 13132.479, "duration": 5.041}, {"text": "output has been written", "start": 13135.76, "duration": 3.439}, {"text": "as this one right here", "start": 13137.52, "duration": 4.64}, {"text": "we can also provide a path if you wanted", "start": 13139.199, "duration": 4.641}, {"text": "to have this", "start": 13142.16, "duration": 3.52}, {"text": "pasted somewhere else and these are the", "start": 13143.84, "duration": 3.92}, {"text": "other options that comes with it in this", "start": 13145.68, "duration": 4.639}, {"text": "case we just wrote it right into this", "start": 13147.76, "duration": 4.16}, {"text": "particular directory", "start": 13150.319, "duration": 3.92}, {"text": "so if we do there", "start": 13151.92, "duration": 4.72}, {"text": "we should see it right here", "start": 13154.239, "duration": 4.801}, {"text": "so now we have this what can we do with", "start": 13156.64, "duration": 4.719}, {"text": "that we are going to try and see if we", "start": 13159.04, "duration": 4.88}, {"text": "can elevate our privileges or we can", "start": 13161.359, "duration": 3.441}, {"text": "create", "start": 13163.92, "duration": 4.08}, {"text": "a local admin account on the system so", "start": 13164.8, "duration": 5.599}, {"text": "first of all let's take a look at", "start": 13168.0, "duration": 5.359}, {"text": "the systems the users on the system", "start": 13170.399, "duration": 6.321}, {"text": "we have admin install and these are this", "start": 13173.359, "duration": 4.96}, {"text": "default account so", "start": 13176.72, "duration": 3.759}, {"text": "only two users so far so let's see how", "start": 13178.319, "duration": 4.561}, {"text": "we can abuse this to add our own local", "start": 13180.479, "duration": 4.641}, {"text": "admin on this system", "start": 13182.88, "duration": 5.28}, {"text": "so within the passploy", "start": 13185.12, "duration": 6.319}, {"text": "folder we see the user ad", "start": 13188.16, "duration": 5.199}, {"text": "msi program", "start": 13191.439, "duration": 4.321}, {"text": "so once we run it", "start": 13193.359, "duration": 4.561}, {"text": "we should get this", "start": 13195.76, "duration": 4.479}, {"text": "pop-up which is pre-populated with a", "start": 13197.92, "duration": 4.64}, {"text": "backup username called backdoor with a", "start": 13200.239, "duration": 4.561}, {"text": "password password123", "start": 13202.56, "duration": 4.719}, {"text": "and then this is going to add this user", "start": 13204.8, "duration": 5.2}, {"text": "to the local admins group on this", "start": 13207.279, "duration": 4.401}, {"text": "particular system", "start": 13210.0, "duration": 4.479}, {"text": "so let's modify this and change the", "start": 13211.68, "duration": 5.2}, {"text": "username to fluffy", "start": 13214.479, "duration": 4.161}, {"text": "and then let's make the password", "start": 13216.88, "duration": 4.319}, {"text": "fluffy123", "start": 13218.64, "duration": 4.48}, {"text": "exclamation mark", "start": 13221.199, "duration": 4.801}, {"text": "and let's click on", "start": 13223.12, "duration": 4.88}, {"text": "create", "start": 13226.0, "duration": 6.88}, {"text": "and that should create our user for us", "start": 13228.0, "duration": 8.479}, {"text": "if we go back and type net user", "start": 13232.88, "duration": 6.64}, {"text": "we should have our user fluffy now added", "start": 13236.479, "duration": 6.0}, {"text": "and if we do net local", "start": 13239.52, "duration": 4.959}, {"text": "group", "start": 13242.479, "duration": 5.0}, {"text": "administrators", "start": 13244.479, "duration": 3.0}, {"text": "we should have our user fluffy now part", "start": 13247.6, "duration": 4.0}, {"text": "of a local admin", "start": 13250.0, "duration": 2.72}, {"text": "group", "start": 13251.6, "duration": 3.679}, {"text": "so we've been able to escalate ourselves", "start": 13252.72, "duration": 5.2}, {"text": "from just a regular and mandela", "start": 13255.279, "duration": 6.16}, {"text": "and be able to add a local admin", "start": 13257.92, "duration": 6.08}, {"text": "on this machine abusing the", "start": 13261.439, "duration": 5.281}, {"text": "always install elevator we can go", "start": 13264.0, "duration": 6.479}, {"text": "further to even achieve a remote code", "start": 13266.72, "duration": 6.88}, {"text": "execution if you wanted so let's go back", "start": 13270.479, "duration": 4.561}, {"text": "to our kali", "start": 13273.6, "duration": 4.96}, {"text": "and let's use msf venom", "start": 13275.04, "duration": 6.399}, {"text": "so with this msf", "start": 13278.56, "duration": 4.4}, {"text": "venom command", "start": 13281.439, "duration": 3.441}, {"text": "we can create ourselves", "start": 13282.96, "duration": 5.04}, {"text": "an application called always", "start": 13284.88, "duration": 5.519}, {"text": "install valid dot", "start": 13288.0, "duration": 4.56}, {"text": "msi", "start": 13290.399, "duration": 3.601}, {"text": "hit enter", "start": 13292.56, "duration": 3.12}, {"text": "so the file has been saved in this", "start": 13294.0, "duration": 3.439}, {"text": "directory so", "start": 13295.68, "duration": 3.44}, {"text": "let's", "start": 13297.439, "duration": 2.88}, {"text": "host it", "start": 13299.12, "duration": 5.52}, {"text": "and access it on the victim's machine", "start": 13300.319, "duration": 7.601}, {"text": "and i'll save it in downloads so back on", "start": 13304.64, "duration": 4.639}, {"text": "alkali", "start": 13307.92, "duration": 3.68}, {"text": "we set up a listener", "start": 13309.279, "duration": 5.12}, {"text": "and then we go back to the victims", "start": 13311.6, "duration": 3.92}, {"text": "machine", "start": 13314.399, "duration": 2.561}, {"text": "click it here", "start": 13315.52, "duration": 4.879}, {"text": "we run it we click ok", "start": 13316.96, "duration": 5.68}, {"text": "and we just select run", "start": 13320.399, "duration": 4.96}, {"text": "and then we get our shell here", "start": 13322.64, "duration": 4.24}, {"text": "on our kali box", "start": 13325.359, "duration": 4.241}, {"text": "if we do who am i", "start": 13326.88, "duration": 6.72}, {"text": "we are a system on this machine", "start": 13329.6, "duration": 5.28}, {"text": "first name", "start": 13333.6, "duration": 3.679}, {"text": "and that will be killmonger", "start": 13334.88, "duration": 4.88}, {"text": "fantastic now if you don't go through", "start": 13337.279, "duration": 5.601}, {"text": "all this whole process of prompting", "start": 13339.76, "duration": 5.04}, {"text": "on the screen we can actually use what", "start": 13342.88, "duration": 5.92}, {"text": "we call the ms i exec to silently run", "start": 13344.8, "duration": 7.2}, {"text": "this program as well okay", "start": 13348.8, "duration": 5.599}, {"text": "it's just a matter of providing", "start": 13352.0, "duration": 5.439}, {"text": "that particular program and we can use", "start": 13354.399, "duration": 4.641}, {"text": "some switches", "start": 13357.439, "duration": 4.641}, {"text": "such as dash quiet and this will just do", "start": 13359.04, "duration": 4.64}, {"text": "everything for us behind the scenes", "start": 13362.08, "duration": 4.319}, {"text": "without even the user seeing it", "start": 13363.68, "duration": 5.04}, {"text": "next on our privilege escalation", "start": 13366.399, "duration": 4.0}, {"text": "technique is", "start": 13368.72, "duration": 4.24}, {"text": "miter attack id", "start": 13370.399, "duration": 5.561}, {"text": "t1543.003", "start": 13372.96, "duration": 3.0}, {"text": "and that will be service weakness abuse", "start": 13378.64, "duration": 6.08}, {"text": "so service permissions may be", "start": 13381.92, "duration": 5.84}, {"text": "misconfigured to allow a low", "start": 13384.72, "duration": 4.559}, {"text": "privileged user", "start": 13387.76, "duration": 4.32}, {"text": "to be able to modify a services", "start": 13389.279, "duration": 4.241}, {"text": "configuration", "start": 13392.08, "duration": 3.44}, {"text": "such as either", "start": 13393.52, "duration": 5.839}, {"text": "replacing the original or overriding the", "start": 13395.52, "duration": 6.879}, {"text": "original binary with our own", "start": 13399.359, "duration": 6.401}, {"text": "or change the path or change the service", "start": 13402.399, "duration": 5.521}, {"text": "binary which is supposed to be launched", "start": 13405.76, "duration": 4.4}, {"text": "when the application runs", "start": 13407.92, "duration": 4.479}, {"text": "we are going to use the", "start": 13410.16, "duration": 6.159}, {"text": "power view invoke all checks to look for", "start": 13412.399, "duration": 6.641}, {"text": "any existence of service on this", "start": 13416.319, "duration": 4.241}, {"text": "particular machine", "start": 13419.04, "duration": 4.239}, {"text": "that may have a misconfiguration to", "start": 13420.56, "duration": 6.799}, {"text": "allow a user to abuse the weaknesses in", "start": 13423.279, "duration": 5.281}, {"text": "that system", "start": 13427.359, "duration": 4.0}, {"text": "let's import", "start": 13428.56, "duration": 5.28}, {"text": "power view", "start": 13431.359, "duration": 5.281}, {"text": "and then we can do invoke", "start": 13433.84, "duration": 5.359}, {"text": "all checks and as we're going through", "start": 13436.64, "duration": 4.4}, {"text": "one thing you should pay attention to is", "start": 13439.199, "duration": 4.961}, {"text": "sometimes invoke all checks can provide", "start": 13441.04, "duration": 6.159}, {"text": "false positives this one", "start": 13444.16, "duration": 4.8}, {"text": "the associated", "start": 13447.199, "duration": 5.2}, {"text": "weakness is on quota service path so", "start": 13448.96, "duration": 5.279}, {"text": "we have this application running out", "start": 13452.399, "duration": 2.641}, {"text": "here", "start": 13454.239, "duration": 3.361}, {"text": "which doesn't have quotation here", "start": 13455.04, "duration": 5.199}, {"text": "around this whole path", "start": 13457.6, "duration": 6.719}, {"text": "so that means we can place our program", "start": 13460.239, "duration": 6.321}, {"text": "when the program when it tries to run", "start": 13464.319, "duration": 4.88}, {"text": "the service right here", "start": 13466.56, "duration": 4.879}, {"text": "it is going to break this into two it is", "start": 13469.199, "duration": 3.921}, {"text": "going to do c", "start": 13471.439, "duration": 3.281}, {"text": "programs", "start": 13473.12, "duration": 5.52}, {"text": "and then you can call out c files", "start": 13474.72, "duration": 4.96}, {"text": "or", "start": 13478.64, "duration": 2.96}, {"text": "c program", "start": 13479.68, "duration": 3.16}, {"text": "files", "start": 13481.6, "duration": 4.0}, {"text": "encoded a separate", "start": 13482.84, "duration": 4.439}, {"text": "and then also", "start": 13485.6, "duration": 4.32}, {"text": "c program files path", "start": 13487.279, "duration": 5.521}, {"text": "so we can inject in any of our malicious", "start": 13489.92, "duration": 4.72}, {"text": "file in between here", "start": 13492.8, "duration": 3.28}, {"text": "which is going to be called up first", "start": 13494.64, "duration": 4.08}, {"text": "before it even hits this particular", "start": 13496.08, "duration": 4.8}, {"text": "service or binary", "start": 13498.72, "duration": 4.24}, {"text": "the good thing here too is this one", "start": 13500.88, "duration": 4.559}, {"text": "starts with local system so we can", "start": 13502.96, "duration": 4.479}, {"text": "elevate to that of a system", "start": 13505.439, "duration": 5.201}, {"text": "on this machine and we can also restart", "start": 13507.439, "duration": 5.92}, {"text": "here it says true so yeah all of them", "start": 13510.64, "duration": 5.04}, {"text": "the rest of them are all the same", "start": 13513.359, "duration": 4.561}, {"text": "weakness this might be some false", "start": 13515.68, "duration": 5.36}, {"text": "positives we can skip over and then we", "start": 13517.92, "duration": 6.399}, {"text": "also find modifiable services so this is", "start": 13521.04, "duration": 6.399}, {"text": "what the service weakness abuse is all", "start": 13524.319, "duration": 5.04}, {"text": "about so we can abuse this particular", "start": 13527.439, "duration": 4.481}, {"text": "program in a minute so we can add a", "start": 13529.359, "duration": 5.361}, {"text": "local admin on the system again it can", "start": 13531.92, "duration": 4.16}, {"text": "be restarted", "start": 13534.72, "duration": 4.479}, {"text": "and also runs with local system there", "start": 13536.08, "duration": 5.76}, {"text": "are a couple more files here which again", "start": 13539.199, "duration": 4.881}, {"text": "can be false positives or", "start": 13541.84, "duration": 3.84}, {"text": "they can really work", "start": 13544.08, "duration": 4.319}, {"text": "we also have the always installed", "start": 13545.68, "duration": 5.759}, {"text": "elevated registry entry we also have the", "start": 13548.399, "duration": 5.84}, {"text": "on attend dot xml for some of you who", "start": 13551.439, "duration": 5.361}, {"text": "may not know what this file is when it", "start": 13554.239, "duration": 5.12}, {"text": "comes to corporate wide deployment of", "start": 13556.8, "duration": 3.519}, {"text": "windows", "start": 13559.359, "duration": 3.761}, {"text": "you can configure a file to do", "start": 13560.319, "duration": 4.96}, {"text": "unattended installation", "start": 13563.12, "duration": 3.44}, {"text": "of systems", "start": 13565.279, "duration": 4.16}, {"text": "now within that file uh you know admins", "start": 13566.56, "duration": 6.32}, {"text": "would most likely input an admin account", "start": 13569.439, "duration": 6.321}, {"text": "and the username and password either in", "start": 13572.88, "duration": 5.2}, {"text": "basics for encoded or sometimes even in", "start": 13575.76, "duration": 3.519}, {"text": "clear text", "start": 13578.08, "duration": 1.92}, {"text": "so", "start": 13579.279, "duration": 2.561}, {"text": "sometimes we'll be lucky enough and then", "start": 13580.0, "duration": 4.239}, {"text": "we can have the local admin which was", "start": 13581.84, "duration": 4.08}, {"text": "used to create all those other windows", "start": 13584.239, "duration": 4.0}, {"text": "machines which would have a local admin", "start": 13585.92, "duration": 4.64}, {"text": "username and maybe the basics for", "start": 13588.239, "duration": 5.601}, {"text": "encoder password or cletus password so", "start": 13590.56, "duration": 6.24}, {"text": "let me hit ctrl c so we can concentrate", "start": 13593.84, "duration": 4.8}, {"text": "on the one that we are very much", "start": 13596.8, "duration": 4.16}, {"text": "interested in and that is this", "start": 13598.64, "duration": 4.0}, {"text": "particular one", "start": 13600.96, "duration": 3.519}, {"text": "the service name is", "start": 13602.64, "duration": 3.52}, {"text": "darko service", "start": 13604.479, "duration": 3.92}, {"text": "and it can be found in this pack as you", "start": 13606.16, "duration": 4.72}, {"text": "can see this one is at least coded it's", "start": 13608.399, "duration": 3.84}, {"text": "in code", "start": 13610.88, "duration": 3.76}, {"text": "this is a different between quoted and", "start": 13612.239, "duration": 5.921}, {"text": "also encoded file so if you see this one", "start": 13614.64, "duration": 4.719}, {"text": "isn't", "start": 13618.16, "duration": 3.36}, {"text": "and that's the reason why it can be", "start": 13619.359, "duration": 4.321}, {"text": "abused to elevate our privilege to that", "start": 13621.52, "duration": 4.719}, {"text": "or farm system or local admin the good", "start": 13623.68, "duration": 5.44}, {"text": "thing is power view would also give you", "start": 13626.239, "duration": 5.2}, {"text": "the function to run to abuse this", "start": 13629.12, "duration": 4.159}, {"text": "vulnerability or this weakness so in", "start": 13631.439, "duration": 4.321}, {"text": "this case we can type invoke", "start": 13633.279, "duration": 4.481}, {"text": "service abuse and then the name of the", "start": 13635.76, "duration": 4.32}, {"text": "service is this one right here and then", "start": 13637.76, "duration": 4.24}, {"text": "it will create a backyard user for us", "start": 13640.08, "duration": 4.0}, {"text": "but let's get", "start": 13642.0, "duration": 4.72}, {"text": "more help", "start": 13644.08, "duration": 4.8}, {"text": "with this command", "start": 13646.72, "duration": 5.92}, {"text": "and let's get examples on how", "start": 13648.88, "duration": 5.76}, {"text": "some of the ways that we can so these", "start": 13652.64, "duration": 4.32}, {"text": "are some of the examples can run to", "start": 13654.64, "duration": 3.52}, {"text": "abuse", "start": 13656.96, "duration": 4.08}, {"text": "this weakness by default we'll just", "start": 13658.16, "duration": 4.56}, {"text": "provide this command and we'll create a", "start": 13661.04, "duration": 4.64}, {"text": "back door with a username of john with a", "start": 13662.72, "duration": 6.08}, {"text": "password 123 exclamation", "start": 13665.68, "duration": 5.84}, {"text": "and then add the user to local admin", "start": 13668.8, "duration": 5.12}, {"text": "another sneaky way which i think this", "start": 13671.52, "duration": 5.04}, {"text": "might be the best option is instead of", "start": 13673.92, "duration": 4.96}, {"text": "creating a whole new", "start": 13676.56, "duration": 4.08}, {"text": "local admin user", "start": 13678.88, "duration": 5.12}, {"text": "why don't we just add our existing user", "start": 13680.64, "duration": 5.679}, {"text": "um to the local admin so in this case if", "start": 13684.0, "duration": 5.12}, {"text": "we try if we type the invoke services", "start": 13686.319, "duration": 5.12}, {"text": "the service name and the username of an", "start": 13689.12, "duration": 6.079}, {"text": "existing user so abuse this service this", "start": 13691.439, "duration": 7.521}, {"text": "to add the domain user john to the local", "start": 13695.199, "duration": 6.721}, {"text": "admins group so i think this might be", "start": 13698.96, "duration": 5.439}, {"text": "a much more of a set up you know way to", "start": 13701.92, "duration": 4.08}, {"text": "do that so you don't have to create a", "start": 13704.399, "duration": 4.0}, {"text": "whole new user and then provide them", "start": 13706.0, "duration": 4.88}, {"text": "with a local admin privileges let's add", "start": 13708.399, "duration": 5.681}, {"text": "the user so if i do who am i", "start": 13710.88, "duration": 4.08}, {"text": "is", "start": 13714.08, "duration": 3.68}, {"text": "and mandela so let's add this user to", "start": 13714.96, "duration": 6.239}, {"text": "the local admin group if we do net", "start": 13717.76, "duration": 5.36}, {"text": "administrators", "start": 13721.199, "duration": 4.561}, {"text": "mandela is not part of a local admin in", "start": 13723.12, "duration": 4.72}, {"text": "fact if we do user", "start": 13725.76, "duration": 3.679}, {"text": "net and", "start": 13727.84, "duration": 4.72}, {"text": "and it's just a domain user", "start": 13729.439, "duration": 5.04}, {"text": "okay", "start": 13732.56, "duration": 4.24}, {"text": "so this was a command which was", "start": 13734.479, "duration": 3.601}, {"text": "executed", "start": 13736.8, "duration": 4.559}, {"text": "so now if we do net local now we have n", "start": 13738.08, "duration": 5.6}, {"text": "mandela added", "start": 13741.359, "duration": 5.361}, {"text": "so if you recall from our previous um", "start": 13743.68, "duration": 4.559}, {"text": "discussion", "start": 13746.72, "duration": 3.84}, {"text": "we briefly touched on", "start": 13748.239, "duration": 6.16}, {"text": "access control list within a domain", "start": 13750.56, "duration": 7.6}, {"text": "and most importantly we talked about ace", "start": 13754.399, "duration": 6.321}, {"text": "right access control entries for", "start": 13758.16, "duration": 4.159}, {"text": "specific users", "start": 13760.72, "duration": 4.16}, {"text": "and how a misconfiguration", "start": 13762.319, "duration": 4.401}, {"text": "on access permission", "start": 13764.88, "duration": 6.319}, {"text": "on a user or an object can be abused to", "start": 13766.72, "duration": 6.719}, {"text": "escalate our privileges", "start": 13771.199, "duration": 5.521}, {"text": "let's take a look at some of the acl", "start": 13773.439, "duration": 6.96}, {"text": "permissions so if you click on add", "start": 13776.72, "duration": 7.04}, {"text": "these permissions how can we", "start": 13780.399, "duration": 6.561}, {"text": "look for or what are the implications", "start": 13783.76, "duration": 6.24}, {"text": "of a misconfiguration on an object or", "start": 13786.96, "duration": 6.0}, {"text": "principle that can lead into", "start": 13790.0, "duration": 5.6}, {"text": "privilege escalation", "start": 13792.96, "duration": 6.399}, {"text": "so let's get an overview on some of the", "start": 13795.6, "duration": 7.92}, {"text": "permissions of misconfigured acls that", "start": 13799.359, "duration": 8.08}, {"text": "if an object or a principle has over", "start": 13803.52, "duration": 6.64}, {"text": "another principle or another user what", "start": 13807.439, "duration": 4.0}, {"text": "can they do", "start": 13810.16, "duration": 2.159}, {"text": "so", "start": 13811.439, "duration": 5.361}, {"text": "false change pw if a user has this", "start": 13812.319, "duration": 5.841}, {"text": "privilege", "start": 13816.8, "duration": 4.559}, {"text": "over another user they should be able to", "start": 13818.16, "duration": 5.76}, {"text": "change that user's password without even", "start": 13821.359, "duration": 5.521}, {"text": "knowing the current password of that", "start": 13823.92, "duration": 4.319}, {"text": "user", "start": 13826.88, "duration": 4.559}, {"text": "so let's say user a", "start": 13828.239, "duration": 4.481}, {"text": "has", "start": 13831.439, "duration": 2.401}, {"text": "the force", "start": 13832.72, "duration": 4.0}, {"text": "change pw privilege", "start": 13833.84, "duration": 4.88}, {"text": "over user b", "start": 13836.72, "duration": 2.88}, {"text": "and", "start": 13838.72, "duration": 2.4}, {"text": "user a", "start": 13839.6, "duration": 3.44}, {"text": "happens to", "start": 13841.12, "duration": 3.84}, {"text": "be on a system", "start": 13843.04, "duration": 4.56}, {"text": "user a doesn't have to know", "start": 13844.96, "duration": 5.439}, {"text": "user b's password to be able to change", "start": 13847.6, "duration": 5.12}, {"text": "it add members", "start": 13850.399, "duration": 5.441}, {"text": "if the user has a permission", "start": 13852.72, "duration": 5.12}, {"text": "with the ad members", "start": 13855.84, "duration": 5.359}, {"text": "that means he or she will be able to add", "start": 13857.84, "duration": 4.8}, {"text": "any member", "start": 13861.199, "duration": 5.521}, {"text": "or group or a computer to a group on the", "start": 13862.64, "duration": 5.28}, {"text": "domain", "start": 13866.72, "duration": 4.0}, {"text": "now if you can take a look i have some", "start": 13867.92, "duration": 5.04}, {"text": "ways that we can actually abuse each one", "start": 13870.72, "duration": 3.759}, {"text": "of these", "start": 13872.96, "duration": 4.72}, {"text": "permissions or acl so in this case", "start": 13874.479, "duration": 6.0}, {"text": "to false change a password we can either", "start": 13877.68, "duration": 3.679}, {"text": "use", "start": 13880.479, "duration": 4.0}, {"text": "powersports set domain user password or", "start": 13881.359, "duration": 6.801}, {"text": "we can just use a regular command line", "start": 13884.479, "duration": 6.321}, {"text": "to change the password once we're done", "start": 13888.16, "duration": 4.8}, {"text": "with our work if you want to clean up", "start": 13890.8, "duration": 5.36}, {"text": "this is a command to use mimicas to get", "start": 13892.96, "duration": 5.76}, {"text": "back to the default password of the", "start": 13896.16, "duration": 4.319}, {"text": "previous use under user's previous", "start": 13898.72, "duration": 3.04}, {"text": "password", "start": 13900.479, "duration": 3.441}, {"text": "the same thing with add domain group", "start": 13901.76, "duration": 5.439}, {"text": "member we can use power views add domain", "start": 13903.92, "duration": 6.319}, {"text": "group member or we can use that built in", "start": 13907.199, "duration": 5.681}, {"text": "windows command line to do that all", "start": 13910.239, "duration": 4.481}, {"text": "extended rights", "start": 13912.88, "duration": 3.12}, {"text": "this permission", "start": 13914.72, "duration": 4.24}, {"text": "gives a user the privilege is to be able", "start": 13916.0, "duration": 6.72}, {"text": "to perform any extended write functions", "start": 13918.96, "duration": 7.12}, {"text": "and as you can see the list below are", "start": 13922.72, "duration": 6.24}, {"text": "extensive on what the user can do when", "start": 13926.08, "duration": 4.8}, {"text": "you have the all", "start": 13928.96, "duration": 4.72}, {"text": "extended rise over an object", "start": 13930.88, "duration": 5.519}, {"text": "the next one is generic all this is when", "start": 13933.68, "duration": 5.519}, {"text": "a user has a complete", "start": 13936.399, "duration": 6.321}, {"text": "control over another object or an object", "start": 13939.199, "duration": 6.401}, {"text": "has a complete control over another", "start": 13942.72, "duration": 3.84}, {"text": "object", "start": 13945.6, "duration": 2.96}, {"text": "that means they can do whatever they", "start": 13946.56, "duration": 4.48}, {"text": "want to that particular account an", "start": 13948.56, "duration": 4.799}, {"text": "object or user", "start": 13951.04, "duration": 5.439}, {"text": "generic right is being able to write or", "start": 13953.359, "duration": 4.161}, {"text": "update", "start": 13956.479, "duration": 4.641}, {"text": "any objects attributes and you can see", "start": 13957.52, "duration": 5.44}, {"text": "some of the abuse commands we can use", "start": 13961.12, "duration": 2.58}, {"text": "when it comes to", "start": 13962.96, "duration": 2.0}, {"text": "[Music]", "start": 13963.7, "duration": 2.46}, {"text": "power view", "start": 13964.96, "duration": 4.319}, {"text": "right darko is being able to modify an", "start": 13966.16, "duration": 5.68}, {"text": "account aces so if we have this", "start": 13969.279, "duration": 3.92}, {"text": "privilege", "start": 13971.84, "duration": 4.24}, {"text": "we can actually modify the accounts", "start": 13973.199, "duration": 5.361}, {"text": "access control entries and then give", "start": 13976.08, "duration": 4.64}, {"text": "ourselves or the current user that we", "start": 13978.56, "duration": 3.2}, {"text": "possess", "start": 13980.72, "duration": 3.36}, {"text": "um the privilege to be able to maybe", "start": 13981.76, "duration": 4.08}, {"text": "change a password or if we take a", "start": 13984.08, "duration": 3.6}, {"text": "control over the account so with this", "start": 13985.84, "duration": 4.16}, {"text": "particular one the right doco we don't", "start": 13987.68, "duration": 3.28}, {"text": "have", "start": 13990.0, "duration": 3.92}, {"text": "generic or or maybe chain password or", "start": 13990.96, "duration": 6.239}, {"text": "other privileges but with this one you", "start": 13993.92, "duration": 7.84}, {"text": "can add those entries into the access", "start": 13997.199, "duration": 7.521}, {"text": "control entry list and then right owner", "start": 14001.76, "duration": 4.639}, {"text": "is when you're able to change the", "start": 14004.72, "duration": 4.32}, {"text": "ownership of one object to another", "start": 14006.399, "duration": 5.92}, {"text": "object now let's jump into a demo and", "start": 14009.04, "duration": 7.68}, {"text": "let's see how we can abuse on acl mesh", "start": 14012.319, "duration": 6.0}, {"text": "configuration", "start": 14016.72, "duration": 4.4}, {"text": "what you see here is a domain controller", "start": 14018.319, "duration": 6.0}, {"text": "and we are going to walk through how an", "start": 14021.12, "duration": 5.92}, {"text": "acl can be configured", "start": 14024.319, "duration": 5.281}, {"text": "so on an active directory", "start": 14027.04, "duration": 4.88}, {"text": "i'm heading over to the server manager", "start": 14029.6, "duration": 3.759}, {"text": "dashboard", "start": 14031.92, "duration": 3.92}, {"text": "and go to tools", "start": 14033.359, "duration": 4.401}, {"text": "and then select the", "start": 14035.84, "duration": 3.84}, {"text": "active directory", "start": 14037.76, "duration": 3.84}, {"text": "admin center", "start": 14039.68, "duration": 4.4}, {"text": "once we have that i am going to look for", "start": 14041.6, "duration": 5.12}, {"text": "the users", "start": 14044.08, "duration": 2.64}, {"text": "and", "start": 14047.52, "duration": 4.0}, {"text": "we are going to pick the user", "start": 14048.399, "duration": 5.601}, {"text": "hayley selassie right here", "start": 14051.52, "duration": 5.839}, {"text": "and just double click on it", "start": 14054.0, "duration": 6.56}, {"text": "here we find so many attributes of this", "start": 14057.359, "duration": 4.401}, {"text": "user", "start": 14060.56, "duration": 3.6}, {"text": "the place we are interested in for the", "start": 14061.76, "duration": 4.32}, {"text": "sake of this", "start": 14064.16, "duration": 6.56}, {"text": "acl abuser is going to be the extensions", "start": 14066.08, "duration": 6.96}, {"text": "once we get to this part we can select", "start": 14070.72, "duration": 4.96}, {"text": "security", "start": 14073.04, "duration": 2.64}, {"text": "and then we can go down to the", "start": 14075.84, "duration": 4.16}, {"text": "permissions for everyone and hit on", "start": 14077.439, "duration": 4.321}, {"text": "advanced", "start": 14080.0, "duration": 2.64}, {"text": "so", "start": 14081.76, "duration": 3.599}, {"text": "this is the entries", "start": 14082.64, "duration": 6.88}, {"text": "that we classify as the access control", "start": 14085.359, "duration": 5.681}, {"text": "entries", "start": 14089.52, "duration": 3.6}, {"text": "and then these are the principles", "start": 14091.04, "duration": 5.359}, {"text": "that would have some sort of permissions", "start": 14093.12, "duration": 5.92}, {"text": "over that user", "start": 14096.399, "duration": 4.641}, {"text": "so if you go all the way down here we", "start": 14099.04, "duration": 5.12}, {"text": "have this user as nelson mandela", "start": 14101.04, "duration": 6.8}, {"text": "who has a full control over this user", "start": 14104.16, "duration": 5.6}, {"text": "and we'll see that in a minute on how we", "start": 14107.84, "duration": 3.359}, {"text": "can identify", "start": 14109.76, "duration": 2.88}, {"text": "this permission", "start": 14111.199, "duration": 4.24}, {"text": "on a domain and also how can we abuse", "start": 14112.64, "duration": 3.679}, {"text": "that", "start": 14115.439, "duration": 3.681}, {"text": "but in case we want to modify or", "start": 14116.319, "duration": 4.96}, {"text": "take a closer look at those permissions", "start": 14119.12, "duration": 4.96}, {"text": "or even add more entries we can just", "start": 14121.279, "duration": 4.321}, {"text": "click on add", "start": 14124.08, "duration": 4.319}, {"text": "and this one this will bring us this", "start": 14125.6, "duration": 7.36}, {"text": "page and we can select principal", "start": 14128.399, "duration": 4.561}, {"text": "so we can look for", "start": 14135.12, "duration": 4.56}, {"text": "and mandela and click ok", "start": 14137.279, "duration": 4.401}, {"text": "so essentially what we're seeing here is", "start": 14139.68, "duration": 5.2}, {"text": "we're providing this object or principle", "start": 14141.68, "duration": 5.679}, {"text": "some certain level of permissions", "start": 14144.88, "duration": 5.439}, {"text": "over this user right here health", "start": 14147.359, "duration": 5.201}, {"text": "now for now once you click on the full", "start": 14150.319, "duration": 4.561}, {"text": "control that essentially gives you an", "start": 14152.56, "duration": 5.6}, {"text": "absolute control over this user the user", "start": 14154.88, "duration": 6.559}, {"text": "that we are working from is in mandela", "start": 14158.16, "duration": 5.039}, {"text": "so there are several ways that we can", "start": 14161.439, "duration": 3.521}, {"text": "identify", "start": 14163.199, "duration": 4.801}, {"text": "how this account may have", "start": 14164.96, "duration": 6.08}, {"text": "a generic right on another principle on", "start": 14168.0, "duration": 4.08}, {"text": "a domain", "start": 14171.04, "duration": 3.6}, {"text": "so using power view", "start": 14172.08, "duration": 3.92}, {"text": "as an example", "start": 14174.64, "duration": 2.08}, {"text": "to", "start": 14176.0, "duration": 3.04}, {"text": "identify such accounts", "start": 14176.72, "duration": 3.759}, {"text": "this first command right here is", "start": 14179.04, "duration": 3.279}, {"text": "essentially getting all the domain names", "start": 14180.479, "duration": 3.121}, {"text": "on the domain", "start": 14182.319, "duration": 3.601}, {"text": "and then we're going to pipe that into", "start": 14183.6, "duration": 6.08}, {"text": "the get object acl to get all the acls", "start": 14185.92, "duration": 5.84}, {"text": "within the domain from these objects", "start": 14189.68, "duration": 3.36}, {"text": "which had been identified from the", "start": 14191.76, "duration": 2.4}, {"text": "domain", "start": 14193.04, "duration": 3.359}, {"text": "um the active directory and will resolve", "start": 14194.16, "duration": 3.52}, {"text": "the guides", "start": 14196.399, "duration": 3.92}, {"text": "so for each one of those acls we have", "start": 14197.68, "duration": 5.04}, {"text": "identified what we're essentially doing", "start": 14200.319, "duration": 4.561}, {"text": "all the way here is we want to now", "start": 14202.72, "duration": 5.12}, {"text": "compare the current user so we're using", "start": 14204.88, "duration": 5.439}, {"text": "the environment variable for the user", "start": 14207.84, "duration": 3.68}, {"text": "domain", "start": 14210.319, "duration": 3.12}, {"text": "and they don't have the username which", "start": 14211.52, "duration": 4.56}, {"text": "is going to be the best", "start": 14213.439, "duration": 6.641}, {"text": "backslash and mandela and then find out", "start": 14216.08, "duration": 7.68}, {"text": "from all the objects or the principles", "start": 14220.08, "duration": 7.199}, {"text": "we had pulled out their acls which one", "start": 14223.76, "duration": 6.479}, {"text": "of those that the current user that we", "start": 14227.279, "duration": 7.521}, {"text": "are logged in has some level of generic", "start": 14230.239, "duration": 5.681}, {"text": "rights on", "start": 14234.8, "duration": 3.519}, {"text": "and then if we can identify any system", "start": 14235.92, "duration": 4.559}, {"text": "or any user or any object", "start": 14238.319, "duration": 4.96}, {"text": "that is going to be a good way to", "start": 14240.479, "duration": 5.76}, {"text": "escalate our privilege in that way so we", "start": 14243.279, "duration": 6.641}, {"text": "hit enter so we found the id of a user", "start": 14246.239, "duration": 5.681}, {"text": "is equal to this particular user which", "start": 14249.92, "duration": 5.359}, {"text": "is the domain and then the account name", "start": 14251.92, "duration": 4.319}, {"text": "here", "start": 14255.279, "duration": 5.04}, {"text": "so this user has the access allowed", "start": 14256.239, "duration": 8.321}, {"text": "ace type so this is important to know", "start": 14260.319, "duration": 6.641}, {"text": "another key thing to look here which we", "start": 14264.56, "duration": 5.839}, {"text": "also want to see is the active directory", "start": 14266.96, "duration": 7.6}, {"text": "rights and this is equal to generic all", "start": 14270.399, "duration": 6.241}, {"text": "one more piece of information we need to", "start": 14274.56, "duration": 4.56}, {"text": "also know and be happy to see is the", "start": 14276.64, "duration": 4.16}, {"text": "object dn", "start": 14279.12, "duration": 4.72}, {"text": "which is heli selassie so essentially", "start": 14280.8, "duration": 5.76}, {"text": "what we have here right now is the", "start": 14283.84, "duration": 5.599}, {"text": "identity the current one which is the", "start": 14286.56, "duration": 6.639}, {"text": "the um n mandela user has a generic or", "start": 14289.439, "duration": 7.121}, {"text": "or a complete control over the user", "start": 14293.199, "duration": 5.441}, {"text": "he'll select so that means we can do", "start": 14296.56, "duration": 4.48}, {"text": "anything under the assumption of this", "start": 14298.64, "duration": 6.08}, {"text": "user such as changing a password of this", "start": 14301.04, "duration": 7.199}, {"text": "user without even knowing the old or the", "start": 14304.72, "duration": 7.28}, {"text": "current password so to get the actual", "start": 14308.239, "duration": 6.881}, {"text": "username of the object dn", "start": 14312.0, "duration": 5.52}, {"text": "we can use the convert", "start": 14315.12, "duration": 5.52}, {"text": "set to name feature", "start": 14317.52, "duration": 4.08}, {"text": "from", "start": 14320.64, "duration": 4.639}, {"text": "power view and then provide object sid", "start": 14321.6, "duration": 6.56}, {"text": "and we are going to copy", "start": 14325.279, "duration": 5.2}, {"text": "this object sit right here", "start": 14328.16, "duration": 4.88}, {"text": "and then try to translate it and see if", "start": 14330.479, "duration": 5.441}, {"text": "that will give us the actual domain name", "start": 14333.04, "duration": 4.0}, {"text": "of the", "start": 14335.92, "duration": 4.24}, {"text": "object helice lassie so once we hit", "start": 14337.04, "duration": 5.92}, {"text": "enter that should confirm that the name", "start": 14340.16, "duration": 5.84}, {"text": "for this user is hclassy now the next", "start": 14342.96, "duration": 6.08}, {"text": "step is can do next user and without", "start": 14346.0, "duration": 6.479}, {"text": "knowing h selassie's current password we", "start": 14349.04, "duration": 5.84}, {"text": "can provide our own so", "start": 14352.479, "duration": 4.641}, {"text": "we're going to use floppy one two three", "start": 14354.88, "duration": 5.12}, {"text": "exclamation mark and then see if we can", "start": 14357.12, "duration": 5.68}, {"text": "change this user's password", "start": 14360.0, "duration": 6.0}, {"text": "and it says that was successful so now", "start": 14362.8, "duration": 6.399}, {"text": "let's demonstrate how this can lead into", "start": 14366.0, "duration": 6.16}, {"text": "privilege escalation into maybe another", "start": 14369.199, "duration": 6.641}, {"text": "system that the user hclsc has access to", "start": 14372.16, "duration": 6.319}, {"text": "one of the systems we know about is", "start": 14375.84, "duration": 4.639}, {"text": "called cabin", "start": 14378.479, "duration": 3.041}, {"text": "so", "start": 14380.479, "duration": 3.76}, {"text": "let's see if that is going to be online", "start": 14381.52, "duration": 5.759}, {"text": "so this particular system we know that", "start": 14384.239, "duration": 6.96}, {"text": "hslc has local admin privilege on that", "start": 14387.279, "duration": 7.601}, {"text": "so one way that we can confirm if", "start": 14391.199, "duration": 6.0}, {"text": "we have we can compromise with our new", "start": 14394.88, "duration": 4.559}, {"text": "password is using", "start": 14397.199, "duration": 5.2}, {"text": "ps remoting so just type", "start": 14399.439, "duration": 3.92}, {"text": "enter", "start": 14402.399, "duration": 2.641}, {"text": "ps session", "start": 14403.359, "duration": 4.241}, {"text": "and then provide the computer name as an", "start": 14405.04, "duration": 4.399}, {"text": "option and then cabi", "start": 14407.6, "duration": 4.4}, {"text": "dot best will provide a fully qualified", "start": 14409.439, "duration": 3.76}, {"text": "domain name", "start": 14412.0, "duration": 3.52}, {"text": "calendar dot city", "start": 14413.199, "duration": 4.08}, {"text": "and will provide", "start": 14415.52, "duration": 3.679}, {"text": "the credentials and option", "start": 14417.279, "duration": 4.241}, {"text": "the user name", "start": 14419.199, "duration": 4.481}, {"text": "and hit enter and it's going to prompt", "start": 14421.52, "duration": 3.36}, {"text": "us for", "start": 14423.68, "duration": 3.519}, {"text": "the password so we're going to enter", "start": 14424.88, "duration": 4.64}, {"text": "this the password we just created", "start": 14427.199, "duration": 3.321}, {"text": "so", "start": 14429.52, "duration": 4.719}, {"text": "fluffy123 exclamation mark", "start": 14430.52, "duration": 5.879}, {"text": "all right and as you can see", "start": 14434.239, "duration": 5.04}, {"text": "we've been able to obtain a session on", "start": 14436.399, "duration": 5.521}, {"text": "this machine right here if we do", "start": 14439.279, "duration": 5.281}, {"text": "hostname that is going to be that i um", "start": 14441.92, "duration": 5.279}, {"text": "system if we do ipconfig and if we do", "start": 14444.56, "duration": 6.08}, {"text": "who am i we are connected to the system", "start": 14447.199, "duration": 7.2}, {"text": "as hclassy back to the domain controller", "start": 14450.64, "duration": 7.28}, {"text": "let's look at another acl that we can", "start": 14454.399, "duration": 6.0}, {"text": "abuse and that will be", "start": 14457.92, "duration": 6.24}, {"text": "right darko and us again we explained in", "start": 14460.399, "duration": 6.561}, {"text": "the previous slides if", "start": 14464.16, "duration": 5.92}, {"text": "an object or a principle has a right", "start": 14466.96, "duration": 4.239}, {"text": "darko", "start": 14470.08, "duration": 3.92}, {"text": "permission over another principle that", "start": 14471.199, "duration": 6.08}, {"text": "user can update the ac sort of principle", "start": 14474.0, "duration": 6.16}, {"text": "in that case let's say we have a right", "start": 14477.279, "duration": 4.241}, {"text": "darko", "start": 14480.16, "duration": 4.72}, {"text": "privilege on one user we can even enter", "start": 14481.52, "duration": 8.4}, {"text": "new ace maybe even add in generic write", "start": 14484.88, "duration": 8.559}, {"text": "access to that user for our user account", "start": 14489.92, "duration": 6.72}, {"text": "and then be able to execute the same", "start": 14493.439, "duration": 5.681}, {"text": "attack we just did against", "start": 14496.64, "duration": 4.16}, {"text": "h selassie", "start": 14499.12, "duration": 4.4}, {"text": "so let's go back into the active", "start": 14500.8, "duration": 5.2}, {"text": "directory and then let's see how we can", "start": 14503.52, "duration": 5.6}, {"text": "configure a right darker access for a", "start": 14506.0, "duration": 6.0}, {"text": "particular user for this particular one", "start": 14509.12, "duration": 6.159}, {"text": "let's choose the user shaka zulu it's", "start": 14512.0, "duration": 4.8}, {"text": "going to be", "start": 14515.279, "duration": 4.08}, {"text": "the user of our test right now and again", "start": 14516.8, "duration": 4.24}, {"text": "this will take us to", "start": 14519.359, "duration": 4.08}, {"text": "the properties and we are interested in", "start": 14521.04, "duration": 5.04}, {"text": "the extension so click on extensions", "start": 14523.439, "duration": 5.521}, {"text": "and then go down to security and go into", "start": 14526.08, "duration": 5.84}, {"text": "advanced if you look right now", "start": 14528.96, "duration": 5.279}, {"text": "we don't have anything from anne mandela", "start": 14531.92, "duration": 4.88}, {"text": "entry here so now we're going to go to", "start": 14534.239, "duration": 5.681}, {"text": "add and we'll select a principal type in", "start": 14536.8, "duration": 5.519}, {"text": "and mandela and hit check names and", "start": 14539.92, "duration": 4.559}, {"text": "click ok of all the permissions down", "start": 14542.319, "duration": 4.801}, {"text": "here that gives it right darko the", "start": 14544.479, "duration": 4.641}, {"text": "modifier permission is going to be the", "start": 14547.12, "duration": 4.48}, {"text": "one that we want to select so click on", "start": 14549.12, "duration": 6.159}, {"text": "that and click ok click apply okay so", "start": 14551.6, "duration": 6.719}, {"text": "back to the victims machine and still", "start": 14555.279, "duration": 5.281}, {"text": "working under the assumption of the user", "start": 14558.319, "duration": 5.681}, {"text": "mandela we'll run this command again", "start": 14560.56, "duration": 6.24}, {"text": "but this time we should have additional", "start": 14564.0, "duration": 3.92}, {"text": "entry", "start": 14566.8, "duration": 3.28}, {"text": "for the one we just did for the right", "start": 14567.92, "duration": 4.8}, {"text": "dhaka so the first entry again is going", "start": 14570.08, "duration": 4.319}, {"text": "to be similar to what we had done", "start": 14572.72, "duration": 5.2}, {"text": "previously for el salasi but this time", "start": 14574.399, "duration": 6.721}, {"text": "we see that we have right darko here", "start": 14577.92, "duration": 5.6}, {"text": "so again like i said this means we can", "start": 14581.12, "duration": 6.0}, {"text": "now make some modifications to this user", "start": 14583.52, "duration": 6.64}, {"text": "and most likely even assign ourselves a", "start": 14587.12, "duration": 4.88}, {"text": "generic or", "start": 14590.16, "duration": 2.72}, {"text": "right", "start": 14592.0, "duration": 2.56}, {"text": "to this user", "start": 14592.88, "duration": 4.64}, {"text": "within the assumption of and mandela", "start": 14594.56, "duration": 5.28}, {"text": "again so we can execute the same attack", "start": 14597.52, "duration": 4.4}, {"text": "we just did the way we did for the", "start": 14599.84, "duration": 4.639}, {"text": "generic right since the attack technique", "start": 14601.92, "duration": 4.24}, {"text": "is going to be similar to what we did", "start": 14604.479, "duration": 4.081}, {"text": "for the generic right i am going to skip", "start": 14606.16, "duration": 5.44}, {"text": "this particular demo so imagine this", "start": 14608.56, "duration": 6.4}, {"text": "scenario we have an active directory", "start": 14611.6, "duration": 5.2}, {"text": "user who", "start": 14614.96, "duration": 5.92}, {"text": "logs into her or his computer the name", "start": 14616.8, "duration": 8.479}, {"text": "of the computer is the client", "start": 14620.88, "duration": 7.519}, {"text": "and the user is joanne we have an", "start": 14625.279, "duration": 6.08}, {"text": "application server which is running an", "start": 14628.399, "duration": 6.241}, {"text": "iis service this application server", "start": 14631.359, "duration": 6.561}, {"text": "talks to a back-end server database that", "start": 14634.64, "duration": 7.599}, {"text": "houses data and that is the v data tier", "start": 14637.92, "duration": 5.84}, {"text": "as a server name", "start": 14642.239, "duration": 4.641}, {"text": "and it's running the sql", "start": 14643.76, "duration": 4.719}, {"text": "with the services", "start": 14646.88, "duration": 7.28}, {"text": "ms sql svc so the user tries to", "start": 14648.479, "duration": 8.96}, {"text": "access the application let's say a human", "start": 14654.16, "duration": 5.039}, {"text": "resource application", "start": 14657.439, "duration": 3.361}, {"text": "to say", "start": 14659.199, "duration": 4.561}, {"text": "make an update within the application", "start": 14660.8, "duration": 6.24}, {"text": "what happens is when this user tries to", "start": 14663.76, "duration": 5.12}, {"text": "open the browser", "start": 14667.04, "duration": 3.92}, {"text": "what is going to happen is", "start": 14668.88, "duration": 2.96}, {"text": "her", "start": 14670.96, "duration": 2.08}, {"text": "kerberos", "start": 14671.84, "duration": 3.76}, {"text": "keys are going to be used", "start": 14673.04, "duration": 5.84}, {"text": "to request this application", "start": 14675.6, "duration": 5.599}, {"text": "and then as she's interacting with the", "start": 14678.88, "duration": 5.12}, {"text": "application and then trying to retrieve", "start": 14681.199, "duration": 4.801}, {"text": "or make an update", "start": 14684.0, "duration": 4.239}, {"text": "the application is supposed to talk back", "start": 14686.0, "duration": 3.199}, {"text": "to", "start": 14688.239, "duration": 2.96}, {"text": "the database server", "start": 14689.199, "duration": 3.761}, {"text": "to execute such", "start": 14691.199, "duration": 4.321}, {"text": "event the user browsing", "start": 14692.96, "duration": 4.08}, {"text": "the application", "start": 14695.52, "duration": 3.759}, {"text": "is the first hub", "start": 14697.04, "duration": 3.439}, {"text": "so", "start": 14699.279, "duration": 4.321}, {"text": "here we have the kerberos authentication", "start": 14700.479, "duration": 5.281}, {"text": "has already happened and if you recall", "start": 14703.6, "duration": 4.96}, {"text": "from the kerberos authentication process", "start": 14705.76, "duration": 5.2}, {"text": "we went through essentially once the", "start": 14708.56, "duration": 4.32}, {"text": "user logs in with the username and", "start": 14710.96, "duration": 5.12}, {"text": "password they are provided with a tgt", "start": 14712.88, "duration": 5.04}, {"text": "and a session key", "start": 14716.08, "duration": 4.239}, {"text": "and when they want to request a resource", "start": 14717.92, "duration": 4.479}, {"text": "they're going to present this tgt", "start": 14720.319, "duration": 4.16}, {"text": "for tgs", "start": 14722.399, "duration": 6.641}, {"text": "now because the end product or the", "start": 14724.479, "duration": 6.72}, {"text": "service this user is going to need at", "start": 14729.04, "duration": 4.08}, {"text": "the end is going to be a different", "start": 14731.199, "duration": 4.24}, {"text": "application there is going to be a", "start": 14733.12, "duration": 3.68}, {"text": "problem here", "start": 14735.439, "duration": 3.84}, {"text": "this application server would not be", "start": 14736.8, "duration": 3.92}, {"text": "able to relay", "start": 14739.279, "duration": 3.761}, {"text": "this users kerberos", "start": 14740.72, "duration": 5.44}, {"text": "session to the back end here to retrieve", "start": 14743.04, "duration": 6.399}, {"text": "the data so the second hop is going to", "start": 14746.16, "duration": 5.92}, {"text": "be an issue and this is where the", "start": 14749.439, "duration": 6.081}, {"text": "kerberos delegation was born kerberos", "start": 14752.08, "duration": 6.96}, {"text": "delegation dates back to windows 3000", "start": 14755.52, "duration": 4.48}, {"text": "when", "start": 14759.04, "duration": 4.08}, {"text": "active directory was first introduced", "start": 14760.0, "duration": 4.72}, {"text": "and it was", "start": 14763.12, "duration": 3.92}, {"text": "implemented to make it", "start": 14764.72, "duration": 3.519}, {"text": "possible", "start": 14767.04, "duration": 4.48}, {"text": "to reuse an authenticated user kerberos", "start": 14768.239, "duration": 4.401}, {"text": "credentials", "start": 14771.52, "duration": 5.12}, {"text": "to access another system's resources so", "start": 14772.64, "duration": 7.28}, {"text": "in this case the kerberos delegation", "start": 14776.64, "duration": 4.4}, {"text": "allows", "start": 14779.92, "duration": 2.0}, {"text": "the", "start": 14781.04, "duration": 4.319}, {"text": "web application server to impersonate", "start": 14781.92, "duration": 4.96}, {"text": "the user", "start": 14785.359, "duration": 2.801}, {"text": "joanne", "start": 14786.88, "duration": 4.64}, {"text": "curb recession to be able to access", "start": 14788.16, "duration": 5.44}, {"text": "resources here", "start": 14791.52, "duration": 3.759}, {"text": "and that was what", "start": 14793.6, "duration": 3.759}, {"text": "kerberos delegation", "start": 14795.279, "duration": 2.96}, {"text": "was", "start": 14797.359, "duration": 2.241}, {"text": "implemented", "start": 14798.239, "duration": 4.641}, {"text": "to address what we call the kerberos", "start": 14799.6, "duration": 7.04}, {"text": "double hopping issues which is a method", "start": 14802.88, "duration": 6.96}, {"text": "of maintaining the clients kerberos", "start": 14806.64, "duration": 6.719}, {"text": "authentication credentials over two or", "start": 14809.84, "duration": 5.439}, {"text": "more servers", "start": 14813.359, "duration": 5.361}, {"text": "by creating what we call affordable", "start": 14815.279, "duration": 6.401}, {"text": "tgt now we have a couple of types of", "start": 14818.72, "duration": 6.08}, {"text": "kerberos delegations the ones who focus", "start": 14821.68, "duration": 6.4}, {"text": "here or the most well-known ones are on", "start": 14824.8, "duration": 5.36}, {"text": "constraint delegation constraint", "start": 14828.08, "duration": 4.04}, {"text": "delegation and", "start": 14830.16, "duration": 3.52}, {"text": "resource-based", "start": 14832.12, "duration": 4.76}, {"text": "constraint delegation so let us take a", "start": 14833.68, "duration": 5.36}, {"text": "quick look into how", "start": 14836.88, "duration": 4.24}, {"text": "unconstrained delegation", "start": 14839.04, "duration": 5.6}, {"text": "can be configured on a server which", "start": 14841.12, "duration": 5.52}, {"text": "would eventually allow", "start": 14844.64, "duration": 5.2}, {"text": "for impersonation to another system", "start": 14846.64, "duration": 5.2}, {"text": "which will end up abusing", "start": 14849.84, "duration": 5.12}, {"text": "so we are back here on our domain", "start": 14851.84, "duration": 6.72}, {"text": "controller and we are going to use this", "start": 14854.96, "duration": 4.64}, {"text": "computer", "start": 14858.56, "duration": 2.799}, {"text": "the cabi", "start": 14859.6, "duration": 6.48}, {"text": "system as a demo to illustrate how an", "start": 14861.359, "duration": 7.681}, {"text": "admin can configure a system", "start": 14866.08, "duration": 3.76}, {"text": "for", "start": 14869.04, "duration": 3.199}, {"text": "unconstrained delegation", "start": 14869.84, "duration": 3.76}, {"text": "so", "start": 14872.239, "duration": 4.481}, {"text": "this is how we would make changes", "start": 14873.6, "duration": 6.96}, {"text": "to configure this system for delegation", "start": 14876.72, "duration": 5.92}, {"text": "but i want us to take a quick look at", "start": 14880.56, "duration": 3.919}, {"text": "before it is configured", "start": 14882.64, "duration": 4.32}, {"text": "and after and then you see what", "start": 14884.479, "duration": 5.361}, {"text": "modifications would happen here one", "start": 14886.96, "duration": 6.64}, {"text": "entry here called user account control", "start": 14889.84, "duration": 7.92}, {"text": "attribute of this object gets updated", "start": 14893.6, "duration": 7.36}, {"text": "with an entry called trusted for", "start": 14897.76, "duration": 4.96}, {"text": "delegation flag", "start": 14900.96, "duration": 4.88}, {"text": "so if i scroll all the way down here", "start": 14902.72, "duration": 6.32}, {"text": "and i get to the user", "start": 14905.84, "duration": 5.68}, {"text": "account", "start": 14909.04, "duration": 2.48}, {"text": "control", "start": 14911.6, "duration": 5.36}, {"text": "right now the entry is only one", "start": 14913.6, "duration": 6.4}, {"text": "which is workstation and that's called", "start": 14916.96, "duration": 6.16}, {"text": "trust account the moment we configure", "start": 14920.0, "duration": 4.479}, {"text": "the system", "start": 14923.12, "duration": 3.76}, {"text": "with unconstrained delegation we will", "start": 14924.479, "duration": 6.401}, {"text": "have a new entry here called trusted for", "start": 14926.88, "duration": 6.88}, {"text": "delegation under the delegation we just", "start": 14930.88, "duration": 5.92}, {"text": "select trust this computer for", "start": 14933.76, "duration": 6.399}, {"text": "delegation to any service now this is", "start": 14936.8, "duration": 5.28}, {"text": "where the issue came with with this", "start": 14940.159, "duration": 4.881}, {"text": "particular delegation and that was why", "start": 14942.08, "duration": 5.6}, {"text": "that constraint version came about click", "start": 14945.04, "duration": 4.0}, {"text": "ok", "start": 14947.68, "duration": 4.32}, {"text": "so this is going to apply some entry or", "start": 14949.04, "duration": 6.159}, {"text": "a flag within the server so let's go", "start": 14952.0, "duration": 5.68}, {"text": "back again and then this time let's head", "start": 14955.199, "duration": 4.08}, {"text": "back to extensions", "start": 14957.68, "duration": 3.519}, {"text": "go to attribute", "start": 14959.279, "duration": 4.321}, {"text": "editor and then scroll all the way down", "start": 14961.199, "duration": 4.721}, {"text": "to the user account", "start": 14963.6, "duration": 4.799}, {"text": "we now have a new entry called", "start": 14965.92, "duration": 6.08}, {"text": "trusted for delegation that means this", "start": 14968.399, "duration": 6.321}, {"text": "machine would allow", "start": 14972.0, "duration": 7.439}, {"text": "the dc to place a user tgt inside a tgs", "start": 14974.72, "duration": 7.84}, {"text": "when joanne is trying to access the web", "start": 14979.439, "duration": 5.84}, {"text": "application and what would happen is", "start": 14982.56, "duration": 5.44}, {"text": "when the user authenticates and then", "start": 14985.279, "duration": 5.521}, {"text": "tries to access the application", "start": 14988.0, "duration": 6.159}, {"text": "the tgt would now be placed within the", "start": 14990.8, "duration": 6.639}, {"text": "tgs and then when the user presented tgs", "start": 14994.159, "duration": 4.721}, {"text": "to the server", "start": 14997.439, "duration": 6.241}, {"text": "the tgt is extracted by the first hub in", "start": 14998.88, "duration": 5.92}, {"text": "this case", "start": 15003.68, "duration": 4.16}, {"text": "let's say the application server and", "start": 15004.8, "duration": 6.08}, {"text": "then store it in lsas and this is where", "start": 15007.84, "duration": 7.68}, {"text": "we abuse that to extract that tgt for", "start": 15010.88, "duration": 6.96}, {"text": "privilege escalation", "start": 15015.52, "duration": 5.919}, {"text": "so we are now back on our compromise", "start": 15017.84, "duration": 4.88}, {"text": "system", "start": 15021.439, "duration": 4.96}, {"text": "and we are now going to look for", "start": 15022.72, "duration": 6.32}, {"text": "servers on a domain that has", "start": 15026.399, "duration": 5.681}, {"text": "unconstrained delegation configured we", "start": 15029.04, "duration": 6.56}, {"text": "can use power views get domain computer", "start": 15032.08, "duration": 6.399}, {"text": "and then provide the option for", "start": 15035.6, "duration": 4.48}, {"text": "um constraint", "start": 15038.479, "duration": 4.0}, {"text": "this should give us a list here by", "start": 15040.08, "duration": 5.92}, {"text": "default all domain controllers have this", "start": 15042.479, "duration": 6.321}, {"text": "enabled so that is not even what we're", "start": 15046.0, "duration": 4.96}, {"text": "looking for we're looking for a system", "start": 15048.8, "duration": 4.399}, {"text": "that we most likely will be able to", "start": 15050.96, "duration": 5.439}, {"text": "compromise and then if we have any", "start": 15053.199, "duration": 6.561}, {"text": "higher privileged user session or if a", "start": 15056.399, "duration": 6.321}, {"text": "higher privileged user had previously", "start": 15059.76, "duration": 5.04}, {"text": "logged into that system we should be", "start": 15062.72, "duration": 4.88}, {"text": "able to extract their tgt", "start": 15064.8, "duration": 6.0}, {"text": "so as we're looking we can skip over", "start": 15067.6, "duration": 5.759}, {"text": "the baku which is the domain controller", "start": 15070.8, "duration": 4.88}, {"text": "and then let's look for another system", "start": 15073.359, "duration": 4.88}, {"text": "which might have it enabled starting", "start": 15075.68, "duration": 6.16}, {"text": "from here", "start": 15078.239, "duration": 3.601}, {"text": "we have cabi", "start": 15081.92, "duration": 5.439}, {"text": "and that system has", "start": 15083.92, "duration": 3.439}, {"text": "trusted for delegation enabled", "start": 15087.76, "duration": 6.08}, {"text": "so this is going to be our target", "start": 15091.359, "duration": 3.601}, {"text": "machine", "start": 15093.84, "duration": 2.639}, {"text": "lucky enough", "start": 15094.96, "duration": 4.399}, {"text": "the user we have compromised previously", "start": 15096.479, "duration": 6.241}, {"text": "h selassie who were able to change the", "start": 15099.359, "duration": 7.281}, {"text": "password for that user has a local admin", "start": 15102.72, "duration": 7.28}, {"text": "privilege on the cabi system before we", "start": 15106.64, "duration": 5.92}, {"text": "can execute this attack we need to have", "start": 15110.0, "duration": 4.96}, {"text": "an account with local admin privilege on", "start": 15112.56, "duration": 5.839}, {"text": "that system so we can extract the tgt", "start": 15114.96, "duration": 5.92}, {"text": "so this is how the attack works the web", "start": 15118.399, "duration": 5.521}, {"text": "server or the web application", "start": 15120.88, "duration": 6.72}, {"text": "can reuse the tgt to access any other", "start": 15123.92, "duration": 6.479}, {"text": "resources as that particular user so", "start": 15127.6, "duration": 5.44}, {"text": "what we need here is basically cabi we", "start": 15130.399, "duration": 6.401}, {"text": "create what we call affordable tgt so", "start": 15133.04, "duration": 6.72}, {"text": "the attack scenario for prep escalation", "start": 15136.8, "duration": 6.0}, {"text": "is let's say a domain admin has any", "start": 15139.76, "duration": 5.2}, {"text": "session or has authenticated to this", "start": 15142.8, "duration": 4.96}, {"text": "system we should be able to", "start": 15144.96, "duration": 6.399}, {"text": "log in and then extract this user's tgt", "start": 15147.76, "duration": 5.84}, {"text": "and then use that to compromise other", "start": 15151.359, "duration": 4.0}, {"text": "systems", "start": 15153.6, "duration": 5.92}, {"text": "so let's jump into a demo on how we can", "start": 15155.359, "duration": 7.481}, {"text": "abuse arm constraint delegation to", "start": 15159.52, "duration": 6.4}, {"text": "achieve privilege escalation", "start": 15162.84, "duration": 5.96}, {"text": "so to be able to extract", "start": 15165.92, "duration": 4.0}, {"text": "cabbies", "start": 15168.8, "duration": 3.2}, {"text": "lsat process", "start": 15169.92, "duration": 6.399}, {"text": "memory to access users tgts", "start": 15172.0, "duration": 6.96}, {"text": "we would need elevated privileges on", "start": 15176.319, "duration": 3.92}, {"text": "that system", "start": 15178.96, "duration": 4.319}, {"text": "to simulate a domain admin sessions on a", "start": 15180.239, "duration": 4.0}, {"text": "copy", "start": 15183.279, "duration": 4.641}, {"text": "from the domain controller i am going to", "start": 15184.239, "duration": 7.12}, {"text": "establish a session into the copy system", "start": 15187.92, "duration": 6.64}, {"text": "so we can go back and then see how if", "start": 15191.359, "duration": 6.08}, {"text": "somebody has access to a cab server with", "start": 15194.56, "duration": 5.599}, {"text": "a local admin privilege they should be", "start": 15197.439, "duration": 5.84}, {"text": "able to now extract the domain admins", "start": 15200.159, "duration": 5.841}, {"text": "pgt and then be able to leverage that to", "start": 15203.279, "duration": 6.16}, {"text": "compromise other system", "start": 15206.0, "duration": 5.6}, {"text": "because this is a domain admin account", "start": 15209.439, "duration": 3.681}, {"text": "there was no need for me to provide", "start": 15211.6, "duration": 3.12}, {"text": "credentials okay", "start": 15213.12, "duration": 2.4}, {"text": "so", "start": 15214.72, "duration": 3.28}, {"text": "if i do who am i", "start": 15215.52, "duration": 5.919}, {"text": "and that is an admin now let's switch", "start": 15218.0, "duration": 4.72}, {"text": "back to", "start": 15221.439, "duration": 4.321}, {"text": "our other system and then let's see how", "start": 15222.72, "duration": 6.559}, {"text": "we can abuse this misconfiguration okay", "start": 15225.76, "duration": 5.84}, {"text": "so using the credential that we had", "start": 15229.279, "duration": 4.241}, {"text": "created for", "start": 15231.6, "duration": 3.28}, {"text": "selassie", "start": 15233.52, "duration": 5.12}, {"text": "we've been able to rdp into the cabi", "start": 15234.88, "duration": 4.72}, {"text": "system", "start": 15238.64, "duration": 2.96}, {"text": "all right so we are first of all going", "start": 15239.6, "duration": 4.639}, {"text": "to use mimikatz to", "start": 15241.6, "duration": 5.24}, {"text": "dump the tickets currently on this", "start": 15244.239, "duration": 7.681}, {"text": "system now let's list all the tickets", "start": 15246.84, "duration": 6.76}, {"text": "on this", "start": 15251.92, "duration": 4.08}, {"text": "system", "start": 15253.6, "duration": 2.4}, {"text": "let's scroll the way up and what we're", "start": 15261.04, "duration": 5.6}, {"text": "looking for is", "start": 15263.439, "duration": 3.201}, {"text": "a ticket for a domain admin", "start": 15267.199, "duration": 6.08}, {"text": "and if you can see", "start": 15271.359, "duration": 5.761}, {"text": "we have the admin", "start": 15273.279, "duration": 6.481}, {"text": "or even better the username", "start": 15277.12, "duration": 4.079}, {"text": "administrator", "start": 15279.76, "duration": 5.36}, {"text": "and the domain name right here", "start": 15281.199, "duration": 3.921}, {"text": "and we can see that tgt", "start": 15287.12, "duration": 5.84}, {"text": "is right here", "start": 15289.76, "duration": 3.2}, {"text": "and most important", "start": 15293.439, "duration": 5.521}, {"text": "it is forwardable", "start": 15296.0, "duration": 5.52}, {"text": "all right so that means we can steal", "start": 15298.96, "duration": 4.72}, {"text": "this tgt", "start": 15301.52, "duration": 6.4}, {"text": "and then become this admin", "start": 15303.68, "duration": 8.639}, {"text": "now let's export these tickets", "start": 15307.92, "duration": 4.399}, {"text": "hit enter", "start": 15312.399, "duration": 2.641}, {"text": "and let's look for the one for the admin", "start": 15315.359, "duration": 8.721}, {"text": "this one right here let's copy that", "start": 15319.76, "duration": 6.16}, {"text": "now let's see how we can use that", "start": 15324.08, "duration": 3.76}, {"text": "information", "start": 15325.92, "duration": 4.8}, {"text": "so now we're going to type", "start": 15327.84, "duration": 5.84}, {"text": "cur borrows", "start": 15330.72, "duration": 4.24}, {"text": "and", "start": 15333.68, "duration": 3.2}, {"text": "ptt", "start": 15334.96, "duration": 5.12}, {"text": "pass a ticket and then just paste", "start": 15336.88, "duration": 6.24}, {"text": "and hit enter and we should have an okay", "start": 15340.08, "duration": 5.359}, {"text": "here", "start": 15343.12, "duration": 2.319}, {"text": "we can exit out", "start": 15345.68, "duration": 4.799}, {"text": "and let's list the current tickets we", "start": 15347.6, "duration": 5.36}, {"text": "have right now", "start": 15350.479, "duration": 4.88}, {"text": "and if we take a look", "start": 15352.96, "duration": 4.88}, {"text": "user administrator we have a ticket for", "start": 15355.359, "duration": 3.92}, {"text": "that user", "start": 15357.84, "duration": 3.04}, {"text": "we can now try to see if we can", "start": 15359.279, "duration": 4.88}, {"text": "compromise the domain controller", "start": 15360.88, "duration": 4.8}, {"text": "so", "start": 15364.159, "duration": 5.04}, {"text": "if we use ps", "start": 15365.68, "duration": 3.519}, {"text": "session", "start": 15369.6, "duration": 3.36}, {"text": "computer name", "start": 15371.359, "duration": 3.601}, {"text": "and then the domain name is", "start": 15372.96, "duration": 4.479}, {"text": "baku", "start": 15374.96, "duration": 2.479}, {"text": "and we've been successful", "start": 15378.08, "duration": 3.44}, {"text": "we've been able to compromise the", "start": 15382.08, "duration": 6.319}, {"text": "domain controller", "start": 15385.359, "duration": 6.88}, {"text": "by abusing unconstrained delegation", "start": 15388.399, "duration": 6.8}, {"text": "so as you may have noticed from the", "start": 15392.239, "duration": 5.2}, {"text": "unconstrained delegation", "start": 15395.199, "duration": 5.641}, {"text": "microsoft realized it was really a bad", "start": 15397.439, "duration": 6.161}, {"text": "idea because", "start": 15400.84, "duration": 5.639}, {"text": "it allowed for impersonation", "start": 15403.6, "duration": 3.92}, {"text": "for", "start": 15406.479, "duration": 5.281}, {"text": "any service on the system in question", "start": 15407.52, "duration": 7.36}, {"text": "so what they did was they went back and", "start": 15411.76, "duration": 6.479}, {"text": "then re-thought or assessed", "start": 15414.88, "duration": 6.24}, {"text": "the danger of just having unconstrained", "start": 15418.239, "duration": 5.2}, {"text": "and then came back with what we call", "start": 15421.12, "duration": 4.64}, {"text": "constraint delegation", "start": 15423.439, "duration": 5.84}, {"text": "now what this did was just add a few", "start": 15425.76, "duration": 5.92}, {"text": "steps in a process to make it a little", "start": 15429.279, "duration": 3.521}, {"text": "bit", "start": 15431.68, "duration": 4.4}, {"text": "closer than how wider it was", "start": 15432.8, "duration": 6.24}, {"text": "when a system is configured for", "start": 15436.08, "duration": 4.8}, {"text": "constraint delegation", "start": 15439.04, "duration": 5.359}, {"text": "two attributes or two entries happen", "start": 15440.88, "duration": 6.24}, {"text": "the user account control attribute which", "start": 15444.399, "duration": 4.481}, {"text": "we saw from the", "start": 15447.12, "duration": 3.279}, {"text": "unconstrained", "start": 15448.88, "duration": 4.88}, {"text": "uh it gets updated with the trusted", "start": 15450.399, "duration": 7.281}, {"text": "underscore to underscore authenticate", "start": 15453.76, "duration": 6.479}, {"text": "underscore for underscore delegation", "start": 15457.68, "duration": 4.32}, {"text": "flag", "start": 15460.239, "duration": 4.801}, {"text": "another entry we see is going to be", "start": 15462.0, "duration": 6.72}, {"text": "the msds allowed to delegate to", "start": 15465.04, "duration": 7.119}, {"text": "attributes also gets populated with the", "start": 15468.72, "duration": 6.8}, {"text": "spn which is a service principle name", "start": 15472.159, "duration": 6.641}, {"text": "configured on the delegation tab and", "start": 15475.52, "duration": 6.08}, {"text": "let's take a quick look into that i have", "start": 15478.8, "duration": 6.04}, {"text": "this highlight in red which means the", "start": 15481.6, "duration": 7.12}, {"text": "user of the computers may be trusted for", "start": 15484.84, "duration": 7.479}, {"text": "delegation for specific services so in", "start": 15488.72, "duration": 6.719}, {"text": "this case the sys admin or the domain", "start": 15492.319, "duration": 6.16}, {"text": "admin gets to specify", "start": 15495.439, "duration": 5.201}, {"text": "specific services that needs to be", "start": 15498.479, "duration": 3.84}, {"text": "delegated to", "start": 15500.64, "duration": 4.559}, {"text": "so back to our domain controller", "start": 15502.319, "duration": 5.84}, {"text": "let's see how we can configure", "start": 15505.199, "duration": 7.28}, {"text": "a server with a constraint delegation", "start": 15508.159, "duration": 6.641}, {"text": "so in this case we're going to pick", "start": 15512.479, "duration": 4.641}, {"text": "nakia as our", "start": 15514.8, "duration": 3.84}, {"text": "test system", "start": 15517.12, "duration": 3.84}, {"text": "and we'll head over to the extensions", "start": 15518.64, "duration": 5.12}, {"text": "and let's take a look at the attribute", "start": 15520.96, "duration": 4.72}, {"text": "first", "start": 15523.76, "duration": 5.84}, {"text": "so the first one is going to be the msd", "start": 15525.68, "duration": 6.08}, {"text": "allowed to delegate to", "start": 15529.6, "duration": 5.36}, {"text": "that is not set yet this is before we", "start": 15531.76, "duration": 5.2}, {"text": "configure the server", "start": 15534.96, "duration": 4.56}, {"text": "next attribute is going to be the user", "start": 15536.96, "duration": 4.08}, {"text": "account control", "start": 15539.52, "duration": 4.4}, {"text": "and if you take a look the only entry so", "start": 15541.04, "duration": 6.239}, {"text": "far is workstation trust account", "start": 15543.92, "duration": 6.0}, {"text": "so now let's go back to delegation and", "start": 15547.279, "duration": 4.96}, {"text": "let's configure this machine for", "start": 15549.92, "duration": 4.16}, {"text": "constraint delegation", "start": 15552.239, "duration": 4.721}, {"text": "the same outlook as we had done with the", "start": 15554.08, "duration": 5.04}, {"text": "other system but in this case we're", "start": 15556.96, "duration": 4.72}, {"text": "going to we're going to select the trust", "start": 15559.12, "duration": 5.44}, {"text": "this computer for delegation for", "start": 15561.68, "duration": 5.2}, {"text": "specific services only", "start": 15564.56, "duration": 4.4}, {"text": "so we select on that and two things", "start": 15566.88, "duration": 5.519}, {"text": "happen here we get this red alert here", "start": 15568.96, "duration": 5.12}, {"text": "and a yellow down here", "start": 15572.399, "duration": 4.401}, {"text": "and the yellow here says at least one", "start": 15574.08, "duration": 6.56}, {"text": "service must be specified for delegation", "start": 15576.8, "duration": 6.16}, {"text": "this goes to tell you what i have", "start": 15580.64, "duration": 3.759}, {"text": "explained to you that", "start": 15582.96, "duration": 3.12}, {"text": "we need to select", "start": 15584.399, "duration": 5.201}, {"text": "at least one service or specific service", "start": 15586.08, "duration": 5.68}, {"text": "to allow for delegation", "start": 15589.6, "duration": 4.32}, {"text": "one more thing we need to do here is we", "start": 15591.76, "duration": 4.16}, {"text": "need to change this to", "start": 15593.92, "duration": 4.559}, {"text": "from use kerberos only", "start": 15595.92, "duration": 3.279}, {"text": "for", "start": 15598.479, "duration": 4.321}, {"text": "use any authentication protocol", "start": 15599.199, "duration": 7.12}, {"text": "now we can select any specific service", "start": 15602.8, "duration": 7.28}, {"text": "we want to delegate this system to so we", "start": 15606.319, "duration": 7.521}, {"text": "can click on add users and computers", "start": 15610.08, "duration": 5.6}, {"text": "and then we are going to look for the", "start": 15613.84, "duration": 4.479}, {"text": "domain controller and we are going to", "start": 15615.68, "duration": 4.0}, {"text": "specify", "start": 15618.319, "duration": 3.92}, {"text": "the sifs right here now you have to", "start": 15619.68, "duration": 6.08}, {"text": "understand that you can select as many", "start": 15622.239, "duration": 6.24}, {"text": "services as you want", "start": 15625.76, "duration": 5.92}, {"text": "so let's just limit ourselves to only", "start": 15628.479, "duration": 3.92}, {"text": "the", "start": 15631.68, "duration": 2.96}, {"text": "service so i'll go back again", "start": 15632.399, "duration": 4.161}, {"text": "and click ok", "start": 15634.64, "duration": 4.32}, {"text": "so now if we go back again and then we", "start": 15636.56, "duration": 4.16}, {"text": "look at the entries", "start": 15638.96, "duration": 4.0}, {"text": "we should see those two", "start": 15640.72, "duration": 5.2}, {"text": "have been updated so ms", "start": 15642.96, "duration": 6.08}, {"text": "ds allowed to delegate to has now been", "start": 15645.92, "duration": 5.76}, {"text": "updated with this new entries", "start": 15649.04, "duration": 4.8}, {"text": "and if we go all the way down to user", "start": 15651.68, "duration": 4.799}, {"text": "account control we should see a new", "start": 15653.84, "duration": 6.559}, {"text": "entry for trust set to authenticate for", "start": 15656.479, "duration": 6.88}, {"text": "delegation so now that we have done the", "start": 15660.399, "duration": 4.401}, {"text": "configuration", "start": 15663.359, "duration": 3.481}, {"text": "let us head back to", "start": 15664.8, "duration": 6.24}, {"text": "our systems and try to see if we can", "start": 15666.84, "duration": 7.479}, {"text": "abuse this particular misconfiguration", "start": 15671.04, "duration": 6.72}, {"text": "so to simulate this attack", "start": 15674.319, "duration": 7.281}, {"text": "we have authenticated to the nokia", "start": 15677.76, "duration": 4.88}, {"text": "server", "start": 15681.6, "duration": 5.599}, {"text": "as the user as zulu to solve the double", "start": 15682.64, "duration": 6.16}, {"text": "hopping issue", "start": 15687.199, "duration": 4.96}, {"text": "microsoft released two extensions", "start": 15688.8, "duration": 7.439}, {"text": "one is s for you to self and the second", "start": 15692.159, "duration": 5.601}, {"text": "extension is", "start": 15696.239, "duration": 3.841}, {"text": "s for you to proxy", "start": 15697.76, "duration": 4.559}, {"text": "and with these two extensions", "start": 15700.08, "duration": 3.68}, {"text": "it helps", "start": 15702.319, "duration": 4.561}, {"text": "limit access to only the required", "start": 15703.76, "duration": 5.92}, {"text": "backend services in this case with our", "start": 15706.88, "duration": 4.319}, {"text": "configuration", "start": 15709.68, "duration": 4.639}, {"text": "the required services are only safe on", "start": 15711.199, "duration": 3.921}, {"text": "the", "start": 15714.319, "duration": 3.521}, {"text": "domain controller to", "start": 15715.12, "duration": 5.92}, {"text": "look for systems that have constraint", "start": 15717.84, "duration": 7.599}, {"text": "delegation enabled we can use the", "start": 15721.04, "duration": 6.399}, {"text": "get net computer", "start": 15725.439, "duration": 4.321}, {"text": "dash trusted to off", "start": 15727.439, "duration": 4.641}, {"text": "to identify such systems so let's head", "start": 15729.76, "duration": 5.36}, {"text": "back to our first compromise system and", "start": 15732.08, "duration": 4.88}, {"text": "then let's try that", "start": 15735.12, "duration": 4.239}, {"text": "so this is the command", "start": 15736.96, "duration": 5.359}, {"text": "and as we can see once we run it we only", "start": 15739.359, "duration": 4.481}, {"text": "find one system", "start": 15742.319, "duration": 3.201}, {"text": "which is the nokia", "start": 15743.84, "duration": 4.399}, {"text": "and uh we have the", "start": 15745.52, "duration": 5.759}, {"text": "the computer account is right here with", "start": 15748.239, "duration": 4.321}, {"text": "a dollar sign", "start": 15751.279, "duration": 3.281}, {"text": "and then the most important thing we", "start": 15752.56, "duration": 3.919}, {"text": "want to see right here is the user", "start": 15754.56, "duration": 3.52}, {"text": "account control", "start": 15756.479, "duration": 4.88}, {"text": "and the entry is trusted to auth for", "start": 15758.08, "duration": 4.64}, {"text": "delegation", "start": 15761.359, "duration": 3.201}, {"text": "and we also see the", "start": 15762.72, "duration": 4.8}, {"text": "service principle name entry which we", "start": 15764.56, "duration": 6.96}, {"text": "had done previously do we have the msds", "start": 15767.52, "duration": 7.04}, {"text": "allowed to delegation to entry right", "start": 15771.52, "duration": 5.36}, {"text": "here", "start": 15774.56, "duration": 2.32}, {"text": "so let's head back to the nokia system", "start": 15777.84, "duration": 6.559}, {"text": "and then see how we can abuse this first", "start": 15781.92, "duration": 5.84}, {"text": "of all we are going to run memicats to", "start": 15784.399, "duration": 4.88}, {"text": "obtain the", "start": 15787.76, "duration": 7.399}, {"text": "this computer accounts ntlm hash", "start": 15789.279, "duration": 5.88}, {"text": "okay", "start": 15795.68, "duration": 4.479}, {"text": "so what we are interested in is", "start": 15796.72, "duration": 6.4}, {"text": "the ntlm hash of this", "start": 15800.159, "duration": 6.08}, {"text": "computer account so we scroll the way up", "start": 15803.12, "duration": 5.84}, {"text": "and we can see that it is right here and", "start": 15806.239, "duration": 5.601}, {"text": "then an ntlm hash so copy this right", "start": 15808.96, "duration": 3.68}, {"text": "here", "start": 15811.84, "duration": 2.72}, {"text": "and let's exit out", "start": 15812.64, "duration": 4.16}, {"text": "the next tool we are going to use to", "start": 15814.56, "duration": 5.52}, {"text": "facilitate this is going to be reviews", "start": 15816.8, "duration": 6.32}, {"text": "let's try and confirm that the user", "start": 15820.08, "duration": 4.96}, {"text": "currently doesn't have", "start": 15823.12, "duration": 2.88}, {"text": "any", "start": 15825.04, "duration": 4.159}, {"text": "access to the domain controller", "start": 15826.0, "duration": 6.08}, {"text": "and if we do k list to place the current", "start": 15829.199, "duration": 3.841}, {"text": "tickets", "start": 15832.08, "duration": 4.56}, {"text": "it is just going to be only this user", "start": 15833.04, "duration": 7.279}, {"text": "let's bring up rubios and see how we can", "start": 15836.64, "duration": 5.44}, {"text": "leverage this attack", "start": 15840.319, "duration": 3.92}, {"text": "to our benefit", "start": 15842.08, "duration": 5.6}, {"text": "so this is going to be the command that", "start": 15844.239, "duration": 7.361}, {"text": "we can run to abuse the constraint", "start": 15847.68, "duration": 7.679}, {"text": "delegation we're using rubios for this", "start": 15851.6, "duration": 7.839}, {"text": "attack and we're calling out the s4u", "start": 15855.359, "duration": 5.281}, {"text": "extension", "start": 15859.439, "duration": 5.441}, {"text": "and the username is the nokia computer", "start": 15860.64, "duration": 5.36}, {"text": "account", "start": 15864.88, "duration": 5.2}, {"text": "and then the rc file is the ntlm hash of", "start": 15866.0, "duration": 5.6}, {"text": "that account", "start": 15870.08, "duration": 3.84}, {"text": "and we can call a domain", "start": 15871.6, "duration": 4.32}, {"text": "it's best and then we're trying to", "start": 15873.92, "duration": 4.88}, {"text": "impersonate the user administrator", "start": 15875.92, "duration": 4.96}, {"text": "and we're going to provide the spn in", "start": 15878.8, "duration": 3.84}, {"text": "this case it's the sifs", "start": 15880.88, "duration": 3.12}, {"text": "and then we specify the domain", "start": 15882.64, "duration": 3.04}, {"text": "controller and then we're just going to", "start": 15884.0, "duration": 3.84}, {"text": "pass the ticket", "start": 15885.68, "duration": 3.679}, {"text": "so we hit enter", "start": 15887.84, "duration": 3.92}, {"text": "and if it all is good we should be able", "start": 15889.359, "duration": 4.0}, {"text": "to see", "start": 15891.76, "duration": 3.84}, {"text": "these things happening", "start": 15893.359, "duration": 4.161}, {"text": "and um essentially what is happening", "start": 15895.6, "duration": 4.96}, {"text": "here is we're using the ntlm hash", "start": 15897.52, "duration": 5.12}, {"text": "rubios is using that", "start": 15900.56, "duration": 5.679}, {"text": "and then requesting this is authentic um", "start": 15902.64, "duration": 6.08}, {"text": "authentication service request", "start": 15906.239, "duration": 4.321}, {"text": "and it's going to request for this", "start": 15908.72, "duration": 4.4}, {"text": "service account i mean for this account", "start": 15910.56, "duration": 5.52}, {"text": "and we're able to request a tgt with", "start": 15913.12, "duration": 3.84}, {"text": "that", "start": 15916.08, "duration": 1.84}, {"text": "okay", "start": 15916.96, "duration": 2.239}, {"text": "and then", "start": 15917.92, "duration": 3.76}, {"text": "now we have the base64", "start": 15919.199, "duration": 4.401}, {"text": "of that ticket", "start": 15921.68, "duration": 5.04}, {"text": "and now we're going to call out the s4u", "start": 15923.6, "duration": 4.559}, {"text": "extension", "start": 15926.72, "duration": 3.599}, {"text": "using the domain controller this one", "start": 15928.159, "duration": 3.521}, {"text": "right here", "start": 15930.319, "duration": 4.561}, {"text": "and then it will kick in the s for you", "start": 15931.68, "duration": 5.599}, {"text": "to self request for", "start": 15934.88, "duration": 3.519}, {"text": "the", "start": 15937.279, "duration": 3.12}, {"text": "this account", "start": 15938.399, "duration": 3.681}, {"text": "and i will make a request and then it's", "start": 15940.399, "duration": 3.121}, {"text": "successful", "start": 15942.08, "duration": 4.159}, {"text": "so now we got a tgs for", "start": 15943.52, "duration": 5.28}, {"text": "this admin", "start": 15946.239, "duration": 5.441}, {"text": "to this account right", "start": 15948.8, "duration": 6.24}, {"text": "and then we can now impersonate this", "start": 15951.68, "duration": 4.559}, {"text": "administrator", "start": 15955.04, "duration": 3.359}, {"text": "to the target spf", "start": 15956.239, "duration": 4.721}, {"text": "this on the domain controller", "start": 15958.399, "duration": 5.201}, {"text": "so once that is done the s", "start": 15960.96, "duration": 5.76}, {"text": "for you to self is completed we are now", "start": 15963.6, "duration": 5.759}, {"text": "going to send a request for the s4u to", "start": 15966.72, "duration": 5.28}, {"text": "proxy and that is also completed", "start": 15969.359, "duration": 4.161}, {"text": "successfully", "start": 15972.0, "duration": 3.68}, {"text": "and now we should have", "start": 15973.52, "duration": 5.2}, {"text": "a ticket imported into our cache so if", "start": 15975.68, "duration": 5.12}, {"text": "we do care list", "start": 15978.72, "duration": 6.8}, {"text": "we should have this list entry right now", "start": 15980.8, "duration": 4.72}, {"text": "so throughout my experiment one of the", "start": 15985.68, "duration": 5.519}, {"text": "issues that i came across was", "start": 15988.72, "duration": 6.639}, {"text": "um constraint delegation is a bit touchy", "start": 15991.199, "duration": 6.721}, {"text": "and you may have to try different", "start": 15995.359, "duration": 5.681}, {"text": "options to get it to work properly", "start": 15997.92, "duration": 4.239}, {"text": "so", "start": 16001.04, "duration": 4.72}, {"text": "um i realized when i stopped using the", "start": 16002.159, "duration": 6.08}, {"text": "fully qualified domain name and i just", "start": 16005.76, "duration": 4.0}, {"text": "used the", "start": 16008.239, "duration": 6.401}, {"text": "host name as opposed to the entire fqdn", "start": 16009.76, "duration": 7.84}, {"text": "that actually seems to work better so i", "start": 16014.64, "duration": 5.679}, {"text": "went ahead and changed my command and i", "start": 16017.6, "duration": 5.44}, {"text": "removed the fully qualified domain name", "start": 16020.319, "duration": 6.88}, {"text": "and i was able to gain access to or be", "start": 16023.04, "duration": 6.48}, {"text": "able to list the directory within the", "start": 16027.199, "duration": 3.921}, {"text": "domain controller", "start": 16029.52, "duration": 4.32}, {"text": "so if you are working on this on your", "start": 16031.12, "duration": 3.52}, {"text": "own", "start": 16033.84, "duration": 3.599}, {"text": "and you come across issues where you are", "start": 16034.64, "duration": 4.96}, {"text": "still getting access denied even though", "start": 16037.439, "duration": 5.121}, {"text": "you get a successful ticket import", "start": 16039.6, "duration": 6.32}, {"text": "uh my advice is keep changing your", "start": 16042.56, "duration": 5.839}, {"text": "options and that should work for you", "start": 16045.92, "duration": 4.72}, {"text": "this is not as straightforward it can be", "start": 16048.399, "duration": 4.8}, {"text": "a bit frustrating so you have to keep", "start": 16050.64, "duration": 4.96}, {"text": "trying other options to get it to work", "start": 16053.199, "duration": 3.681}, {"text": "for you", "start": 16055.6, "duration": 2.4}, {"text": "the next", "start": 16056.88, "duration": 2.559}, {"text": "kerberos", "start": 16058.0, "duration": 4.0}, {"text": "delegation-based attack", "start": 16059.439, "duration": 6.081}, {"text": "is resource-based constraint delegation", "start": 16062.0, "duration": 7.04}, {"text": "and this was introduced in windows", "start": 16065.52, "duration": 5.839}, {"text": "server 2012.", "start": 16069.04, "duration": 4.88}, {"text": "now for those hearing about this concept", "start": 16071.359, "duration": 4.08}, {"text": "for the first time", "start": 16073.92, "duration": 3.6}, {"text": "this might be a bit", "start": 16075.439, "duration": 4.641}, {"text": "challenging to grasp", "start": 16077.52, "duration": 4.0}, {"text": "the concept", "start": 16080.08, "duration": 2.64}, {"text": "but um", "start": 16081.52, "duration": 4.24}, {"text": "once you play it over and over and over", "start": 16082.72, "duration": 6.639}, {"text": "you begin to understand and be able to", "start": 16085.76, "duration": 6.24}, {"text": "execute such an attack in a future", "start": 16089.359, "duration": 3.84}, {"text": "engagement", "start": 16092.0, "duration": 4.0}, {"text": "and i'll try my possible best to explain", "start": 16093.199, "duration": 6.0}, {"text": "this concept to the best of my knowledge", "start": 16096.0, "duration": 7.04}, {"text": "this whole concept is about the system", "start": 16099.199, "duration": 6.401}, {"text": "hosting the resource making", "start": 16103.04, "duration": 6.399}, {"text": "determination as to who can delegate to", "start": 16105.6, "duration": 4.879}, {"text": "it", "start": 16109.439, "duration": 4.321}, {"text": "to make the explanation a bit easier to", "start": 16110.479, "duration": 4.241}, {"text": "grasp", "start": 16113.76, "duration": 3.84}, {"text": "i went back to this diagram right here", "start": 16114.72, "duration": 6.16}, {"text": "to explain how the resource-based", "start": 16117.6, "duration": 5.679}, {"text": "delegation works", "start": 16120.88, "duration": 5.12}, {"text": "if you recall the first two delegation", "start": 16123.279, "duration": 6.0}, {"text": "attacks for the constraint and", "start": 16126.0, "duration": 7.199}, {"text": "unconstrained this application server", "start": 16129.279, "duration": 7.2}, {"text": "determines or is configured to delegate", "start": 16133.199, "duration": 6.881}, {"text": "to specific services on let's say this", "start": 16136.479, "duration": 4.72}, {"text": "system", "start": 16140.08, "duration": 2.399}, {"text": "this time", "start": 16141.199, "duration": 3.28}, {"text": "this back-end server", "start": 16142.479, "duration": 5.361}, {"text": "determines which object can delegate to", "start": 16144.479, "duration": 5.84}, {"text": "it and that is a reverse of what the", "start": 16147.84, "duration": 3.76}, {"text": "first two", "start": 16150.319, "duration": 3.601}, {"text": "delegation attacks would have been", "start": 16151.6, "duration": 6.16}, {"text": "only one attribute is going to be", "start": 16153.92, "duration": 4.96}, {"text": "updated", "start": 16157.76, "duration": 3.2}, {"text": "once we run the resource-based", "start": 16158.88, "duration": 4.16}, {"text": "constraint delegation attack and that", "start": 16160.96, "duration": 4.239}, {"text": "will be msds", "start": 16163.04, "duration": 7.439}, {"text": "allow to act on behalf of other identity", "start": 16165.199, "duration": 8.96}, {"text": "on the target resource in this case the", "start": 16170.479, "duration": 6.321}, {"text": "resource hosting the services", "start": 16174.159, "duration": 5.361}, {"text": "and it is going to have the seat of the", "start": 16176.8, "duration": 6.24}, {"text": "object that is allowed to delegate to it", "start": 16179.52, "duration": 6.16}, {"text": "so again back in our scenario this will", "start": 16183.04, "duration": 5.439}, {"text": "be the seat of let's say the web server", "start": 16185.68, "duration": 4.719}, {"text": "or the application server", "start": 16188.479, "duration": 4.481}, {"text": "and then the entry would be within the", "start": 16190.399, "duration": 5.361}, {"text": "backend server the database server", "start": 16192.96, "duration": 4.8}, {"text": "the resource-based", "start": 16195.76, "duration": 4.88}, {"text": "config delegation attack requires that a", "start": 16197.76, "duration": 6.16}, {"text": "user has permission to modify", "start": 16200.64, "duration": 4.799}, {"text": "a computer's", "start": 16203.92, "duration": 4.399}, {"text": "object in the active directory what this", "start": 16205.439, "duration": 4.481}, {"text": "means is", "start": 16208.319, "duration": 4.321}, {"text": "to be able to carry out this attack we", "start": 16209.92, "duration": 5.92}, {"text": "need to have privileges", "start": 16212.64, "duration": 5.839}, {"text": "on that object let's say the database", "start": 16215.84, "duration": 4.72}, {"text": "server to be able", "start": 16218.479, "duration": 4.72}, {"text": "to modify its permission", "start": 16220.56, "duration": 4.799}, {"text": "all right and the permission we need", "start": 16223.199, "duration": 4.681}, {"text": "going back again to the", "start": 16225.359, "duration": 6.481}, {"text": "aclu scenario or the ace the permission", "start": 16227.88, "duration": 6.76}, {"text": "we need is the right privilege on the", "start": 16231.84, "duration": 4.96}, {"text": "computer and we can will be able to", "start": 16234.64, "duration": 4.96}, {"text": "achieve code execution", "start": 16236.8, "duration": 5.679}, {"text": "this concept is also referred to as", "start": 16239.6, "duration": 6.0}, {"text": "taking over a computer i have what i", "start": 16242.479, "duration": 6.241}, {"text": "classify as the ingredients we need to", "start": 16245.6, "duration": 5.12}, {"text": "carry out this attack and we'll go", "start": 16248.72, "duration": 4.719}, {"text": "through step by step this can be a bit", "start": 16250.72, "duration": 5.599}, {"text": "daunting but trust me once you've been", "start": 16253.439, "duration": 6.401}, {"text": "able to repeat this over and over it", "start": 16256.319, "duration": 5.761}, {"text": "will become second nature for you to", "start": 16259.84, "duration": 4.24}, {"text": "execute this attack on", "start": 16262.08, "duration": 4.72}, {"text": "an engagement so first we need to have a", "start": 16264.08, "duration": 4.239}, {"text": "target computer", "start": 16266.8, "duration": 4.24}, {"text": "for this particular demo the nokia is", "start": 16268.319, "duration": 6.321}, {"text": "going to be the system of our interest", "start": 16271.04, "duration": 5.76}, {"text": "and of course there has to be", "start": 16274.64, "duration": 4.799}, {"text": "an admin on that computer in this case", "start": 16276.8, "duration": 5.359}, {"text": "we have s zulu as that", "start": 16279.439, "duration": 4.081}, {"text": "user", "start": 16282.159, "duration": 3.601}, {"text": "we are now going to be able to create a", "start": 16283.52, "duration": 3.919}, {"text": "fake computer", "start": 16285.76, "duration": 3.92}, {"text": "and then we will assign", "start": 16287.439, "duration": 4.72}, {"text": "a set to that computer", "start": 16289.68, "duration": 5.519}, {"text": "and then of course create a password for", "start": 16292.159, "duration": 4.721}, {"text": "that as well", "start": 16295.199, "duration": 5.2}, {"text": "another requirement is at least the dc", "start": 16296.88, "duration": 6.08}, {"text": "or the domain controller on that domain", "start": 16300.399, "duration": 6.401}, {"text": "should at least be a windows 2012. the", "start": 16302.96, "duration": 6.239}, {"text": "reason why we can com we can create fa", "start": 16306.8, "duration": 6.16}, {"text": "computer is by default any user on an", "start": 16309.199, "duration": 6.881}, {"text": "active directory can create up to", "start": 16312.96, "duration": 6.88}, {"text": "10 computers and will figure out or will", "start": 16316.08, "duration": 7.119}, {"text": "run a command that shows a confirm stat", "start": 16319.84, "duration": 7.2}, {"text": "because we have to be able to modify", "start": 16323.199, "duration": 6.641}, {"text": "that computer to be able to", "start": 16327.04, "duration": 5.199}, {"text": "inject or insert the set of our fake", "start": 16329.84, "duration": 6.399}, {"text": "computer we have to have a generic or", "start": 16332.239, "duration": 6.16}, {"text": "right privileged", "start": 16336.239, "duration": 4.641}, {"text": "user to be able to do that in this case", "start": 16338.399, "duration": 3.601}, {"text": "their path", "start": 16340.88, "duration": 3.519}, {"text": "of escalation is going to be the user", "start": 16342.0, "duration": 5.439}, {"text": "and mandela has a generic or privilege", "start": 16344.399, "duration": 5.76}, {"text": "on nokia that means that user can make", "start": 16347.439, "duration": 5.441}, {"text": "any modification to that computer", "start": 16350.159, "duration": 6.721}, {"text": "including adding a set of a computer to", "start": 16352.88, "duration": 4.72}, {"text": "the", "start": 16356.88, "duration": 2.2}, {"text": "attribute", "start": 16357.6, "duration": 6.16}, {"text": "msds allowed to act on behalf of other", "start": 16359.08, "duration": 6.119}, {"text": "entities", "start": 16363.76, "duration": 3.84}, {"text": "as part of our scenario we assume a", "start": 16365.199, "duration": 5.761}, {"text": "domain admin has a session on the nokia", "start": 16367.6, "duration": 6.639}, {"text": "system so it can facilitate us", "start": 16370.96, "duration": 5.76}, {"text": "showcasing or demonstrating how we can", "start": 16374.239, "duration": 3.521}, {"text": "execute", "start": 16376.72, "duration": 2.0}, {"text": "the", "start": 16377.76, "duration": 2.96}, {"text": "resource based constraint delegation", "start": 16378.72, "duration": 6.399}, {"text": "attack so let's begin with a demo", "start": 16380.72, "duration": 7.919}, {"text": "on how we can step by step execute such", "start": 16385.119, "duration": 4.881}, {"text": "an attack", "start": 16388.639, "duration": 4.08}, {"text": "so we are back to our compromised", "start": 16390.0, "duration": 6.24}, {"text": "machine the kill monger and we are", "start": 16392.719, "duration": 6.24}, {"text": "logged in as n mandela", "start": 16396.24, "duration": 5.84}, {"text": "first we want to check if", "start": 16398.959, "duration": 4.641}, {"text": "the default", "start": 16402.08, "duration": 4.08}, {"text": "configuration of a domain user being", "start": 16403.6, "duration": 4.8}, {"text": "able to add up to 10 computers on a", "start": 16406.16, "duration": 6.32}, {"text": "domain is still valid here so we'll use", "start": 16408.4, "duration": 4.959}, {"text": "the", "start": 16412.48, "duration": 3.44}, {"text": "power views command get", "start": 16413.359, "duration": 4.161}, {"text": "domain", "start": 16415.92, "duration": 2.879}, {"text": "object", "start": 16417.52, "duration": 5.24}, {"text": "we'll specify the identity", "start": 16418.799, "duration": 3.961}, {"text": "and we see that", "start": 16425.199, "duration": 3.362}, {"text": "this one right here", "start": 16427.039, "duration": 3.201}, {"text": "msds", "start": 16428.561, "duration": 3.519}, {"text": "per user", "start": 16430.24, "duration": 2.879}, {"text": "trust", "start": 16432.08, "duration": 1.84}, {"text": "tom", "start": 16433.119, "duration": 3.201}, {"text": "stone's quarter is 10.", "start": 16433.92, "duration": 5.119}, {"text": "so this is a confirmation that domain", "start": 16436.32, "duration": 5.84}, {"text": "users are able to create up to 10", "start": 16439.039, "duration": 4.881}, {"text": "computers on a domain", "start": 16442.16, "duration": 5.36}, {"text": "next let's confirm the domain controller", "start": 16443.92, "duration": 5.199}, {"text": "is at least", "start": 16447.52, "duration": 4.96}, {"text": "windows server 2012 and we can confirm", "start": 16449.119, "duration": 5.361}, {"text": "the os version", "start": 16452.48, "duration": 7.28}, {"text": "is windows server 2016 data center", "start": 16454.48, "duration": 5.28}, {"text": "the next step is we need to confirm that", "start": 16459.92, "duration": 6.16}, {"text": "at least the target computer nokia", "start": 16463.039, "duration": 6.201}, {"text": "object must not have the attribute", "start": 16466.08, "duration": 4.959}, {"text": "msds", "start": 16469.24, "duration": 5.479}, {"text": "allowed to delegate to allowed to act on", "start": 16471.039, "duration": 4.801}, {"text": "behalf", "start": 16474.719, "duration": 4.881}, {"text": "of the other entity is set otherwise our", "start": 16475.84, "duration": 5.84}, {"text": "attack would not work there shouldn't be", "start": 16479.6, "duration": 4.24}, {"text": "any entry yet for that particular", "start": 16481.68, "duration": 3.599}, {"text": "attribute", "start": 16483.84, "duration": 4.721}, {"text": "and this command should do that for us", "start": 16485.279, "duration": 5.121}, {"text": "we're going to look for this attribute", "start": 16488.561, "duration": 4.0}, {"text": "the name of the computer and then also", "start": 16490.4, "duration": 5.68}, {"text": "the attribute and this should be empty", "start": 16492.561, "duration": 7.199}, {"text": "so with this confirmations we can now", "start": 16496.08, "duration": 5.52}, {"text": "turn ourselves into", "start": 16499.76, "duration": 5.279}, {"text": "the attack mode mode and create our fake", "start": 16501.6, "duration": 6.16}, {"text": "computer to be able to create a fake", "start": 16505.039, "duration": 5.441}, {"text": "computer we're going to use a different", "start": 16507.76, "duration": 4.4}, {"text": "power shell", "start": 16510.48, "duration": 4.559}, {"text": "tool called power mad", "start": 16512.16, "duration": 5.199}, {"text": "and this command should do that for us", "start": 16515.039, "duration": 4.641}, {"text": "we're going to use the new machine", "start": 16517.359, "duration": 5.041}, {"text": "account function and create a new", "start": 16519.68, "duration": 6.64}, {"text": "computer called zuri and we're going to", "start": 16522.4, "duration": 5.68}, {"text": "use a password", "start": 16526.32, "duration": 3.6}, {"text": "fluffy123", "start": 16528.08, "duration": 3.52}, {"text": "exclamation mark", "start": 16529.92, "duration": 4.16}, {"text": "to create our fake computer", "start": 16531.6, "duration": 5.039}, {"text": "so we have a confirmation here", "start": 16534.08, "duration": 5.359}, {"text": "that the machine account zuri has been", "start": 16536.639, "duration": 4.0}, {"text": "created", "start": 16539.439, "duration": 3.84}, {"text": "what we can do is we can confirm if this", "start": 16540.639, "duration": 5.361}, {"text": "has actually been created and also take", "start": 16543.279, "duration": 5.84}, {"text": "a look at the seat of this computer", "start": 16546.0, "duration": 6.48}, {"text": "we can see the object id here which is", "start": 16549.119, "duration": 5.52}, {"text": "going to be the seed", "start": 16552.48, "duration": 5.28}, {"text": "so let's go back and as we going through", "start": 16554.639, "duration": 6.64}, {"text": "we'll populate our ingredient list so", "start": 16557.76, "duration": 6.56}, {"text": "first we have zuri created as a fake", "start": 16561.279, "duration": 6.641}, {"text": "computer we have the sit and we have our", "start": 16564.32, "duration": 6.0}, {"text": "password so it looks like we have all", "start": 16567.92, "duration": 5.039}, {"text": "the ingredients all set up right now", "start": 16570.32, "duration": 5.84}, {"text": "so next on our attack mode is we are", "start": 16572.959, "duration": 4.721}, {"text": "going to create", "start": 16576.16, "duration": 5.119}, {"text": "a new raw security descriptor", "start": 16577.68, "duration": 5.679}, {"text": "for the zuri", "start": 16581.279, "duration": 4.16}, {"text": "computer account", "start": 16583.359, "duration": 4.481}, {"text": "so this command can be", "start": 16585.439, "duration": 5.76}, {"text": "a bit of a handful so pay attention to", "start": 16587.84, "duration": 6.0}, {"text": "it the only thing you see here you may", "start": 16591.199, "duration": 5.44}, {"text": "have to modify on your site is", "start": 16593.84, "duration": 5.76}, {"text": "if you can look we have to put in the", "start": 16596.639, "duration": 6.881}, {"text": "set of that fake computer we had created", "start": 16599.6, "duration": 5.359}, {"text": "to create that", "start": 16603.52, "duration": 4.56}, {"text": "raw security descriptor and the command", "start": 16604.959, "duration": 6.48}, {"text": "for that is just new object security dot", "start": 16608.08, "duration": 4.879}, {"text": "access control", "start": 16611.439, "duration": 2.961}, {"text": "dot raw", "start": 16612.959, "duration": 3.521}, {"text": "security descriptor and then we're going", "start": 16614.4, "duration": 4.479}, {"text": "to pass in this argument with permission", "start": 16616.48, "duration": 5.44}, {"text": "sets and we shouldn't see any output for", "start": 16618.879, "duration": 3.84}, {"text": "that", "start": 16621.92, "duration": 3.92}, {"text": "we need few more additional commands", "start": 16622.719, "duration": 6.08}, {"text": "so these are the three commands we have", "start": 16625.84, "duration": 4.32}, {"text": "to", "start": 16628.799, "duration": 5.762}, {"text": "write to accomplish that objective", "start": 16630.16, "duration": 7.36}, {"text": "next we are going to modify the target", "start": 16634.561, "duration": 4.558}, {"text": "computers ad", "start": 16637.52, "duration": 2.56}, {"text": "object", "start": 16639.119, "duration": 3.281}, {"text": "by applying this", "start": 16640.08, "duration": 5.119}, {"text": "security descriptor bias to", "start": 16642.4, "duration": 6.399}, {"text": "the target computer nokia machine", "start": 16645.199, "duration": 5.84}, {"text": "so in this command", "start": 16648.799, "duration": 5.361}, {"text": "we are going to get a computer nokia and", "start": 16651.039, "duration": 7.281}, {"text": "we are going to set an attribute of msds", "start": 16654.16, "duration": 6.639}, {"text": "allowed to act on behalf", "start": 16658.32, "duration": 4.479}, {"text": "of other identity", "start": 16660.799, "duration": 4.721}, {"text": "with this said that we just created here", "start": 16662.799, "duration": 4.801}, {"text": "if we have the proper permission we", "start": 16665.52, "duration": 3.919}, {"text": "should succeed", "start": 16667.6, "duration": 4.72}, {"text": "so to confirm if this", "start": 16669.439, "duration": 6.241}, {"text": "msds allow to act on behalf", "start": 16672.32, "duration": 6.879}, {"text": "of other identity attribute has been set", "start": 16675.68, "duration": 6.32}, {"text": "we can try this command again", "start": 16679.199, "duration": 5.44}, {"text": "and this time we see that it has been", "start": 16682.0, "duration": 4.879}, {"text": "set it's no longer empty", "start": 16684.639, "duration": 4.72}, {"text": "as before", "start": 16686.879, "duration": 4.721}, {"text": "next we need to confirm that a security", "start": 16689.359, "duration": 4.481}, {"text": "descriptor assigned to", "start": 16691.6, "duration": 6.48}, {"text": "the computer nakia in msds allowed to", "start": 16693.84, "duration": 7.599}, {"text": "act on behalf of other attribute", "start": 16698.08, "duration": 6.32}, {"text": "refers to the nokia", "start": 16701.439, "duration": 6.241}, {"text": "computer machine", "start": 16704.4, "duration": 3.28}, {"text": "and this should do the trick for us", "start": 16708.719, "duration": 6.64}, {"text": "one more step is we are going to convert", "start": 16712.799, "duration": 5.041}, {"text": "this security descriptor and security", "start": 16715.359, "duration": 3.92}, {"text": "identifier", "start": 16717.84, "duration": 4.08}, {"text": "and see if this maps to", "start": 16719.279, "duration": 6.0}, {"text": "that nokia dollar sign machine account", "start": 16721.92, "duration": 5.439}, {"text": "so we can just type convert", "start": 16725.279, "duration": 3.52}, {"text": "from sit", "start": 16727.359, "duration": 4.241}, {"text": "and copy", "start": 16728.799, "duration": 2.801}, {"text": "the security identifier", "start": 16731.68, "duration": 4.32}, {"text": "yeah and uh that was my bad we're", "start": 16736.959, "duration": 5.041}, {"text": "referring to the zuri computer account", "start": 16739.279, "duration": 6.561}, {"text": "not nokia but this is what we created", "start": 16742.0, "duration": 7.52}, {"text": "next on our tag is we need to generate", "start": 16745.84, "duration": 7.519}, {"text": "an empty hash for the zuri", "start": 16749.52, "duration": 6.48}, {"text": "computer account which is this one right", "start": 16753.359, "duration": 3.44}, {"text": "here", "start": 16756.0, "duration": 4.959}, {"text": "and we can use rubios to accomplish that", "start": 16756.799, "duration": 6.08}, {"text": "for us", "start": 16760.959, "duration": 5.201}, {"text": "okay so with this we should be able to", "start": 16762.879, "duration": 4.56}, {"text": "obtain", "start": 16766.16, "duration": 5.76}, {"text": "an ntlm hash for the zuri account", "start": 16767.439, "duration": 7.6}, {"text": "so once we have the hash we can now", "start": 16771.92, "duration": 4.959}, {"text": "attempt to execute", "start": 16775.039, "duration": 4.961}, {"text": "the attack by requesting a kerberos", "start": 16776.879, "duration": 4.079}, {"text": "ticket", "start": 16780.0, "duration": 2.958}, {"text": "for the zuri", "start": 16780.958, "duration": 4.0}, {"text": "dollar sign account", "start": 16782.958, "duration": 4.962}, {"text": "with ability to impersonate user", "start": 16784.958, "duration": 6.962}, {"text": "administrator who is a domain admin", "start": 16787.92, "duration": 6.16}, {"text": "on that computer", "start": 16791.92, "duration": 5.6}, {"text": "to put all the pieces together and carry", "start": 16794.08, "duration": 6.798}, {"text": "out the final attack execution", "start": 16797.52, "duration": 6.56}, {"text": "this is what i have so far using", "start": 16800.878, "duration": 4.562}, {"text": "ruby use", "start": 16804.08, "duration": 3.92}, {"text": "um in this case we are calling out the", "start": 16805.44, "duration": 4.88}, {"text": "s4u extension", "start": 16808.0, "duration": 4.4}, {"text": "we are using the fake", "start": 16810.32, "duration": 4.638}, {"text": "machine account we created for zuri", "start": 16812.4, "duration": 4.16}, {"text": "computer", "start": 16814.958, "duration": 3.92}, {"text": "we're using the ntlm hash of that", "start": 16816.56, "duration": 5.0}, {"text": "account if you recall that was", "start": 16818.878, "duration": 5.362}, {"text": "fluffy123 exclamation mark", "start": 16821.56, "duration": 5.238}, {"text": "and then we are also impersonating the", "start": 16824.24, "duration": 4.88}, {"text": "administrator account who is also a", "start": 16826.798, "duration": 4.962}, {"text": "domain admin so that means that user", "start": 16829.12, "duration": 4.56}, {"text": "should have local admin on all the", "start": 16831.76, "duration": 4.8}, {"text": "machines on a domain including the nokia", "start": 16833.68, "duration": 4.16}, {"text": "system", "start": 16836.56, "duration": 4.96}, {"text": "currently our user who is and mandela", "start": 16837.84, "duration": 6.56}, {"text": "doesn't have local admin on the nokia", "start": 16841.52, "duration": 4.4}, {"text": "system yet", "start": 16844.4, "duration": 4.0}, {"text": "so once we're able to impersonate an", "start": 16845.92, "duration": 4.958}, {"text": "admin we should now be able to request", "start": 16848.4, "duration": 5.36}, {"text": "resources on that machine the", "start": 16850.878, "duration": 5.92}, {"text": "spn service we provide in here is http", "start": 16853.76, "duration": 4.0}, {"text": "service", "start": 16856.798, "duration": 4.08}, {"text": "and we're providing alternative services", "start": 16857.76, "duration": 5.92}, {"text": "with sifs and hosts so we can run remote", "start": 16860.878, "duration": 5.282}, {"text": "code execution and of course we're going", "start": 16863.68, "duration": 5.118}, {"text": "to carry that out with past a ticket if", "start": 16866.16, "duration": 4.32}, {"text": "this doesn't work for you it will", "start": 16868.798, "duration": 4.482}, {"text": "require lots of tinkering because this", "start": 16870.48, "duration": 5.44}, {"text": "is also very touchy compared to the", "start": 16873.28, "duration": 4.4}, {"text": "constraint delegation", "start": 16875.92, "duration": 3.84}, {"text": "so if the", "start": 16877.68, "duration": 4.4}, {"text": "spn you choose doesn't work you may have", "start": 16879.76, "duration": 4.72}, {"text": "to tinker with this to get it to work", "start": 16882.08, "duration": 3.6}, {"text": "for you", "start": 16884.48, "duration": 2.158}, {"text": "so", "start": 16885.68, "duration": 2.88}, {"text": "as you can see here", "start": 16886.638, "duration": 5.682}, {"text": "our ticket successfully imported", "start": 16888.56, "duration": 7.04}, {"text": "and now we can execute or we can list", "start": 16892.32, "duration": 7.2}, {"text": "the c sure on the nokia system", "start": 16895.6, "duration": 7.118}, {"text": "so this brings us to the end of the", "start": 16899.52, "duration": 6.8}, {"text": "kerberos delegation based attacks", "start": 16902.718, "duration": 6.08}, {"text": "so even though during privilege", "start": 16906.32, "duration": 5.52}, {"text": "escalation phase of our", "start": 16908.798, "duration": 4.562}, {"text": "operation", "start": 16911.84, "duration": 4.48}, {"text": "we are most likely interested in", "start": 16913.36, "duration": 5.56}, {"text": "taking advantage of", "start": 16916.32, "duration": 4.96}, {"text": "misconfigurations or", "start": 16918.92, "duration": 5.24}, {"text": "service weaknesses or", "start": 16921.28, "duration": 5.56}, {"text": "mistakes or oversight from", "start": 16924.16, "duration": 5.04}, {"text": "sysadmins sometimes", "start": 16926.84, "duration": 3.958}, {"text": "it does become", "start": 16929.2, "duration": 5.04}, {"text": "necessary for us to exploit an actual", "start": 16930.798, "duration": 4.962}, {"text": "vulnerability", "start": 16934.24, "duration": 3.52}, {"text": "to achieve", "start": 16935.76, "duration": 3.84}, {"text": "higher privilege", "start": 16937.76, "duration": 5.68}, {"text": "a case in point is the vulnerability", "start": 16939.6, "duration": 6.56}, {"text": "named as print nightmare", "start": 16943.44, "duration": 8.278}, {"text": "which the cve number is 2021-34", "start": 16946.16, "duration": 5.558}, {"text": "57527", "start": 16952.84, "duration": 4.28}, {"text": "what is the vulnerability which affects", "start": 16954.798, "duration": 3.122}, {"text": "the", "start": 16957.12, "duration": 3.598}, {"text": "windows print spoiler service", "start": 16957.92, "duration": 5.36}, {"text": "now um this is not the first time the", "start": 16960.718, "duration": 4.802}, {"text": "principle or service has had a", "start": 16963.28, "duration": 4.96}, {"text": "vulnerability which had led into", "start": 16965.52, "duration": 6.16}, {"text": "code execution or privilege escalation", "start": 16968.24, "duration": 5.68}, {"text": "we are going to try and see how", "start": 16971.68, "duration": 4.8}, {"text": "we can abuse this vulnerability", "start": 16973.92, "duration": 3.84}, {"text": "to run", "start": 16976.48, "duration": 4.64}, {"text": "an actual exploit to achieve privilege", "start": 16977.76, "duration": 4.64}, {"text": "escalation", "start": 16981.12, "duration": 3.44}, {"text": "what makes this vulnerability a bit more", "start": 16982.4, "duration": 5.28}, {"text": "dangerous is it can be done both remote", "start": 16984.56, "duration": 5.92}, {"text": "or on a local machine", "start": 16987.68, "duration": 5.92}, {"text": "so try to do this from our cali machine", "start": 16990.48, "duration": 5.6}, {"text": "and see how we can abuse this", "start": 16993.6, "duration": 4.88}, {"text": "with a low privileged user", "start": 16996.08, "duration": 5.68}, {"text": "to compromise a domain controller so", "start": 16998.48, "duration": 6.478}, {"text": "let's jump into our demo environment", "start": 17001.76, "duration": 5.6}, {"text": "so i already have the", "start": 17004.958, "duration": 6.482}, {"text": "setup ready so i have the first window", "start": 17007.36, "duration": 6.56}, {"text": "is the code itself that the exploit", "start": 17011.44, "duration": 5.12}, {"text": "itself which is a python exploit", "start": 17013.92, "duration": 4.0}, {"text": "and", "start": 17016.56, "duration": 4.64}, {"text": "the dll which is going to be executed i", "start": 17017.92, "duration": 6.0}, {"text": "use msfvenin to", "start": 17021.2, "duration": 4.16}, {"text": "develop that", "start": 17023.92, "duration": 6.0}, {"text": "and then i have a listener on port 1337", "start": 17025.36, "duration": 7.04}, {"text": "which is going to catch the reverse", "start": 17029.92, "duration": 3.52}, {"text": "shell", "start": 17032.4, "duration": 2.88}, {"text": "so what is going to happen is i have", "start": 17033.44, "duration": 4.88}, {"text": "already generated a bad dot dll and it's", "start": 17035.28, "duration": 6.56}, {"text": "just going to fetch us a reverse shell", "start": 17038.32, "duration": 6.96}, {"text": "and the local listener is going to be", "start": 17041.84, "duration": 6.24}, {"text": "our kali or the attackers machine", "start": 17045.28, "duration": 6.4}, {"text": "and then we listen on port 1337", "start": 17048.08, "duration": 5.6}, {"text": "and i just apply some encoders right", "start": 17051.68, "duration": 4.72}, {"text": "here not necessary but i just added", "start": 17053.68, "duration": 4.08}, {"text": "those to", "start": 17056.4, "duration": 4.478}, {"text": "that command and then this is the", "start": 17057.76, "duration": 6.32}, {"text": "exploit that we are going to run we have", "start": 17060.878, "duration": 5.522}, {"text": "the domain is best", "start": 17064.08, "duration": 5.6}, {"text": "the username is n mandela and this is a", "start": 17066.4, "duration": 6.08}, {"text": "password and we're running it against a", "start": 17069.68, "duration": 5.118}, {"text": "domain controller and this is what makes", "start": 17072.48, "duration": 4.08}, {"text": "a little bit serious with this", "start": 17074.798, "duration": 4.562}, {"text": "particular vulnerability imagine that", "start": 17076.56, "duration": 4.56}, {"text": "you're on an engagement that you have a", "start": 17079.36, "duration": 5.438}, {"text": "low privileged user and you are able to", "start": 17081.12, "duration": 6.32}, {"text": "compromise the domain controller right", "start": 17084.798, "duration": 5.202}, {"text": "off the back right so this is a dc", "start": 17087.44, "duration": 5.278}, {"text": "running and we are attempting to", "start": 17090.0, "duration": 5.44}, {"text": "compromise that this is a callus ip", "start": 17092.718, "duration": 5.282}, {"text": "address we are going to stand up on smb", "start": 17095.44, "duration": 4.8}, {"text": "share and we're going to host this bad", "start": 17098.0, "duration": 6.16}, {"text": "dot dll to catch it", "start": 17100.24, "duration": 6.398}, {"text": "so this is the command that", "start": 17104.16, "duration": 4.638}, {"text": "i am going to run", "start": 17106.638, "duration": 4.962}, {"text": "and uh just to be aware", "start": 17108.798, "duration": 4.242}, {"text": "i have the", "start": 17111.6, "duration": 3.198}, {"text": "file", "start": 17113.04, "duration": 4.0}, {"text": "bad.dll", "start": 17114.798, "duration": 4.322}, {"text": "hosted here already so", "start": 17117.04, "duration": 3.838}, {"text": "i'm just running", "start": 17119.12, "duration": 3.2}, {"text": "the smb", "start": 17120.878, "duration": 3.602}, {"text": "service right from this", "start": 17122.32, "duration": 4.8}, {"text": "directory", "start": 17124.48, "duration": 2.64}, {"text": "and we have our listener netcat", "start": 17128.48, "duration": 3.28}, {"text": "listening", "start": 17130.718, "duration": 5.442}, {"text": "and now we are going to run our exploit", "start": 17131.76, "duration": 7.198}, {"text": "and if everything goes successfully we", "start": 17136.16, "duration": 4.96}, {"text": "should be able to have a connection back", "start": 17138.958, "duration": 5.68}, {"text": "from our domain controller", "start": 17141.12, "duration": 3.518}, {"text": "so we fetching", "start": 17145.52, "duration": 5.32}, {"text": "and we got a successful authentication", "start": 17147.36, "duration": 5.12}, {"text": "and", "start": 17150.84, "duration": 3.64}, {"text": "we are right", "start": 17152.48, "duration": 3.36}, {"text": "on the system", "start": 17154.48, "duration": 4.318}, {"text": "and we have a system level and if i do", "start": 17155.84, "duration": 4.56}, {"text": "hostname", "start": 17158.798, "duration": 4.322}, {"text": "that is baku and if i do", "start": 17160.4, "duration": 3.76}, {"text": "net", "start": 17163.12, "duration": 2.48}, {"text": "you realize", "start": 17164.16, "duration": 3.52}, {"text": "this is a domain controller", "start": 17165.6, "duration": 4.16}, {"text": "and that is what we have", "start": 17167.68, "duration": 4.8}, {"text": "compromised", "start": 17169.76, "duration": 2.72}, {"text": "so far", "start": 17172.878, "duration": 4.642}, {"text": "our privilege escalation activities", "start": 17174.24, "duration": 6.16}, {"text": "have centered around windows", "start": 17177.52, "duration": 4.96}, {"text": "operating system", "start": 17180.4, "duration": 5.2}, {"text": "let's switch gears a little bit and", "start": 17182.48, "duration": 4.96}, {"text": "let's jump onto", "start": 17185.6, "duration": 5.118}, {"text": "linux environment and let's see", "start": 17187.44, "duration": 6.4}, {"text": "one or two ways that we can also", "start": 17190.718, "duration": 6.16}, {"text": "achieve privilege escalation if we find", "start": 17193.84, "duration": 6.48}, {"text": "ourselves on a linux machine", "start": 17196.878, "duration": 5.362}, {"text": "the first to", "start": 17200.32, "duration": 5.2}, {"text": "discuss is sudo abuse", "start": 17202.24, "duration": 7.92}, {"text": "and the miter attack framework attack id", "start": 17205.52, "duration": 8.198}, {"text": "is t1548.003", "start": 17210.16, "duration": 3.558}, {"text": "so on a linux box", "start": 17216.48, "duration": 4.72}, {"text": "a regular user", "start": 17219.12, "duration": 6.24}, {"text": "account may be granted a sudo permission", "start": 17221.2, "duration": 7.598}, {"text": "to specific file or program to run", "start": 17225.36, "duration": 6.96}, {"text": "within the context of exedoa first of", "start": 17228.798, "duration": 5.92}, {"text": "all what we have to do is we've been", "start": 17232.32, "duration": 4.96}, {"text": "able to log in right now as", "start": 17234.718, "duration": 5.442}, {"text": "and mandela on the system", "start": 17237.28, "duration": 5.84}, {"text": "shuri we can check the user's privileges", "start": 17240.16, "duration": 5.04}, {"text": "by typing sudo", "start": 17243.12, "duration": 5.838}, {"text": "l and it should tell us that this user", "start": 17245.2, "duration": 7.92}, {"text": "may not run sudo on this system", "start": 17248.958, "duration": 7.84}, {"text": "this user just has a regular privilege", "start": 17253.12, "duration": 6.56}, {"text": "let's head over to the next tab and i", "start": 17256.798, "duration": 7.202}, {"text": "have authenticated as the user as kante", "start": 17259.68, "duration": 7.52}, {"text": "who has sudo privileges and let's get", "start": 17264.0, "duration": 6.638}, {"text": "into the file that defines who", "start": 17267.2, "duration": 6.08}, {"text": "should have sudo privilege or not so", "start": 17270.638, "duration": 4.642}, {"text": "i'll hit enter", "start": 17273.28, "duration": 3.76}, {"text": "and that should take us here", "start": 17275.28, "duration": 3.84}, {"text": "and yes", "start": 17277.04, "duration": 5.04}, {"text": "technically none of the users has", "start": 17279.12, "duration": 5.36}, {"text": "pseudo privilege with exception of the", "start": 17282.08, "duration": 3.6}, {"text": "escante", "start": 17284.48, "duration": 4.158}, {"text": "so what we can do is here within this", "start": 17285.68, "duration": 6.72}, {"text": "file we can specify what program", "start": 17288.638, "duration": 7.602}, {"text": "a user such as n mandela can run within", "start": 17292.4, "duration": 6.16}, {"text": "the context of a pseudo", "start": 17296.24, "duration": 5.92}, {"text": "that can be placed under this", "start": 17298.56, "duration": 4.88}, {"text": "user", "start": 17302.16, "duration": 2.478}, {"text": "privilege", "start": 17303.44, "duration": 2.72}, {"text": "specification", "start": 17304.638, "duration": 4.24}, {"text": "and provide who", "start": 17306.16, "duration": 6.88}, {"text": "ever the user is so and mandela", "start": 17308.878, "duration": 5.84}, {"text": "and", "start": 17313.04, "duration": 3.758}, {"text": "if you take a look", "start": 17314.718, "duration": 3.042}, {"text": "this", "start": 17316.798, "duration": 4.0}, {"text": "specifies what the user can do as a", "start": 17317.76, "duration": 4.16}, {"text": "pseudo", "start": 17320.798, "duration": 4.562}, {"text": "so if you take a look the root can do", "start": 17321.92, "duration": 4.718}, {"text": "everything", "start": 17325.36, "duration": 3.84}, {"text": "this is where we can limit what the user", "start": 17326.638, "duration": 6.16}, {"text": "can do so in this case we will specify", "start": 17329.2, "duration": 6.24}, {"text": "what program or command", "start": 17332.798, "duration": 6.16}, {"text": "the user and mandela can run which here", "start": 17335.44, "duration": 6.64}, {"text": "we are only providing this user the less", "start": 17338.958, "duration": 5.202}, {"text": "command to be able to run", "start": 17342.08, "duration": 4.878}, {"text": "we'll just save that", "start": 17344.16, "duration": 5.36}, {"text": "so now it's telling us", "start": 17346.958, "duration": 4.722}, {"text": "user and mandela", "start": 17349.52, "duration": 5.04}, {"text": "may run the following command on shuri", "start": 17351.68, "duration": 6.32}, {"text": "so how can we abuse this to achieve", "start": 17354.56, "duration": 6.8}, {"text": "higher privilege so what we can do is", "start": 17358.0, "duration": 6.638}, {"text": "we can go ahead and just create an empty", "start": 17361.36, "duration": 5.2}, {"text": "file so we can just", "start": 17364.638, "duration": 3.202}, {"text": "first of all", "start": 17366.56, "duration": 3.12}, {"text": "check our id", "start": 17367.84, "duration": 5.038}, {"text": "is not root so we can just look our", "start": 17369.68, "duration": 5.44}, {"text": "current directory as well", "start": 17372.878, "duration": 4.242}, {"text": "which is this right here", "start": 17375.12, "duration": 5.12}, {"text": "as expected if we do ls there's nothing", "start": 17377.12, "duration": 4.24}, {"text": "here", "start": 17380.24, "duration": 3.84}, {"text": "so to create an empty file let's use", "start": 17381.36, "duration": 5.598}, {"text": "touch and then just name any file as we", "start": 17384.08, "duration": 3.68}, {"text": "want", "start": 17386.958, "duration": 3.522}, {"text": "and then we just do ls and confirm our", "start": 17387.76, "duration": 4.4}, {"text": "file is here", "start": 17390.48, "duration": 4.0}, {"text": "so what we can do is we just type in", "start": 17392.16, "duration": 3.6}, {"text": "sudo", "start": 17394.48, "duration": 3.92}, {"text": "less because we allow to run this last", "start": 17395.76, "duration": 4.8}, {"text": "command with sudo privilege and then", "start": 17398.4, "duration": 3.6}, {"text": "just hit enter", "start": 17400.56, "duration": 4.0}, {"text": "and that should take us here", "start": 17402.0, "duration": 4.878}, {"text": "so what's going to happen here is we can", "start": 17404.56, "duration": 5.44}, {"text": "just type in let's say an exclamation", "start": 17406.878, "duration": 4.0}, {"text": "mark", "start": 17410.0, "duration": 2.24}, {"text": "right here", "start": 17410.878, "duration": 4.402}, {"text": "so and then we can hit enter", "start": 17412.24, "duration": 6.718}, {"text": "that drops us right into a root", "start": 17415.28, "duration": 4.56}, {"text": "so", "start": 17418.958, "duration": 4.562}, {"text": "we become a root right now", "start": 17419.84, "duration": 3.68}, {"text": "another technique we can abuse to", "start": 17424.0, "duration": 4.638}, {"text": "escalate our privilege", "start": 17426.718, "duration": 4.322}, {"text": "on a linux machine is", "start": 17428.638, "duration": 5.042}, {"text": "set uid abuse", "start": 17431.04, "duration": 6.0}, {"text": "and the miter attack framework", "start": 17433.68, "duration": 4.958}, {"text": "is id", "start": 17437.04, "duration": 4.598}, {"text": "t1548.001", "start": 17438.638, "duration": 3.0}, {"text": "so the set uid is a type of permission", "start": 17444.718, "duration": 4.962}, {"text": "that allows", "start": 17448.24, "duration": 4.16}, {"text": "users to execute", "start": 17449.68, "duration": 6.08}, {"text": "files or a file within the context of", "start": 17452.4, "duration": 5.2}, {"text": "another account", "start": 17455.76, "duration": 3.68}, {"text": "let's say a pseudo", "start": 17457.6, "duration": 4.96}, {"text": "so assuming an adversary compromises a", "start": 17459.44, "duration": 6.56}, {"text": "linux box with low privileges and", "start": 17462.56, "duration": 8.238}, {"text": "identifies a binary or a file with", "start": 17466.0, "duration": 7.84}, {"text": "set uid set", "start": 17470.798, "duration": 5.682}, {"text": "the attacker or the adversary", "start": 17473.84, "duration": 5.68}, {"text": "can run the program within the context", "start": 17476.48, "duration": 5.36}, {"text": "of a higher privilege", "start": 17479.52, "duration": 3.438}, {"text": "so", "start": 17481.84, "duration": 3.038}, {"text": "back on the shuri", "start": 17482.958, "duration": 2.962}, {"text": "server", "start": 17484.878, "duration": 3.602}, {"text": "let's do a quick setup on how", "start": 17485.92, "duration": 4.64}, {"text": "we we can demonstrate", "start": 17488.48, "duration": 5.6}, {"text": "this attack against the find command", "start": 17490.56, "duration": 6.0}, {"text": "i'm going to set up the test environment", "start": 17494.08, "duration": 5.04}, {"text": "right now so if we do which", "start": 17496.56, "duration": 4.078}, {"text": "find", "start": 17499.12, "duration": 4.32}, {"text": "it can be found here within the user bin", "start": 17500.638, "duration": 4.482}, {"text": "find folder", "start": 17503.44, "duration": 4.32}, {"text": "we can do ls", "start": 17505.12, "duration": 4.56}, {"text": "dot al", "start": 17507.76, "duration": 4.32}, {"text": "user bin and then find", "start": 17509.68, "duration": 4.16}, {"text": "and we can see that", "start": 17512.08, "duration": 5.2}, {"text": "we don't have the set uid set yet", "start": 17513.84, "duration": 6.72}, {"text": "once we have a set this", "start": 17517.28, "duration": 7.12}, {"text": "is going to change from executable or x", "start": 17520.56, "duration": 6.48}, {"text": "to just an s as in sam", "start": 17524.4, "duration": 5.52}, {"text": "so the command to set a set uid is going", "start": 17527.04, "duration": 4.08}, {"text": "to be", "start": 17529.92, "duration": 4.798}, {"text": "u plus s which is going to be set uid", "start": 17531.12, "duration": 6.32}, {"text": "and then user then", "start": 17534.718, "duration": 4.482}, {"text": "find", "start": 17537.44, "duration": 2.8}, {"text": "like that", "start": 17539.2, "duration": 2.96}, {"text": "now if we bring back", "start": 17540.24, "duration": 4.478}, {"text": "our previous command we should see that", "start": 17542.16, "duration": 4.08}, {"text": "now we have", "start": 17544.718, "duration": 4.402}, {"text": "the s now changed to", "start": 17546.24, "duration": 3.84}, {"text": "s", "start": 17549.12, "duration": 3.48}, {"text": "so then how can we abuse this", "start": 17550.08, "duration": 6.08}, {"text": "misconfiguration so let's head back to", "start": 17552.6, "duration": 6.84}, {"text": "the user context of n mandela", "start": 17556.16, "duration": 6.638}, {"text": "and we can use the command so what this", "start": 17559.44, "duration": 5.358}, {"text": "command is going to do is it is going to", "start": 17562.798, "duration": 5.682}, {"text": "start a search from the root directory", "start": 17564.798, "duration": 5.362}, {"text": "and then look for all the permission", "start": 17568.48, "duration": 5.2}, {"text": "sets that have the set uid", "start": 17570.16, "duration": 4.32}, {"text": "set", "start": 17573.68, "duration": 3.92}, {"text": "and we're looking for the type file and", "start": 17574.48, "duration": 4.478}, {"text": "anything that we don't have permission", "start": 17577.6, "duration": 4.08}, {"text": "over just dump it so", "start": 17578.958, "duration": 5.602}, {"text": "we will see this list coming out", "start": 17581.68, "duration": 4.72}, {"text": "gradually", "start": 17584.56, "duration": 4.48}, {"text": "but the one that we are most interested", "start": 17586.4, "duration": 4.478}, {"text": "in is going to be", "start": 17589.04, "duration": 5.758}, {"text": "this one right here so let's begin by", "start": 17590.878, "duration": 6.962}, {"text": "typing another file let's just do", "start": 17594.798, "duration": 7.202}, {"text": "touch file to as an empty file let's", "start": 17597.84, "duration": 6.08}, {"text": "check our", "start": 17602.0, "duration": 5.92}, {"text": "permissions we just end mandela", "start": 17603.92, "duration": 4.0}, {"text": "find", "start": 17609.36, "duration": 3.438}, {"text": "file 2", "start": 17610.958, "duration": 4.802}, {"text": "and we want to execute", "start": 17612.798, "duration": 4.322}, {"text": "this command", "start": 17615.76, "duration": 2.56}, {"text": "id", "start": 17617.12, "duration": 2.56}, {"text": "then", "start": 17618.32, "duration": 4.72}, {"text": "backslash and then semicolon", "start": 17619.68, "duration": 5.52}, {"text": "and that should work so that should give", "start": 17623.04, "duration": 4.32}, {"text": "us our id right now", "start": 17625.2, "duration": 4.08}, {"text": "is in mandela", "start": 17627.36, "duration": 4.32}, {"text": "but if you look we are", "start": 17629.28, "duration": 4.88}, {"text": "root we run it under the context", "start": 17631.68, "duration": 3.68}, {"text": "of a root", "start": 17634.16, "duration": 3.6}, {"text": "so if we do again", "start": 17635.36, "duration": 5.04}, {"text": "bring back this command but this time do", "start": 17637.76, "duration": 3.84}, {"text": "who am i", "start": 17640.4, "duration": 3.2}, {"text": "this is going to tell us that we are", "start": 17641.6, "duration": 3.198}, {"text": "root", "start": 17643.6, "duration": 5.038}, {"text": "so we can pass any command we want here", "start": 17644.798, "duration": 6.402}, {"text": "and that would execute within the", "start": 17648.638, "duration": 6.24}, {"text": "context of a root user", "start": 17651.2, "duration": 6.16}, {"text": "another technique which", "start": 17654.878, "duration": 6.242}, {"text": "i'll say most of the time overlooked and", "start": 17657.36, "duration": 6.48}, {"text": "undervalued is history", "start": 17661.12, "duration": 4.0}, {"text": "command", "start": 17663.84, "duration": 4.798}, {"text": "now i have done a lot of operations", "start": 17665.12, "duration": 6.96}, {"text": "where just looking through or browsing", "start": 17668.638, "duration": 4.24}, {"text": "through", "start": 17672.08, "duration": 4.48}, {"text": "the user's history command has given me", "start": 17672.878, "duration": 7.122}, {"text": "direct access to a higher privileged", "start": 17676.56, "duration": 6.238}, {"text": "user because what happens is", "start": 17680.0, "duration": 6.48}, {"text": "by default on linux distributions", "start": 17682.798, "duration": 6.642}, {"text": "the commands you type on a command line", "start": 17686.48, "duration": 6.56}, {"text": "on a terminal saves up to 500 lines of", "start": 17689.44, "duration": 4.56}, {"text": "that", "start": 17693.04, "duration": 3.918}, {"text": "now sometimes just reviewing the history", "start": 17694.0, "duration": 6.24}, {"text": "logs of the user can reveal", "start": 17696.958, "duration": 6.0}, {"text": "additional information for privilege", "start": 17700.24, "duration": 5.76}, {"text": "escalation such as credentials", "start": 17702.958, "duration": 5.202}, {"text": "typical example in my real world", "start": 17706.0, "duration": 6.16}, {"text": "scenario was i did an operation where it", "start": 17708.16, "duration": 6.24}, {"text": "was difficult for me to move around on a", "start": 17712.16, "duration": 3.36}, {"text": "network", "start": 17714.4, "duration": 4.08}, {"text": "but i got myself on a linux machine and", "start": 17715.52, "duration": 5.84}, {"text": "i realized the user or an admin had", "start": 17718.48, "duration": 5.6}, {"text": "logged into this machine and then used", "start": 17721.36, "duration": 5.12}, {"text": "the ldap search command", "start": 17724.08, "duration": 5.6}, {"text": "to make some query against the domain", "start": 17726.48, "duration": 4.398}, {"text": "controller", "start": 17729.68, "duration": 3.84}, {"text": "the mistake this admin did was", "start": 17730.878, "duration": 5.202}, {"text": "they passed the credentials right on a", "start": 17733.52, "duration": 5.76}, {"text": "command line and that saved me for that", "start": 17736.08, "duration": 5.68}, {"text": "day on that engagement because that was", "start": 17739.28, "duration": 4.88}, {"text": "a domain admin and that gave me right", "start": 17741.76, "duration": 5.038}, {"text": "access to the domain controller so", "start": 17744.16, "duration": 4.798}, {"text": "within just linux", "start": 17746.798, "duration": 4.722}, {"text": "it's as easy as typing history", "start": 17748.958, "duration": 5.602}, {"text": "and we should see all the commands that", "start": 17751.52, "duration": 5.92}, {"text": "this user has typed all the way to the", "start": 17754.56, "duration": 5.04}, {"text": "500 command", "start": 17757.44, "duration": 3.84}, {"text": "and", "start": 17759.6, "duration": 3.44}, {"text": "if we look", "start": 17761.28, "duration": 3.518}, {"text": "we can see that", "start": 17763.04, "duration": 5.12}, {"text": "we have the p lumumba user", "start": 17764.798, "duration": 6.722}, {"text": "and then the person was just using the", "start": 17768.16, "duration": 5.04}, {"text": "ldap search", "start": 17771.52, "duration": 4.32}, {"text": "to connect to the domain controller", "start": 17773.2, "duration": 5.678}, {"text": "and making some query on a domain for", "start": 17775.84, "duration": 5.2}, {"text": "service principal names", "start": 17778.878, "duration": 5.042}, {"text": "and then look they provided the password", "start": 17781.04, "duration": 3.918}, {"text": "right here", "start": 17783.92, "duration": 3.52}, {"text": "so with that we can go ahead and", "start": 17784.958, "duration": 5.92}, {"text": "probably open up another terminal", "start": 17787.44, "duration": 6.0}, {"text": "and as you can see", "start": 17790.878, "duration": 6.402}, {"text": "we were able to use the user p lumumba", "start": 17793.44, "duration": 6.24}, {"text": "it's credential and then the domain", "start": 17797.28, "duration": 7.12}, {"text": "controller and we are on this machine", "start": 17799.68, "duration": 7.118}, {"text": "and because we're using psx we got", "start": 17804.4, "duration": 4.398}, {"text": "ourselves a system shell", "start": 17806.798, "duration": 3.602}, {"text": "if we do", "start": 17808.798, "duration": 4.16}, {"text": "hostname", "start": 17810.4, "duration": 2.558}, {"text": "we are on a domain controller", "start": 17813.12, "duration": 4.64}, {"text": "the next", "start": 17816.48, "duration": 2.478}, {"text": "tactic", "start": 17817.76, "duration": 3.92}, {"text": "under the network propagation", "start": 17818.958, "duration": 3.68}, {"text": "phase", "start": 17821.68, "duration": 3.52}, {"text": "is defense evasion", "start": 17822.638, "duration": 5.922}, {"text": "and the miter attack framework", "start": 17825.2, "duration": 5.04}, {"text": "attack id", "start": 17828.56, "duration": 3.76}, {"text": "for this tactic", "start": 17830.24, "duration": 5.398}, {"text": "is ta00005", "start": 17832.32, "duration": 3.318}, {"text": "and mitre defines defense evasion as", "start": 17836.878, "duration": 5.282}, {"text": "techniques", "start": 17841.04, "duration": 4.48}, {"text": "that adversaries use to avoid detection", "start": 17842.16, "duration": 6.24}, {"text": "throughout their compromise", "start": 17845.52, "duration": 5.278}, {"text": "techniques used for defense evasion", "start": 17848.4, "duration": 4.8}, {"text": "include uninstalling", "start": 17850.798, "duration": 5.84}, {"text": "or disabling security software", "start": 17853.2, "duration": 5.598}, {"text": "or obfuscating", "start": 17856.638, "duration": 5.122}, {"text": "or encrypting data and scripts it also", "start": 17858.798, "duration": 4.402}, {"text": "goes on to", "start": 17861.76, "duration": 5.038}, {"text": "say adversaries also leverage and abuse", "start": 17863.2, "duration": 7.758}, {"text": "trusted processes to hide and masquerade", "start": 17866.798, "duration": 7.92}, {"text": "via malware it is no surprising that", "start": 17870.958, "duration": 5.84}, {"text": "most institutions", "start": 17874.718, "duration": 4.882}, {"text": "have defensive tools or procedures", "start": 17876.798, "duration": 5.682}, {"text": "in place to fight against adversaries", "start": 17879.6, "duration": 6.08}, {"text": "after we have seen an influx of what we", "start": 17882.48, "duration": 6.398}, {"text": "call the endpoint detection and response", "start": 17885.68, "duration": 6.48}, {"text": "solution edr some companies also", "start": 17888.878, "duration": 6.322}, {"text": "implement application whitelisting where", "start": 17892.16, "duration": 5.36}, {"text": "only certain applications are allowed to", "start": 17895.2, "duration": 5.2}, {"text": "be run under certain circumstances we", "start": 17897.52, "duration": 5.76}, {"text": "have also seen institutions building", "start": 17900.4, "duration": 4.88}, {"text": "threat hunting teams", "start": 17903.28, "duration": 5.2}, {"text": "implementing emet with the advent of", "start": 17905.28, "duration": 6.08}, {"text": "powershell version 5 and above we have", "start": 17908.48, "duration": 5.28}, {"text": "seen loss and loss of partial login", "start": 17911.36, "duration": 4.8}, {"text": "being implemented when it comes to", "start": 17913.76, "duration": 5.52}, {"text": "windows environment the implementation", "start": 17916.16, "duration": 5.6}, {"text": "of amsi", "start": 17919.28, "duration": 5.04}, {"text": "which has matured over", "start": 17921.76, "duration": 5.52}, {"text": "a period of time since it came out", "start": 17924.32, "duration": 4.96}, {"text": "so these are some of the control or", "start": 17927.28, "duration": 3.84}, {"text": "defensive mechanisms", "start": 17929.28, "duration": 4.32}, {"text": "we intend to see around", "start": 17931.12, "duration": 5.2}, {"text": "corporate environments as we perform any", "start": 17933.6, "duration": 3.84}, {"text": "offensive", "start": 17936.32, "duration": 4.0}, {"text": "operations now defense evasion is", "start": 17937.44, "duration": 5.84}, {"text": "essential where directing operators", "start": 17940.32, "duration": 6.24}, {"text": "would try to bypass any of these", "start": 17943.28, "duration": 5.438}, {"text": "controls that organizations have in", "start": 17946.56, "duration": 4.0}, {"text": "place to be able to", "start": 17948.718, "duration": 4.08}, {"text": "carry out our attacks", "start": 17950.56, "duration": 4.56}, {"text": "sometimes it may not be necessary to", "start": 17952.798, "duration": 4.482}, {"text": "bypass any of these controls", "start": 17955.12, "duration": 4.48}, {"text": "other times it may be", "start": 17957.28, "duration": 4.4}, {"text": "so you have to always go in with the", "start": 17959.6, "duration": 4.48}, {"text": "assumption that you are going to face", "start": 17961.68, "duration": 4.64}, {"text": "some of these mechanisms", "start": 17964.08, "duration": 5.28}, {"text": "and you must be ready to find ways to", "start": 17966.32, "duration": 4.24}, {"text": "bypass", "start": 17969.36, "duration": 4.16}, {"text": "abuse or evade them the techniques and", "start": 17970.56, "duration": 4.88}, {"text": "approach you would use on engagement", "start": 17973.52, "duration": 4.72}, {"text": "will depend on many factors with that", "start": 17975.44, "duration": 5.04}, {"text": "said we know that we're going to have", "start": 17978.24, "duration": 4.558}, {"text": "different environments you know per each", "start": 17980.48, "duration": 4.398}, {"text": "operation we have to build a test", "start": 17982.798, "duration": 5.442}, {"text": "environment which is going to mimic", "start": 17984.878, "duration": 5.362}, {"text": "each environment we expect to find", "start": 17988.24, "duration": 3.36}, {"text": "ourselves in", "start": 17990.24, "duration": 3.76}, {"text": "and sometimes that can be", "start": 17991.6, "duration": 4.56}, {"text": "a big of a problem that we have to", "start": 17994.0, "duration": 4.16}, {"text": "always rebuild new", "start": 17996.16, "duration": 4.16}, {"text": "environments to mimic", "start": 17998.16, "duration": 3.76}, {"text": "our next target", "start": 18000.32, "duration": 4.0}, {"text": "so that is why sometimes when we develop", "start": 18001.92, "duration": 5.28}, {"text": "payloads there are some online", "start": 18004.32, "duration": 6.08}, {"text": "platforms where we can use those to our", "start": 18007.2, "duration": 4.0}, {"text": "aid", "start": 18010.4, "duration": 1.84}, {"text": "to", "start": 18011.2, "duration": 3.84}, {"text": "check our payloads and see how", "start": 18012.24, "duration": 5.28}, {"text": "other antivirus software would have", "start": 18015.04, "duration": 4.4}, {"text": "caught our payloads", "start": 18017.52, "duration": 4.32}, {"text": "two of them are virus total", "start": 18019.44, "duration": 4.56}, {"text": "and anti-scan", "start": 18021.84, "duration": 4.798}, {"text": "the downside with virus total", "start": 18024.0, "duration": 5.2}, {"text": "is the fact that once you upload your um", "start": 18026.638, "duration": 4.08}, {"text": "your payload", "start": 18029.2, "duration": 2.8}, {"text": "they would normally distribute it", "start": 18030.718, "duration": 5.442}, {"text": "against all the other antivirus software", "start": 18032.0, "duration": 5.36}, {"text": "platforms", "start": 18036.16, "duration": 3.84}, {"text": "so they may end up adding that to their", "start": 18037.36, "duration": 5.598}, {"text": "signature the downside with anti-scan is", "start": 18040.0, "duration": 4.48}, {"text": "it doesn't have", "start": 18042.958, "duration": 4.402}, {"text": "an extensive list of antivirus software", "start": 18044.48, "duration": 5.36}, {"text": "compared to what virustotal is", "start": 18047.36, "duration": 4.64}, {"text": "the good side of that is it does not", "start": 18049.84, "duration": 5.118}, {"text": "submit your payloads to the antivirus", "start": 18052.0, "duration": 5.28}, {"text": "companies one thing that i would like us", "start": 18054.958, "duration": 4.242}, {"text": "to take a note is", "start": 18057.28, "duration": 4.56}, {"text": "most defensive techniques become", "start": 18059.2, "duration": 4.32}, {"text": "obsolete", "start": 18061.84, "duration": 4.08}, {"text": "eventually or very quite often", "start": 18063.52, "duration": 4.4}, {"text": "and the reason why that happens is", "start": 18065.92, "duration": 3.038}, {"text": "because", "start": 18067.92, "duration": 3.2}, {"text": "by the time most of these offensive", "start": 18068.958, "duration": 5.84}, {"text": "security trainings come out the", "start": 18071.12, "duration": 6.96}, {"text": "vendors who provide the defensive", "start": 18074.798, "duration": 7.282}, {"text": "capabilities such as edr or avs", "start": 18078.08, "duration": 5.92}, {"text": "are continuously", "start": 18082.08, "duration": 5.76}, {"text": "updating their tools and capabilities to", "start": 18084.0, "duration": 5.28}, {"text": "catch or", "start": 18087.84, "duration": 3.6}, {"text": "circumvent these defense evasion", "start": 18089.28, "duration": 3.2}, {"text": "techniques", "start": 18091.44, "duration": 3.12}, {"text": "so most of the time", "start": 18092.48, "duration": 5.44}, {"text": "even if defense evasion is embedded into", "start": 18094.56, "duration": 4.8}, {"text": "any course", "start": 18097.92, "duration": 3.038}, {"text": "the technique which is taught in that", "start": 18099.36, "duration": 3.518}, {"text": "class most likely is going to be", "start": 18100.958, "duration": 3.76}, {"text": "obsolete by the time you take it or by", "start": 18102.878, "duration": 4.642}, {"text": "the time you decide to replay such in a", "start": 18104.718, "duration": 4.722}, {"text": "particular technique", "start": 18107.52, "duration": 4.48}, {"text": "so that is why we are not necessarily", "start": 18109.44, "duration": 6.0}, {"text": "going to focus more on on evasion tools", "start": 18112.0, "duration": 5.84}, {"text": "per se but i will just cover some of the", "start": 18115.44, "duration": 5.278}, {"text": "overall strategies or techniques that we", "start": 18117.84, "duration": 6.0}, {"text": "can use in performing or executing any", "start": 18120.718, "duration": 7.202}, {"text": "evasion an example that i will use to", "start": 18123.84, "duration": 6.32}, {"text": "give you clarity when it comes to", "start": 18127.92, "duration": 5.44}, {"text": "defense evasion strategy on one of my", "start": 18130.16, "duration": 5.92}, {"text": "operations as i was going through", "start": 18133.36, "duration": 5.438}, {"text": "network propagation phase um i came", "start": 18136.08, "duration": 4.878}, {"text": "across a situation whereby i had to", "start": 18138.798, "duration": 3.282}, {"text": "execute", "start": 18140.958, "duration": 2.882}, {"text": "token manipulation", "start": 18142.08, "duration": 2.798}, {"text": "and", "start": 18143.84, "duration": 2.64}, {"text": "there are there are truths out there", "start": 18144.878, "duration": 3.362}, {"text": "which makes your life a lot easier when", "start": 18146.48, "duration": 3.84}, {"text": "it comes to token manipulation one of", "start": 18148.24, "duration": 4.0}, {"text": "them is a powershell script called", "start": 18150.32, "duration": 5.52}, {"text": "invoke um token manipulation so as i was", "start": 18152.24, "duration": 5.92}, {"text": "trying to execute this", "start": 18155.84, "duration": 4.958}, {"text": "uh you know attack using this script", "start": 18158.16, "duration": 6.638}, {"text": "i kept being caught by the edr solution", "start": 18160.798, "duration": 6.08}, {"text": "that a client had in place", "start": 18164.798, "duration": 4.0}, {"text": "now these are solutions", "start": 18166.878, "duration": 2.802}, {"text": "which", "start": 18168.798, "duration": 3.122}, {"text": "one of their selling point is they're", "start": 18169.68, "duration": 5.92}, {"text": "using artificial intelligence to be able", "start": 18171.92, "duration": 7.12}, {"text": "to detect and block attacks", "start": 18175.6, "duration": 5.44}, {"text": "or lateral movement techniques", "start": 18179.04, "duration": 4.56}, {"text": "so as and when i was being caught i went", "start": 18181.04, "duration": 5.2}, {"text": "into the partial script and made some", "start": 18183.6, "duration": 5.358}, {"text": "changes within the partial script", "start": 18186.24, "duration": 4.96}, {"text": "especially change some of the functions", "start": 18188.958, "duration": 4.562}, {"text": "name in a powershell script", "start": 18191.2, "duration": 4.64}, {"text": "to see if that will be able to bypass", "start": 18193.52, "duration": 3.6}, {"text": "such a tool", "start": 18195.84, "duration": 3.44}, {"text": "and one thing that i did was", "start": 18197.12, "duration": 4.16}, {"text": "well there was a function within the", "start": 18199.28, "duration": 5.438}, {"text": "script called invoke token manipulation", "start": 18201.28, "duration": 6.16}, {"text": "so i changed every instance or every", "start": 18204.718, "duration": 6.08}, {"text": "reference of invoke token manipulation", "start": 18207.44, "duration": 6.4}, {"text": "to just invoke cm", "start": 18210.798, "duration": 6.242}, {"text": "and that alone was able to bypass this", "start": 18213.84, "duration": 4.0}, {"text": "tool", "start": 18217.04, "duration": 3.52}, {"text": "to be able to run invoke token", "start": 18217.84, "duration": 4.72}, {"text": "manipulation to be able to escalate my", "start": 18220.56, "duration": 4.96}, {"text": "privilege to that of a system level the", "start": 18222.56, "duration": 5.44}, {"text": "point i'm making here is", "start": 18225.52, "duration": 5.358}, {"text": "most of these tools the general approach", "start": 18228.0, "duration": 5.92}, {"text": "is you understanding how these defensive", "start": 18230.878, "duration": 4.242}, {"text": "tools work", "start": 18233.92, "duration": 3.52}, {"text": "and what is triggering", "start": 18235.12, "duration": 3.28}, {"text": "your", "start": 18237.44, "duration": 4.16}, {"text": "attack to the tools so that you can make", "start": 18238.4, "duration": 5.84}, {"text": "the necessary adjustment to bypass them", "start": 18241.6, "duration": 4.96}, {"text": "now this same technique that i just", "start": 18244.24, "duration": 4.96}, {"text": "explained to you if i was to apply the", "start": 18246.56, "duration": 5.28}, {"text": "same technique again today that is not", "start": 18249.2, "duration": 3.84}, {"text": "going to work", "start": 18251.84, "duration": 4.16}, {"text": "because at that moment that evasion", "start": 18253.04, "duration": 4.24}, {"text": "worked for me", "start": 18256.0, "duration": 4.08}, {"text": "but i can guarantee you that the vendor", "start": 18257.28, "duration": 5.04}, {"text": "has now been able to identify that", "start": 18260.08, "duration": 4.718}, {"text": "particular evasion and fix that", "start": 18262.32, "duration": 3.84}, {"text": "nevertheless", "start": 18264.798, "duration": 3.202}, {"text": "let's take a quick look at some of the", "start": 18266.16, "duration": 4.08}, {"text": "general evasion techniques", "start": 18268.0, "duration": 4.878}, {"text": "and strategies we can use when it comes", "start": 18270.24, "duration": 3.44}, {"text": "to", "start": 18272.878, "duration": 3.202}, {"text": "defense evasion um of course we're not", "start": 18273.68, "duration": 5.118}, {"text": "going to forget obfuscation because it", "start": 18276.08, "duration": 4.0}, {"text": "will still be", "start": 18278.798, "duration": 4.08}, {"text": "important for us to find a way to maybe", "start": 18280.08, "duration": 5.6}, {"text": "obfuscate some of our payload and it may", "start": 18282.878, "duration": 4.402}, {"text": "work or may not work under some", "start": 18285.68, "duration": 2.958}, {"text": "circumstances", "start": 18287.28, "duration": 4.64}, {"text": "living overland binaries or low bands", "start": 18288.638, "duration": 6.722}, {"text": "are some built-in utilities from both", "start": 18291.92, "duration": 6.64}, {"text": "windows and linux that we can use to", "start": 18295.36, "duration": 5.84}, {"text": "bypass some defenses", "start": 18298.56, "duration": 3.92}, {"text": "we can also", "start": 18301.2, "duration": 2.96}, {"text": "encrypt our payloads", "start": 18302.48, "duration": 4.238}, {"text": "we can also use shortcuts which we have", "start": 18304.16, "duration": 7.36}, {"text": "done in one of our demos as part of our", "start": 18306.718, "duration": 6.722}, {"text": "persistence technique", "start": 18311.52, "duration": 4.32}, {"text": "and another thing that we can also do is", "start": 18313.44, "duration": 4.72}, {"text": "if we have time we can build our own or", "start": 18315.84, "duration": 4.798}, {"text": "customize our own tools", "start": 18318.16, "duration": 4.0}, {"text": "so if you recall", "start": 18320.638, "duration": 3.922}, {"text": "during the beginning of the course and", "start": 18322.16, "duration": 4.08}, {"text": "when we're going through the miter", "start": 18324.56, "duration": 4.48}, {"text": "attack framework i did bring up the fact", "start": 18326.24, "duration": 4.478}, {"text": "that there are some techniques or", "start": 18329.04, "duration": 4.48}, {"text": "tactics that are applicable", "start": 18330.718, "duration": 5.442}, {"text": "across some of these phases", "start": 18333.52, "duration": 5.118}, {"text": "for instance the shortcut is also", "start": 18336.16, "duration": 4.718}, {"text": "classified as persistence and is also", "start": 18338.638, "duration": 4.802}, {"text": "classified as defense evasion", "start": 18340.878, "duration": 6.08}, {"text": "i'm set uid and ev sudo abuser even", "start": 18343.44, "duration": 5.438}, {"text": "though they were classified as", "start": 18346.958, "duration": 3.282}, {"text": "escalation", "start": 18348.878, "duration": 4.482}, {"text": "they also fall under defense evasion", "start": 18350.24, "duration": 3.92}, {"text": "so", "start": 18353.36, "duration": 2.32}, {"text": "most of the", "start": 18354.16, "duration": 3.52}, {"text": "techniques that would have carried out", "start": 18355.68, "duration": 4.48}, {"text": "as part of defense evasion", "start": 18357.68, "duration": 4.0}, {"text": "we have actually done some of them", "start": 18360.16, "duration": 4.08}, {"text": "already so that is going to limit this", "start": 18361.68, "duration": 4.64}, {"text": "phase to only a couple", "start": 18364.24, "duration": 4.478}, {"text": "of defense evasion that", "start": 18366.32, "duration": 5.36}, {"text": "we may not see a lot in a while because", "start": 18368.718, "duration": 4.962}, {"text": "when we speak to people about defense", "start": 18371.68, "duration": 3.038}, {"text": "evasion", "start": 18373.68, "duration": 4.88}, {"text": "we are mostly looking into bypassing", "start": 18374.718, "duration": 5.522}, {"text": "antiviral software", "start": 18378.56, "duration": 4.96}, {"text": "or edr solutions and we forget about", "start": 18380.24, "duration": 6.16}, {"text": "some other aspect of defense evasion", "start": 18383.52, "duration": 5.6}, {"text": "such as hiding our payload or hiding", "start": 18386.4, "duration": 4.88}, {"text": "stuff so we're going to look into demo", "start": 18389.12, "duration": 4.8}, {"text": "on some areas of defense evasion that", "start": 18391.28, "duration": 5.28}, {"text": "you don't see most often in some", "start": 18393.92, "duration": 5.2}, {"text": "training or courses event logs", "start": 18396.56, "duration": 4.0}, {"text": "manipulation", "start": 18399.12, "duration": 4.72}, {"text": "is a technique that can be used under", "start": 18400.56, "duration": 6.72}, {"text": "defense evasion and the miter attack", "start": 18403.84, "duration": 4.48}, {"text": "framework", "start": 18407.28, "duration": 4.24}, {"text": "attack id for this technique", "start": 18408.32, "duration": 6.6}, {"text": "is t1070.001", "start": 18411.52, "duration": 3.4}, {"text": "now to restrict the amount of data that", "start": 18417.92, "duration": 5.038}, {"text": "can be used for detection", "start": 18420.48, "duration": 4.0}, {"text": "and audits", "start": 18422.958, "duration": 4.962}, {"text": "an adversary may disable windows event", "start": 18424.48, "duration": 5.76}, {"text": "logs and the reason that is true is", "start": 18427.92, "duration": 5.12}, {"text": "because any login attempts process", "start": 18430.24, "duration": 6.558}, {"text": "development user or even device behavior", "start": 18433.04, "duration": 6.64}, {"text": "are all logged or recorded within the", "start": 18436.798, "duration": 4.722}, {"text": "windows event logs", "start": 18439.68, "duration": 4.24}, {"text": "so we know that event laws provide more", "start": 18441.52, "duration": 3.52}, {"text": "evidence", "start": 18443.92, "duration": 3.28}, {"text": "for forensic analysts", "start": 18445.04, "duration": 3.2}, {"text": "as such", "start": 18447.2, "duration": 3.36}, {"text": "is one of the locations where", "start": 18448.24, "duration": 4.96}, {"text": "an apt or an adversary", "start": 18450.56, "duration": 5.2}, {"text": "may look to delete their recorded", "start": 18453.2, "duration": 4.24}, {"text": "activities", "start": 18455.76, "duration": 3.92}, {"text": "so on a windows machine", "start": 18457.44, "duration": 6.32}, {"text": "we can get to the event logs", "start": 18459.68, "duration": 7.038}, {"text": "through the event viewer", "start": 18463.76, "duration": 3.68}, {"text": "to", "start": 18466.718, "duration": 3.042}, {"text": "look at the various blocks that are", "start": 18467.44, "duration": 5.6}, {"text": "being recorded on this machine", "start": 18469.76, "duration": 4.958}, {"text": "most importantly", "start": 18473.04, "duration": 4.64}, {"text": "we can look at the windows logs here", "start": 18474.718, "duration": 5.122}, {"text": "and then expand on that", "start": 18477.68, "duration": 4.88}, {"text": "so we have several locations", "start": 18479.84, "duration": 5.118}, {"text": "where logs are being kept", "start": 18482.56, "duration": 4.88}, {"text": "you can see we have them here and also", "start": 18484.958, "duration": 4.722}, {"text": "listed on the left side here", "start": 18487.44, "duration": 4.96}, {"text": "and as you can see we have over", "start": 18489.68, "duration": 6.88}, {"text": "40 000 events for the application", "start": 18492.4, "duration": 7.12}, {"text": "we have zero for security", "start": 18496.56, "duration": 6.56}, {"text": "we have 63 for system i'm set up and", "start": 18499.52, "duration": 5.76}, {"text": "then we have system for", "start": 18503.12, "duration": 5.758}, {"text": "over 7 000 event logs and no forwarded", "start": 18505.28, "duration": 6.4}, {"text": "events one thing that we have to", "start": 18508.878, "duration": 5.602}, {"text": "understand is as we click through each", "start": 18511.68, "duration": 6.4}, {"text": "one of these we can see more details of", "start": 18514.48, "duration": 8.238}, {"text": "each event being expanded down here", "start": 18518.08, "duration": 4.638}, {"text": "if we click on security", "start": 18522.878, "duration": 5.042}, {"text": "we'll get this arrow right here because", "start": 18525.2, "duration": 5.92}, {"text": "the security event logs require", "start": 18527.92, "duration": 5.68}, {"text": "an administrative privilege to be able", "start": 18531.12, "duration": 3.598}, {"text": "to see", "start": 18533.6, "duration": 2.16}, {"text": "all the", "start": 18534.718, "duration": 3.842}, {"text": "security related events", "start": 18535.76, "duration": 4.958}, {"text": "there are a couple of ways that we can", "start": 18538.56, "duration": 5.76}, {"text": "clear event logs from a command line we", "start": 18540.718, "duration": 5.522}, {"text": "can use a powershell", "start": 18544.32, "duration": 3.6}, {"text": "to do that", "start": 18546.24, "duration": 5.68}, {"text": "or we can use another windows utility", "start": 18547.92, "duration": 6.48}, {"text": "called wev", "start": 18551.92, "duration": 3.52}, {"text": "t", "start": 18554.4, "duration": 2.96}, {"text": "util like that", "start": 18555.44, "duration": 3.92}, {"text": "so let's say if we want to clear the", "start": 18557.36, "duration": 3.2}, {"text": "security", "start": 18559.36, "duration": 2.56}, {"text": "event logs", "start": 18560.56, "duration": 3.84}, {"text": "we can use this command", "start": 18561.92, "duration": 5.12}, {"text": "to clear that now i'm running the", "start": 18564.4, "duration": 5.6}, {"text": "command line from administrative", "start": 18567.04, "duration": 4.0}, {"text": "context", "start": 18570.0, "duration": 2.958}, {"text": "so if we go", "start": 18571.04, "duration": 3.918}, {"text": "back and then we try to clear let's say", "start": 18572.958, "duration": 5.362}, {"text": "the application logs", "start": 18574.958, "duration": 3.362}, {"text": "let me try the power shell command", "start": 18578.56, "duration": 8.398}, {"text": "so try clear event log dash", "start": 18583.12, "duration": 6.4}, {"text": "log name as an option", "start": 18586.958, "duration": 5.602}, {"text": "and we are going to specify", "start": 18589.52, "duration": 4.24}, {"text": "let's say", "start": 18592.56, "duration": 2.318}, {"text": "system", "start": 18593.76, "duration": 4.32}, {"text": "so once that is done let's go back and", "start": 18594.878, "duration": 5.282}, {"text": "refresh this page", "start": 18598.08, "duration": 5.6}, {"text": "the system is now down to just one event", "start": 18600.16, "duration": 5.92}, {"text": "and this event is of course related to", "start": 18603.68, "duration": 3.198}, {"text": "just", "start": 18606.08, "duration": 3.28}, {"text": "what we just typed what is clearing that", "start": 18606.878, "duration": 4.802}, {"text": "particular event so it's going to record", "start": 18609.36, "duration": 3.598}, {"text": "our last", "start": 18611.68, "duration": 4.4}, {"text": "if you look it says log clear so it", "start": 18612.958, "duration": 4.802}, {"text": "would always record", "start": 18616.08, "duration": 3.76}, {"text": "the last command that we run to clear", "start": 18617.76, "duration": 3.6}, {"text": "the event logs", "start": 18619.84, "duration": 4.958}, {"text": "hiding files is also another", "start": 18621.36, "duration": 6.0}, {"text": "defense evasion technique", "start": 18624.798, "duration": 5.282}, {"text": "and the miter attack framework", "start": 18627.36, "duration": 4.56}, {"text": "attack id", "start": 18630.08, "duration": 3.6}, {"text": "for this technique", "start": 18631.92, "duration": 5.0}, {"text": "is t1564", "start": 18633.68, "duration": 3.24}, {"text": "now most os implement hidden file", "start": 18638.56, "duration": 4.96}, {"text": "concept", "start": 18642.4, "duration": 3.92}, {"text": "to prevent normal users", "start": 18643.52, "duration": 5.76}, {"text": "from accidentally changing special files", "start": 18646.32, "duration": 4.16}, {"text": "on a system", "start": 18649.28, "duration": 3.92}, {"text": "files in a hidden state normally don't", "start": 18650.48, "duration": 5.52}, {"text": "show up when a user browses the file", "start": 18653.2, "duration": 6.56}, {"text": "system with a gui or when using normal", "start": 18656.0, "duration": 6.0}, {"text": "commands on a command line so", "start": 18659.76, "duration": 3.6}, {"text": "adversaries", "start": 18662.0, "duration": 4.16}, {"text": "can use this to the advantage to hide", "start": 18663.36, "duration": 4.08}, {"text": "files", "start": 18666.16, "duration": 4.24}, {"text": "and folders anywhere on a system", "start": 18667.44, "duration": 5.438}, {"text": "to evade detection so for instance let's", "start": 18670.4, "duration": 4.238}, {"text": "say an attacker", "start": 18672.878, "duration": 4.402}, {"text": "breaks into a system and they have a", "start": 18674.638, "duration": 4.402}, {"text": "particular payload", "start": 18677.28, "duration": 3.84}, {"text": "or a particular file that they want to", "start": 18679.04, "duration": 5.28}, {"text": "hide from the regular user they can hide", "start": 18681.12, "duration": 5.518}, {"text": "these files using some built-in", "start": 18684.32, "duration": 5.76}, {"text": "utilities within either windows machine", "start": 18686.638, "duration": 6.16}, {"text": "or linux machine to accomplish that so", "start": 18690.08, "duration": 5.92}, {"text": "let's demonstrate how we can carry out", "start": 18692.798, "duration": 6.322}, {"text": "a technique to hide a file which could", "start": 18696.0, "duration": 5.6}, {"text": "be our malicious file", "start": 18699.12, "duration": 5.28}, {"text": "so i'll use echo", "start": 18701.6, "duration": 7.84}, {"text": "and save that into test dot txt", "start": 18704.4, "duration": 7.28}, {"text": "and if we type", "start": 18709.44, "duration": 4.16}, {"text": "test.txt", "start": 18711.68, "duration": 4.16}, {"text": "to show the content we should have it", "start": 18713.6, "duration": 3.198}, {"text": "here", "start": 18715.84, "duration": 3.84}, {"text": "let's list a directory to ensure that we", "start": 18716.798, "duration": 4.16}, {"text": "have", "start": 18719.68, "duration": 2.8}, {"text": "the test", "start": 18720.958, "duration": 4.242}, {"text": "dot txt here", "start": 18722.48, "duration": 5.12}, {"text": "we are now going to use what we call the", "start": 18725.2, "duration": 3.678}, {"text": "attrib", "start": 18727.6, "duration": 2.56}, {"text": "utility", "start": 18728.878, "duration": 4.162}, {"text": "to hide the test.txt", "start": 18730.16, "duration": 4.24}, {"text": "file", "start": 18733.04, "duration": 4.88}, {"text": "so we type a t t r i b", "start": 18734.4, "duration": 4.64}, {"text": "like that", "start": 18737.92, "duration": 5.44}, {"text": "and then use the plus h to hide it", "start": 18739.04, "duration": 6.56}, {"text": "so we type test", "start": 18743.36, "duration": 3.68}, {"text": "like this", "start": 18745.6, "duration": 4.24}, {"text": "and hit enter", "start": 18747.04, "duration": 2.8}, {"text": "so now if we try to list a directory", "start": 18750.48, "duration": 4.56}, {"text": "we don't see", "start": 18756.16, "duration": 4.08}, {"text": "our test", "start": 18758.24, "duration": 4.558}, {"text": "dot txt anywhere here", "start": 18760.24, "duration": 4.24}, {"text": "it's now being hidden", "start": 18762.798, "duration": 4.402}, {"text": "if we want to reveal", "start": 18764.48, "duration": 4.478}, {"text": "this file", "start": 18767.2, "duration": 4.08}, {"text": "we can just do dir", "start": 18768.958, "duration": 4.162}, {"text": "for slash a", "start": 18771.28, "duration": 4.08}, {"text": "column h", "start": 18773.12, "duration": 4.24}, {"text": "this stands for", "start": 18775.36, "duration": 3.278}, {"text": "attribute", "start": 18777.36, "duration": 4.56}, {"text": "hidden the a is for attribute", "start": 18778.638, "duration": 6.24}, {"text": "and then the h is for hidden", "start": 18781.92, "duration": 3.84}, {"text": "so", "start": 18784.878, "duration": 4.08}, {"text": "we want it to show us all the files that", "start": 18785.76, "duration": 6.32}, {"text": "are hidden and once we hit enter", "start": 18788.958, "duration": 5.442}, {"text": "you can see that we even have more than", "start": 18792.08, "duration": 4.878}, {"text": "what we had asked for because there are", "start": 18794.4, "duration": 4.478}, {"text": "additional files here", "start": 18796.958, "duration": 5.042}, {"text": "which are hidden and they were not", "start": 18798.878, "duration": 7.362}, {"text": "shown being shown to us including", "start": 18802.0, "duration": 8.4}, {"text": "our file which is hiding here", "start": 18806.24, "duration": 5.92}, {"text": "within windows", "start": 18810.4, "duration": 5.44}, {"text": "we are most likely going to encounter", "start": 18812.16, "duration": 5.84}, {"text": "amsi", "start": 18815.84, "duration": 5.2}, {"text": "as such we need to find a way to bypass", "start": 18818.0, "duration": 3.84}, {"text": "that", "start": 18821.04, "duration": 1.838}, {"text": "so", "start": 18821.84, "duration": 3.68}, {"text": "am si or", "start": 18822.878, "duration": 6.0}, {"text": "anti malware scan interface", "start": 18825.52, "duration": 7.04}, {"text": "is a set of windows apis that allows any", "start": 18828.878, "duration": 5.282}, {"text": "application", "start": 18832.56, "duration": 3.64}, {"text": "to work with", "start": 18834.16, "duration": 4.32}, {"text": "anti-virus software", "start": 18836.2, "duration": 4.678}, {"text": "what happens behind the scenes when you", "start": 18838.48, "duration": 4.478}, {"text": "run an application is", "start": 18840.878, "duration": 3.602}, {"text": "essentially", "start": 18842.958, "duration": 5.442}, {"text": "the amsi acts as intermediary or a", "start": 18844.48, "duration": 6.398}, {"text": "bridge between an application", "start": 18848.4, "duration": 4.8}, {"text": "and an av engine", "start": 18850.878, "duration": 4.162}, {"text": "so let's say you run", "start": 18853.2, "duration": 3.438}, {"text": "a vb script", "start": 18855.04, "duration": 3.758}, {"text": "or a powershell script", "start": 18856.638, "duration": 4.32}, {"text": "what is going to happen is", "start": 18858.798, "duration": 4.802}, {"text": "once you run it it is going to get", "start": 18860.958, "duration": 3.84}, {"text": "hooked", "start": 18863.6, "duration": 4.0}, {"text": "by amsi", "start": 18864.798, "duration": 5.202}, {"text": "and then pass over to the antiviral", "start": 18867.6, "duration": 3.68}, {"text": "software", "start": 18870.0, "duration": 4.16}, {"text": "for a check before it's passed back to", "start": 18871.28, "duration": 4.32}, {"text": "the msi", "start": 18874.16, "duration": 4.88}, {"text": "for clearance to run the partial", "start": 18875.6, "duration": 4.32}, {"text": "two", "start": 18879.04, "duration": 3.2}, {"text": "so if the script", "start": 18879.92, "duration": 4.798}, {"text": "goes from amsi", "start": 18882.24, "duration": 4.718}, {"text": "and then hits the av", "start": 18884.718, "duration": 6.08}, {"text": "and it doesn't check out as clean script", "start": 18886.958, "duration": 4.882}, {"text": "then", "start": 18890.798, "duration": 4.0}, {"text": "the tool is denied from being run", "start": 18891.84, "duration": 5.038}, {"text": "two of the most well-known techniques", "start": 18894.798, "duration": 4.0}, {"text": "when it comes to bypasses", "start": 18896.878, "duration": 4.0}, {"text": "are obfuscation", "start": 18898.798, "duration": 5.682}, {"text": "and also memory patching", "start": 18900.878, "duration": 6.242}, {"text": "so what i have done is we are going to", "start": 18904.48, "duration": 5.68}, {"text": "walk through an example", "start": 18907.12, "duration": 4.56}, {"text": "of how", "start": 18910.16, "duration": 3.92}, {"text": "we can apply obfuscation", "start": 18911.68, "duration": 4.88}, {"text": "and that alone may not be", "start": 18914.08, "duration": 5.6}, {"text": "our only way to be able to run our two", "start": 18916.56, "duration": 5.68}, {"text": "but we may have to consult with an", "start": 18919.68, "duration": 6.0}, {"text": "actual memory passion bypass to get our", "start": 18922.24, "duration": 4.718}, {"text": "tool to work", "start": 18925.68, "duration": 3.038}, {"text": "successfully", "start": 18926.958, "duration": 4.882}, {"text": "so what you see here is actually", "start": 18928.718, "duration": 6.24}, {"text": "an invoke mimikaz script", "start": 18931.84, "duration": 6.32}, {"text": "which i have applied some obfuscation", "start": 18934.958, "duration": 5.76}, {"text": "to get it to work", "start": 18938.16, "duration": 4.558}, {"text": "so what i did was", "start": 18940.718, "duration": 6.322}, {"text": "i used the set tool on linux machine or", "start": 18942.718, "duration": 6.402}, {"text": "you can use any", "start": 18947.04, "duration": 3.918}, {"text": "command line utility", "start": 18949.12, "duration": 5.44}, {"text": "and i replace every instances of invoke", "start": 18950.958, "duration": 5.92}, {"text": "mimikat function", "start": 18954.56, "duration": 4.88}, {"text": "with the word fluffy", "start": 18956.878, "duration": 4.322}, {"text": "so if you can see", "start": 18959.44, "duration": 3.84}, {"text": "this is fluffy and this used to be", "start": 18961.2, "duration": 4.88}, {"text": "called invoke mimikatz", "start": 18963.28, "duration": 7.04}, {"text": "i also removed all instances of comments", "start": 18966.08, "duration": 6.96}, {"text": "in the invoke memcat script", "start": 18970.32, "duration": 6.88}, {"text": "i removed all indented comments as well", "start": 18973.04, "duration": 6.96}, {"text": "and replaced every instance of dump", "start": 18977.2, "duration": 6.16}, {"text": "crates parameter with just fluffy this", "start": 18980.0, "duration": 6.958}, {"text": "used to be called dump crates", "start": 18983.36, "duration": 5.278}, {"text": "these could have even be replaced as", "start": 18986.958, "duration": 2.962}, {"text": "well", "start": 18988.638, "duration": 3.522}, {"text": "but you're getting the drift here", "start": 18989.92, "duration": 4.878}, {"text": "i also replaced other arguments that", "start": 18992.16, "duration": 4.32}, {"text": "could have been picked or are most", "start": 18994.798, "duration": 4.322}, {"text": "likely picked by antiviral software or", "start": 18996.48, "duration": 4.72}, {"text": "amsi", "start": 18999.12, "duration": 6.0}, {"text": "i also replaced some dll call instances", "start": 19001.2, "duration": 7.12}, {"text": "and when 32 functions as well", "start": 19005.12, "duration": 4.32}, {"text": "so", "start": 19008.32, "duration": 3.68}, {"text": "if you go through this you see that i", "start": 19009.44, "duration": 6.4}, {"text": "have cleaned out a bit more than your", "start": 19012.0, "duration": 8.16}, {"text": "typical invoke minicast would look like", "start": 19015.84, "duration": 6.878}, {"text": "the next thing that i also did was", "start": 19020.16, "duration": 6.558}, {"text": "i generated a base64 of the newer", "start": 19022.718, "duration": 6.962}, {"text": "version of mimikatz.exe", "start": 19026.718, "duration": 5.602}, {"text": "and then place that within the", "start": 19029.68, "duration": 5.038}, {"text": "pe by 64", "start": 19032.32, "duration": 3.84}, {"text": "variable", "start": 19034.718, "duration": 4.24}, {"text": "in this script", "start": 19036.16, "duration": 7.2}, {"text": "the last obfuscation is isc steroids", "start": 19038.958, "duration": 8.562}, {"text": "module within powershell so if i was to", "start": 19043.36, "duration": 5.04}, {"text": "type", "start": 19047.52, "duration": 2.32}, {"text": "this stock", "start": 19048.4, "duration": 4.558}, {"text": "this is how you apply obfuscation", "start": 19049.84, "duration": 7.6}, {"text": "using the isc steroids this doesn't come", "start": 19052.958, "duration": 5.602}, {"text": "default", "start": 19057.44, "duration": 3.438}, {"text": "within powershell so you have to", "start": 19058.56, "duration": 3.68}, {"text": "download that", "start": 19060.878, "duration": 3.76}, {"text": "and then install it to get it to work", "start": 19062.24, "duration": 5.28}, {"text": "and what would do is it would apply", "start": 19064.638, "duration": 6.482}, {"text": "some obfuscation to your script to", "start": 19067.52, "duration": 6.56}, {"text": "remove some indication which would allow", "start": 19071.12, "duration": 5.598}, {"text": "some tools to detect some of your script", "start": 19074.08, "duration": 3.44}, {"text": "so", "start": 19076.718, "duration": 4.0}, {"text": "with this amount of obfuscation", "start": 19077.52, "duration": 6.48}, {"text": "that i had applied to the invoke", "start": 19080.718, "duration": 5.042}, {"text": "mimikatz", "start": 19084.0, "duration": 3.84}, {"text": "let's go ahead", "start": 19085.76, "duration": 4.08}, {"text": "and try to", "start": 19087.84, "duration": 3.2}, {"text": "run", "start": 19089.84, "duration": 6.16}, {"text": "this particular one and see if it works", "start": 19091.04, "duration": 7.52}, {"text": "even though i had applied so many", "start": 19096.0, "duration": 4.24}, {"text": "obfuscation", "start": 19098.56, "duration": 2.8}, {"text": "i still", "start": 19100.24, "duration": 4.0}, {"text": "got caught by the av", "start": 19101.36, "duration": 5.438}, {"text": "so now let's apply", "start": 19104.24, "duration": 4.24}, {"text": "another level", "start": 19106.798, "duration": 5.522}, {"text": "of bypassing this amsi there are so many", "start": 19108.48, "duration": 5.12}, {"text": "tools out", "start": 19112.32, "duration": 4.0}, {"text": "there that people have worked on a lot", "start": 19113.6, "duration": 6.48}, {"text": "to find a way to bypass msi", "start": 19116.32, "duration": 7.36}, {"text": "and some of them still work others do", "start": 19120.08, "duration": 4.48}, {"text": "not", "start": 19123.68, "duration": 3.92}, {"text": "so you have to do more digging", "start": 19124.56, "duration": 5.12}, {"text": "to be able to find out which one that", "start": 19127.6, "duration": 4.08}, {"text": "works", "start": 19129.68, "duration": 4.0}, {"text": "so one thing that we have found is when", "start": 19131.68, "duration": 4.958}, {"text": "it comes to msi bypass", "start": 19133.68, "duration": 6.16}, {"text": "some of the tools or scripts use what we", "start": 19136.638, "duration": 6.16}, {"text": "call the ad i mean the ad type", "start": 19139.84, "duration": 5.28}, {"text": "now when the ad type is used", "start": 19142.798, "duration": 4.802}, {"text": "the code gets written", "start": 19145.12, "duration": 5.598}, {"text": "to a file and then the", "start": 19147.6, "duration": 5.198}, {"text": "csc.exe", "start": 19150.718, "duration": 4.16}, {"text": "tool is used to compile", "start": 19152.798, "duration": 5.202}, {"text": "the binary which stays on disk", "start": 19154.878, "duration": 6.402}, {"text": "for offensive security that is not upset", "start": 19158.0, "duration": 5.84}, {"text": "because we want to", "start": 19161.28, "duration": 5.76}, {"text": "make sure that we try not to touch disk", "start": 19163.84, "duration": 5.68}, {"text": "so the better option is being able to", "start": 19167.04, "duration": 6.48}, {"text": "apply reflection to access win32 apis so", "start": 19169.52, "duration": 6.72}, {"text": "with reflection no files are written on", "start": 19173.52, "duration": 5.358}, {"text": "disk or any calls to", "start": 19176.24, "duration": 4.24}, {"text": "csc", "start": 19178.878, "duration": 3.92}, {"text": "to compile the script", "start": 19180.48, "duration": 4.398}, {"text": "and that is why this particular script", "start": 19182.798, "duration": 5.042}, {"text": "works better when it comes to", "start": 19184.878, "duration": 4.402}, {"text": "evading", "start": 19187.84, "duration": 5.038}, {"text": "or bypassing amsi", "start": 19189.28, "duration": 5.92}, {"text": "so i found this one to be the one that", "start": 19192.878, "duration": 5.442}, {"text": "actually works in bypassing amsi", "start": 19195.2, "duration": 5.12}, {"text": "and this one can be found", "start": 19198.32, "duration": 3.52}, {"text": "on github", "start": 19200.32, "duration": 4.558}, {"text": "so this will run fully in memory", "start": 19201.84, "duration": 6.08}, {"text": "without touching disk and we can run", "start": 19204.878, "duration": 6.402}, {"text": "our invoke mimicas and try and see if we", "start": 19207.92, "duration": 6.08}, {"text": "did actually bypass msi", "start": 19211.28, "duration": 7.12}, {"text": "so i am going to import msi bypass dot", "start": 19214.0, "duration": 7.6}, {"text": "ps1 and now that i have the", "start": 19218.4, "duration": 6.0}, {"text": "bypass run now let's try", "start": 19221.6, "duration": 4.8}, {"text": "and import my", "start": 19224.4, "duration": 4.0}, {"text": "invoke mimikaz version", "start": 19226.4, "duration": 4.72}, {"text": "and attempt to run it this time", "start": 19228.4, "duration": 5.36}, {"text": "so if i run just the fluffy we have", "start": 19231.12, "duration": 5.518}, {"text": "successfully bypassed amsi", "start": 19233.76, "duration": 5.6}, {"text": "and now we can run all of our mimikaz", "start": 19236.638, "duration": 5.122}, {"text": "command", "start": 19239.36, "duration": 2.4}, {"text": "so", "start": 19250.718, "duration": 6.402}, {"text": "this worked for us and we are able to", "start": 19253.04, "duration": 5.28}, {"text": "get", "start": 19257.12, "duration": 7.16}, {"text": "the nt lm hash for the user install", "start": 19258.32, "duration": 5.96}, {"text": "and other credentials on this box", "start": 19266.48, "duration": 8.12}, {"text": "bypassing amsi", "start": 19270.48, "duration": 4.12}, {"text": "what we have to understand is the topic", "start": 19288.558, "duration": 5.202}, {"text": "on bypassing amsi", "start": 19291.36, "duration": 6.24}, {"text": "is extensive more often we see people", "start": 19293.76, "duration": 5.76}, {"text": "deploying tools", "start": 19297.6, "duration": 4.958}, {"text": "or techniques on how to bypass msi", "start": 19299.52, "duration": 5.358}, {"text": "but at the same time as and when these", "start": 19302.558, "duration": 4.0}, {"text": "techniques are being discovered", "start": 19304.878, "duration": 4.882}, {"text": "microsoft is going to keep on trying to", "start": 19306.558, "duration": 7.282}, {"text": "better the amsi solution to also catch", "start": 19309.76, "duration": 7.52}, {"text": "some of these evasion techniques", "start": 19313.84, "duration": 6.32}, {"text": "our next tactic under the network", "start": 19317.28, "duration": 4.4}, {"text": "propagation", "start": 19320.16, "duration": 4.32}, {"text": "is credential access", "start": 19321.68, "duration": 6.32}, {"text": "and the miter attack framework id", "start": 19324.48, "duration": 9.158}, {"text": "associated with this tactic is ta00006", "start": 19328.0, "duration": 5.638}, {"text": "and from minor attacks definition", "start": 19335.36, "duration": 6.8}, {"text": "credential access consists of techniques", "start": 19338.878, "duration": 6.242}, {"text": "for stealing credentials such as user", "start": 19342.16, "duration": 5.2}, {"text": "names and passwords", "start": 19345.12, "duration": 4.56}, {"text": "and for anyone who has been doing red", "start": 19347.36, "duration": 4.72}, {"text": "team operations or any", "start": 19349.68, "duration": 4.72}, {"text": "offensive activities", "start": 19352.08, "duration": 6.4}, {"text": "we know that credentials are very very", "start": 19354.4, "duration": 7.04}, {"text": "important when it comes to carrying out", "start": 19358.48, "duration": 5.92}, {"text": "any offensive operations", "start": 19361.44, "duration": 5.84}, {"text": "so let us take a look at", "start": 19364.4, "duration": 5.28}, {"text": "what happens at this phase of our", "start": 19367.28, "duration": 3.598}, {"text": "operation", "start": 19369.68, "duration": 3.76}, {"text": "essentially what we're doing right now", "start": 19370.878, "duration": 5.282}, {"text": "is after we have done all these previous", "start": 19373.44, "duration": 6.0}, {"text": "activities trying to move around we", "start": 19376.16, "duration": 6.08}, {"text": "still may have the need", "start": 19379.44, "duration": 6.0}, {"text": "to get or obtain more credentials to be", "start": 19382.24, "duration": 6.478}, {"text": "able to move around within the network", "start": 19385.44, "duration": 5.438}, {"text": "so it is no surprising", "start": 19388.718, "duration": 5.042}, {"text": "sometimes that getting one credential", "start": 19390.878, "duration": 4.722}, {"text": "might give you access to the entire", "start": 19393.76, "duration": 4.16}, {"text": "domain and maybe compromise domain", "start": 19395.6, "duration": 5.6}, {"text": "controller or achieve the objective", "start": 19397.92, "duration": 5.92}, {"text": "otherwise moving around and looking for", "start": 19401.2, "duration": 5.438}, {"text": "more credentials seems to be one of the", "start": 19403.84, "duration": 4.878}, {"text": "many ways that can aid us in", "start": 19406.638, "duration": 5.522}, {"text": "accomplishing our goal we have a general", "start": 19408.718, "duration": 5.682}, {"text": "approach that we can take for looking", "start": 19412.16, "duration": 4.478}, {"text": "for credentials some of them could be", "start": 19414.4, "duration": 4.72}, {"text": "just files which may contain credentials", "start": 19416.638, "duration": 6.722}, {"text": "such as onattend dot xml syspref config", "start": 19419.12, "duration": 7.12}, {"text": "files these are files which most sys", "start": 19423.36, "duration": 6.0}, {"text": "admins would most likely have some", "start": 19426.24, "duration": 6.16}, {"text": "credentials saved in them to automate", "start": 19429.36, "duration": 6.16}, {"text": "some activities we may also pull some", "start": 19432.4, "duration": 5.52}, {"text": "credentials from the password managers", "start": 19435.52, "duration": 4.48}, {"text": "uh the password vault", "start": 19437.92, "duration": 5.28}, {"text": "we may also do network traffic sniffing", "start": 19440.0, "duration": 5.52}, {"text": "or even pull some password from memory", "start": 19443.2, "duration": 5.12}, {"text": "which might end up touching the lsas so", "start": 19445.52, "duration": 5.038}, {"text": "these are all some of the places that we", "start": 19448.32, "duration": 4.238}, {"text": "can look for when it comes to", "start": 19450.558, "duration": 5.762}, {"text": "dumping credentials the first attack", "start": 19452.558, "duration": 6.482}, {"text": "technique we're going to look at is curb", "start": 19456.32, "duration": 6.08}, {"text": "roasting this has been out for a minute", "start": 19459.04, "duration": 7.758}, {"text": "and the mitre attack framework is ti", "start": 19462.4, "duration": 7.398}, {"text": "558.003", "start": 19466.798, "duration": 3.0}, {"text": "now this has been out since 2014 which", "start": 19470.24, "duration": 5.84}, {"text": "was presented by tim midden and", "start": 19473.6, "duration": 6.24}, {"text": "essentially any domain authenticated", "start": 19476.08, "duration": 5.68}, {"text": "user or principal", "start": 19479.84, "duration": 6.4}, {"text": "can request a tgs ticket for a kerberos", "start": 19481.76, "duration": 7.36}, {"text": "service in the domain and if you recall", "start": 19486.24, "duration": 5.28}, {"text": "we went through a step-by-step process", "start": 19489.12, "duration": 6.0}, {"text": "in how kerberos authentication works so", "start": 19491.52, "duration": 6.08}, {"text": "we talked about the first step is the", "start": 19495.12, "duration": 5.36}, {"text": "tgt request which would the user will", "start": 19497.6, "duration": 5.84}, {"text": "present the username and password to", "start": 19500.48, "duration": 5.12}, {"text": "request a tgt", "start": 19503.44, "duration": 5.278}, {"text": "ticket and then the kdc will provide a", "start": 19505.6, "duration": 5.44}, {"text": "user with a tgt", "start": 19508.718, "duration": 4.962}, {"text": "plus a session key as a second step the", "start": 19511.04, "duration": 5.8}, {"text": "third step is when the user presents a", "start": 19513.68, "duration": 7.36}, {"text": "tgt and then request a tgs and this is", "start": 19516.84, "duration": 6.36}, {"text": "where we can abuse", "start": 19521.04, "duration": 5.04}, {"text": "this particular chain of events because", "start": 19523.2, "duration": 5.358}, {"text": "what would happen is that particular", "start": 19526.08, "duration": 6.16}, {"text": "service the user is requesting tgs for", "start": 19528.558, "duration": 7.122}, {"text": "would have to sign the tgs with its", "start": 19532.24, "duration": 6.318}, {"text": "accounts password hash and then we can", "start": 19535.68, "duration": 4.8}, {"text": "capture that and then try to crack it", "start": 19538.558, "duration": 4.562}, {"text": "offline now of course to get this to", "start": 19540.48, "duration": 5.28}, {"text": "work we have to have certain things in", "start": 19543.12, "duration": 5.12}, {"text": "place or what i call the ingredients one", "start": 19545.76, "duration": 5.36}, {"text": "of them is the service principle name", "start": 19548.24, "duration": 4.96}, {"text": "essentially every kerberos", "start": 19551.12, "duration": 5.838}, {"text": "authentication uses what we call spns to", "start": 19553.2, "duration": 7.2}, {"text": "link or associate a service instance", "start": 19556.958, "duration": 5.92}, {"text": "with a service logon account so for", "start": 19560.4, "duration": 5.6}, {"text": "instance a service instance of let's say", "start": 19562.878, "duration": 7.282}, {"text": "http may have iis admin as a login", "start": 19566.0, "duration": 6.958}, {"text": "service account so when we're requesting", "start": 19570.16, "duration": 5.52}, {"text": "an http service what is going to happen", "start": 19572.958, "duration": 6.322}, {"text": "is the iis admin account will sign that", "start": 19575.68, "duration": 7.52}, {"text": "tgs with its password and then we can", "start": 19579.28, "duration": 5.678}, {"text": "have that and then try to crack it", "start": 19583.2, "duration": 5.518}, {"text": "offline so let's jump into the demo and", "start": 19584.958, "duration": 7.202}, {"text": "let's see how we can execute kerberos in", "start": 19588.718, "duration": 5.202}, {"text": "attack and then be able to extract", "start": 19592.16, "duration": 3.84}, {"text": "password hashes and then crack it", "start": 19593.92, "duration": 3.52}, {"text": "offline", "start": 19596.0, "duration": 3.36}, {"text": "okay so", "start": 19597.44, "duration": 5.278}, {"text": "we can either request tickets from", "start": 19599.36, "duration": 8.08}, {"text": "memory remotely or on a machine locally", "start": 19602.718, "duration": 6.802}, {"text": "in this case i'm just using the in", "start": 19607.44, "duration": 3.278}, {"text": "packets", "start": 19609.52, "duration": 6.16}, {"text": "get user spn's script to request", "start": 19610.718, "duration": 8.402}, {"text": "that ticket from the domain controller", "start": 19615.68, "duration": 6.878}, {"text": "and we specifying the user and mandela", "start": 19619.12, "duration": 6.4}, {"text": "who is just a regular user and then", "start": 19622.558, "duration": 6.32}, {"text": "saving that into this output", "start": 19625.52, "duration": 6.72}, {"text": "this tells us that this user", "start": 19628.878, "duration": 7.442}, {"text": "service logon has an existing spn which", "start": 19632.24, "duration": 6.398}, {"text": "is this one right here", "start": 19636.32, "duration": 6.238}, {"text": "display the content and that should have", "start": 19638.638, "duration": 4.882}, {"text": "the", "start": 19642.558, "duration": 5.602}, {"text": "hashed password of the user z", "start": 19643.52, "duration": 8.72}, {"text": "zulu because that is the logon account", "start": 19648.16, "duration": 7.2}, {"text": "which is associated with the spn that we", "start": 19652.24, "duration": 4.638}, {"text": "have shown", "start": 19655.36, "duration": 4.32}, {"text": "so now that we have this what we can do", "start": 19656.878, "duration": 5.202}, {"text": "is we're going to try and then crack", "start": 19659.68, "duration": 5.6}, {"text": "this password offline and then if we are", "start": 19662.08, "duration": 4.478}, {"text": "successful", "start": 19665.28, "duration": 4.4}, {"text": "then we may be able to use that probably", "start": 19666.558, "duration": 6.16}, {"text": "if this user has any privilege anywhere", "start": 19669.68, "duration": 5.36}, {"text": "on a network we might be able to use", "start": 19672.718, "duration": 4.16}, {"text": "that to gain access", "start": 19675.04, "duration": 5.12}, {"text": "we can use this hashcat command", "start": 19676.878, "duration": 6.402}, {"text": "to try to crack the password now i've", "start": 19680.16, "duration": 5.92}, {"text": "taken the liberty to just create a quick", "start": 19683.28, "duration": 5.92}, {"text": "small password list for demonstration", "start": 19686.08, "duration": 6.24}, {"text": "purposes of course on a row engagement", "start": 19689.2, "duration": 5.2}, {"text": "you are going to have to get your own", "start": 19692.32, "duration": 3.44}, {"text": "password list", "start": 19694.4, "duration": 3.76}, {"text": "and the success of you being able to", "start": 19695.76, "duration": 5.36}, {"text": "crack these password hashes will depend", "start": 19698.16, "duration": 6.88}, {"text": "on many factors including the word list", "start": 19701.12, "duration": 6.4}, {"text": "you use so essentially this is the", "start": 19705.04, "duration": 6.48}, {"text": "hashcat command and the hash mode we are", "start": 19707.52, "duration": 8.48}, {"text": "using is one three one zero zero we're", "start": 19711.52, "duration": 6.4}, {"text": "providing the input", "start": 19716.0, "duration": 5.68}, {"text": "for the hash and then this is the", "start": 19717.92, "duration": 6.638}, {"text": "word list we're trying to crack with and", "start": 19721.68, "duration": 5.118}, {"text": "then once it has been cracked we wanted", "start": 19724.558, "duration": 4.0}, {"text": "to save it into", "start": 19726.798, "duration": 4.802}, {"text": "the curb.cracked", "start": 19728.558, "duration": 5.602}, {"text": "file so let's hit enter if you're", "start": 19731.6, "duration": 5.198}, {"text": "running your kali from within a virtual", "start": 19734.16, "duration": 3.68}, {"text": "machine", "start": 19736.798, "duration": 4.322}, {"text": "you might come across this arrow", "start": 19737.84, "duration": 6.718}, {"text": "we can just provide the dash dash force", "start": 19741.12, "duration": 8.4}, {"text": "to force this to override this error so", "start": 19744.558, "duration": 6.32}, {"text": "once", "start": 19749.52, "duration": 2.64}, {"text": "hashcat", "start": 19750.878, "duration": 3.442}, {"text": "is done with cracking", "start": 19752.16, "duration": 4.32}, {"text": "we should have this summary of the", "start": 19754.32, "duration": 4.72}, {"text": "performance and the most important", "start": 19756.48, "duration": 5.04}, {"text": "location we want to find is this one", "start": 19759.04, "duration": 6.0}, {"text": "right here which says recovered now on a", "start": 19761.52, "duration": 5.84}, {"text": "real engagement if you have more than", "start": 19765.04, "duration": 5.04}, {"text": "one hashes this is going to be the", "start": 19767.36, "duration": 5.438}, {"text": "number of hashes cracked over the total", "start": 19770.08, "duration": 5.92}, {"text": "hashes in my case we only had one hash", "start": 19772.798, "duration": 5.76}, {"text": "so we were able to crack only the one", "start": 19776.0, "duration": 6.48}, {"text": "over one so then if we try to", "start": 19778.558, "duration": 7.762}, {"text": "display the content of the curb dot", "start": 19782.48, "duration": 4.72}, {"text": "crack", "start": 19786.32, "duration": 4.16}, {"text": "we should have the password of the user", "start": 19787.2, "duration": 6.56}, {"text": "as zulu cracked once we have this user's", "start": 19790.48, "duration": 5.76}, {"text": "credentials cracked what we can do is we", "start": 19793.76, "duration": 5.52}, {"text": "can either spray this credential against", "start": 19796.24, "duration": 6.398}, {"text": "the network and then identify any system", "start": 19799.28, "duration": 5.678}, {"text": "on the network where this user may have", "start": 19802.638, "duration": 5.442}, {"text": "local admin on we can use a tool such as", "start": 19804.958, "duration": 8.0}, {"text": "crack map exec to do that for us so next", "start": 19808.08, "duration": 7.84}, {"text": "on our attack technique for", "start": 19812.958, "duration": 6.162}, {"text": "credential access or harvesting", "start": 19815.92, "duration": 5.68}, {"text": "is credential manager", "start": 19819.12, "duration": 3.838}, {"text": "and the", "start": 19821.6, "duration": 5.198}, {"text": "miter attack framework id number for", "start": 19822.958, "duration": 8.282}, {"text": "this attack is t1555.004", "start": 19826.798, "duration": 4.442}, {"text": "so", "start": 19833.76, "duration": 2.878}, {"text": "windows", "start": 19835.2, "duration": 3.92}, {"text": "operating system saves credentials in", "start": 19836.638, "duration": 3.92}, {"text": "many places", "start": 19839.12, "duration": 5.04}, {"text": "one of them is the credential manager", "start": 19840.558, "duration": 5.282}, {"text": "which serves as", "start": 19844.16, "duration": 3.52}, {"text": "a digital vault", "start": 19845.84, "duration": 3.038}, {"text": "where", "start": 19847.68, "duration": 3.36}, {"text": "credentials are saved so this", "start": 19848.878, "duration": 5.522}, {"text": "information is used on the local box", "start": 19851.04, "duration": 5.838}, {"text": "or it can also be used on other systems", "start": 19854.4, "duration": 5.2}, {"text": "on the network or external resources", "start": 19856.878, "duration": 4.322}, {"text": "such as website", "start": 19859.6, "duration": 3.278}, {"text": "so as you can see here on the screen", "start": 19861.2, "duration": 4.0}, {"text": "this is how the credential manager looks", "start": 19862.878, "duration": 5.042}, {"text": "like and uh you can see that we have two", "start": 19865.2, "duration": 4.96}, {"text": "locations we have the web credentials", "start": 19867.92, "duration": 4.24}, {"text": "and then we have the windows credentials", "start": 19870.16, "duration": 3.84}, {"text": "either one of them could be a place for", "start": 19872.16, "duration": 4.16}, {"text": "us as offensive operators", "start": 19874.0, "duration": 6.4}, {"text": "to retrieve credentials when it comes to", "start": 19876.32, "duration": 6.96}, {"text": "network propagation now if a user had", "start": 19880.4, "duration": 6.158}, {"text": "previously run commands such as run as", "start": 19883.28, "duration": 5.598}, {"text": "and things like that those credentials", "start": 19886.558, "duration": 5.442}, {"text": "are saved within this windows credential", "start": 19888.878, "duration": 5.602}, {"text": "manager it's broken down into windows", "start": 19892.0, "duration": 4.16}, {"text": "credentials", "start": 19894.48, "duration": 4.56}, {"text": "certificate bid credentials and generic", "start": 19896.16, "duration": 5.68}, {"text": "credentials either one of these could be", "start": 19899.04, "duration": 6.8}, {"text": "a potential place for us to hunt for", "start": 19901.84, "duration": 5.52}, {"text": "passwords", "start": 19905.84, "duration": 3.52}, {"text": "now one of the most easiest way that we", "start": 19907.36, "duration": 4.0}, {"text": "can use a built-in utility within", "start": 19909.36, "duration": 4.96}, {"text": "windows to check this out is", "start": 19911.36, "duration": 5.84}, {"text": "what we call the cmd key", "start": 19914.32, "duration": 5.12}, {"text": "so we can type in cmd", "start": 19917.2, "duration": 4.96}, {"text": "key and then forward slash list", "start": 19919.44, "duration": 6.48}, {"text": "that would dump all this list for us", "start": 19922.16, "duration": 5.68}, {"text": "from a command line if we don't have", "start": 19925.92, "duration": 5.76}, {"text": "access to a remote desktop so the ones", "start": 19927.84, "duration": 5.68}, {"text": "off which have", "start": 19931.68, "duration": 4.16}, {"text": "most interest to us would be the legacy", "start": 19933.52, "duration": 3.358}, {"text": "generic", "start": 19935.84, "duration": 3.52}, {"text": "target which is the killmonger in this", "start": 19936.878, "duration": 4.722}, {"text": "case this is the local machine we have", "start": 19939.36, "duration": 5.198}, {"text": "the domain target local admin", "start": 19941.6, "duration": 5.358}, {"text": "the domain password we have the install", "start": 19944.558, "duration": 4.32}, {"text": "and then we also have the", "start": 19946.958, "duration": 4.0}, {"text": "interactive", "start": 19948.878, "duration": 3.76}, {"text": "session", "start": 19950.958, "duration": 3.202}, {"text": "there are many ways that we can abuse", "start": 19952.638, "duration": 3.92}, {"text": "this functionality sometimes we can use", "start": 19954.16, "duration": 3.92}, {"text": "the run s", "start": 19956.558, "duration": 4.802}, {"text": "and there is an option to run with save", "start": 19958.08, "duration": 4.96}, {"text": "credentials", "start": 19961.36, "duration": 4.4}, {"text": "and when we provide that and provide the", "start": 19963.04, "duration": 5.518}, {"text": "name of the account that is not going to", "start": 19965.76, "duration": 4.798}, {"text": "prompt us for password", "start": 19968.558, "duration": 4.32}, {"text": "okay another way that we can also do", "start": 19970.558, "duration": 4.642}, {"text": "this the most easiest way is to use a", "start": 19972.878, "duration": 3.84}, {"text": "powershell script", "start": 19975.2, "duration": 4.8}, {"text": "to to extract all the password within", "start": 19976.718, "duration": 4.08}, {"text": "the", "start": 19980.0, "duration": 3.2}, {"text": "credential manager and one of the best", "start": 19980.798, "duration": 4.08}, {"text": "tools that i've seen out there is called", "start": 19983.2, "duration": 4.64}, {"text": "uh get creds man credits", "start": 19984.878, "duration": 3.84}, {"text": "and", "start": 19987.84, "duration": 2.64}, {"text": "once we have that", "start": 19988.718, "duration": 4.402}, {"text": "imported and then to get", "start": 19990.48, "duration": 5.52}, {"text": "or the password we can just type in cred", "start": 19993.12, "duration": 6.08}, {"text": "mantras and that would dump some of this", "start": 19996.0, "duration": 5.28}, {"text": "password for us so in this case we have", "start": 19999.2, "duration": 3.518}, {"text": "the username", "start": 20001.28, "duration": 3.04}, {"text": "is install", "start": 20002.718, "duration": 3.762}, {"text": "and then this is the password okay so if", "start": 20004.32, "duration": 5.04}, {"text": "we type hostname which should be the", "start": 20006.48, "duration": 6.0}, {"text": "kellmonger and if we do net local group", "start": 20009.36, "duration": 5.76}, {"text": "we can see that install is a member of", "start": 20012.48, "duration": 5.04}, {"text": "the local admin which can help us", "start": 20015.12, "duration": 4.48}, {"text": "elevate a privilege to that of a local", "start": 20017.52, "duration": 4.72}, {"text": "admin another way that we can also", "start": 20019.6, "duration": 4.958}, {"text": "obtain credentials this might be a", "start": 20022.24, "duration": 5.76}, {"text": "little bit intrusive is prompting the", "start": 20024.558, "duration": 4.4}, {"text": "user", "start": 20028.0, "duration": 1.84}, {"text": "to", "start": 20028.958, "duration": 4.402}, {"text": "provide their credentials the attack", "start": 20029.84, "duration": 6.08}, {"text": "technique for miter attack framework for", "start": 20033.36, "duration": 3.92}, {"text": "this particular", "start": 20035.92, "duration": 5.2}, {"text": "password prompt is going to be attack id", "start": 20037.28, "duration": 6.84}, {"text": "t1548.004", "start": 20041.12, "duration": 3.0}, {"text": "so there are several ways we can be", "start": 20044.798, "duration": 4.242}, {"text": "creative when it comes to collecting or", "start": 20046.638, "duration": 5.442}, {"text": "prompting users for credentials this is", "start": 20049.04, "duration": 5.2}, {"text": "one of those you know many ways that we", "start": 20052.08, "duration": 5.12}, {"text": "can do that so as you can see here we", "start": 20054.24, "duration": 5.28}, {"text": "are going to force from the user saying", "start": 20057.2, "duration": 4.24}, {"text": "that we have some sort of failed", "start": 20059.52, "duration": 3.358}, {"text": "authentication", "start": 20061.44, "duration": 3.278}, {"text": "and we're going to use the environment", "start": 20062.878, "duration": 4.322}, {"text": "variable and pull up the domain that", "start": 20064.718, "duration": 4.802}, {"text": "they're connected to right now and then", "start": 20067.2, "duration": 5.28}, {"text": "also pull in the current username and", "start": 20069.52, "duration": 5.84}, {"text": "then ask for the password the user is", "start": 20072.48, "duration": 4.64}, {"text": "going to have this prompt", "start": 20075.36, "duration": 3.438}, {"text": "and it's going to ask them for field", "start": 20077.12, "duration": 3.2}, {"text": "authentication", "start": 20078.798, "duration": 2.802}, {"text": "and then", "start": 20080.32, "duration": 4.0}, {"text": "they can put in their password", "start": 20081.6, "duration": 4.72}, {"text": "and once they do we should have a", "start": 20084.32, "duration": 4.478}, {"text": "password here in clear text another", "start": 20086.32, "duration": 4.72}, {"text": "creative way that we can also do is", "start": 20088.798, "duration": 4.0}, {"text": "instead of us", "start": 20091.04, "duration": 5.28}, {"text": "using the user's actual username we can", "start": 20092.798, "duration": 6.242}, {"text": "provide another user's name which will", "start": 20096.32, "duration": 4.318}, {"text": "be for instance this case an", "start": 20099.04, "duration": 4.32}, {"text": "administrator and then prompt for that", "start": 20100.638, "duration": 4.482}, {"text": "user's password", "start": 20103.36, "duration": 3.358}, {"text": "the same thing here", "start": 20105.12, "duration": 3.758}, {"text": "and we should have the password in our", "start": 20106.718, "duration": 3.202}, {"text": "terminal", "start": 20108.878, "duration": 3.122}, {"text": "now this particular technique comes with", "start": 20109.92, "duration": 3.038}, {"text": "its own", "start": 20112.0, "duration": 3.84}, {"text": "downside and the downside is the", "start": 20112.958, "duration": 5.84}, {"text": "credential is not really checked against", "start": 20115.84, "duration": 6.24}, {"text": "anything to confirm whether it's a valid", "start": 20118.798, "duration": 6.882}, {"text": "password or not so if we have a creative", "start": 20122.08, "duration": 4.558}, {"text": "user", "start": 20125.68, "duration": 4.24}, {"text": "who knows you know smell something fishy", "start": 20126.638, "duration": 5.602}, {"text": "they may provide any fake", "start": 20129.92, "duration": 6.638}, {"text": "password and that could throw us off so", "start": 20132.24, "duration": 6.96}, {"text": "again this might not be the safest way", "start": 20136.558, "duration": 5.042}, {"text": "to get credentials but there are some", "start": 20139.2, "duration": 5.2}, {"text": "instances that users will provide the", "start": 20141.6, "duration": 4.8}, {"text": "actual password and that is what we'll", "start": 20144.4, "duration": 4.8}, {"text": "take advantage of to collect such", "start": 20146.4, "duration": 3.92}, {"text": "password", "start": 20149.2, "duration": 4.48}, {"text": "the next one is just plain text password", "start": 20150.32, "duration": 5.68}, {"text": "there are several instances where i have", "start": 20153.68, "duration": 5.6}, {"text": "seen people saving their password in", "start": 20156.0, "duration": 4.878}, {"text": "text files", "start": 20159.28, "duration": 4.16}, {"text": "i was once on an operation", "start": 20160.878, "duration": 6.0}, {"text": "and the client had so much restrictions", "start": 20163.44, "duration": 6.24}, {"text": "on a password for the domain admins in", "start": 20166.878, "duration": 4.162}, {"text": "such a way that", "start": 20169.68, "duration": 3.44}, {"text": "um the domain path the domain admin", "start": 20171.04, "duration": 5.518}, {"text": "password was auto generated every 24", "start": 20173.12, "duration": 6.16}, {"text": "hours the length was", "start": 20176.558, "duration": 6.4}, {"text": "at least 20 characters so imagine that", "start": 20179.28, "duration": 7.92}, {"text": "you have 20 characters of a password and", "start": 20182.958, "duration": 8.242}, {"text": "also it is auto generated every 24 hours", "start": 20187.2, "duration": 6.96}, {"text": "who on earth is going to always remember", "start": 20191.2, "duration": 5.92}, {"text": "such a long password every 24 hours", "start": 20194.16, "duration": 5.68}, {"text": "right so the safest thing for the domain", "start": 20197.12, "duration": 5.518}, {"text": "admins was to save the password the", "start": 20199.84, "duration": 5.28}, {"text": "daily password in a text file on your", "start": 20202.638, "duration": 5.842}, {"text": "system so in this operation once we come", "start": 20205.12, "duration": 6.96}, {"text": "from my domain admins computer", "start": 20208.48, "duration": 6.238}, {"text": "we were able to find that password in", "start": 20212.08, "duration": 4.96}, {"text": "clear text on that machine so that we're", "start": 20214.718, "duration": 4.08}, {"text": "able to use that to compromise the", "start": 20217.04, "duration": 4.56}, {"text": "domain controller so that was one way", "start": 20218.798, "duration": 5.282}, {"text": "that we're able to obtain credentials", "start": 20221.6, "duration": 5.038}, {"text": "for the domain admin to compromise their", "start": 20224.08, "duration": 5.92}, {"text": "network and we are just going to save", "start": 20226.638, "duration": 6.24}, {"text": "every file within the c drive", "start": 20230.0, "duration": 4.0}, {"text": "for", "start": 20232.878, "duration": 3.84}, {"text": "all users", "start": 20234.0, "duration": 2.718}, {"text": "hit enter", "start": 20236.878, "duration": 4.722}, {"text": "all right so once the file is saved", "start": 20238.558, "duration": 5.762}, {"text": "let's take a quick look at", "start": 20241.6, "duration": 5.68}, {"text": "what we found and that was a lot okay", "start": 20244.32, "duration": 5.04}, {"text": "that's going to take a lot of time to go", "start": 20247.28, "duration": 4.24}, {"text": "through all of it so", "start": 20249.36, "duration": 5.04}, {"text": "with this we can", "start": 20251.52, "duration": 5.84}, {"text": "we can modify our search and then look", "start": 20254.4, "duration": 5.68}, {"text": "for specific streams so for instance we", "start": 20257.36, "duration": 5.518}, {"text": "can look for every instance of", "start": 20260.08, "duration": 6.0}, {"text": "a file that contains the text creates or", "start": 20262.878, "duration": 6.482}, {"text": "credentials or pass w or something like", "start": 20266.08, "duration": 5.6}, {"text": "that so in this case i'm going to use", "start": 20269.36, "duration": 4.08}, {"text": "type", "start": 20271.68, "duration": 4.4}, {"text": "and we are going to type it with find", "start": 20273.44, "duration": 5.04}, {"text": "string", "start": 20276.08, "duration": 2.4}, {"text": "and we're looking for anything that", "start": 20279.36, "duration": 4.08}, {"text": "contains", "start": 20281.76, "duration": 2.56}, {"text": "the", "start": 20283.44, "duration": 6.0}, {"text": "word past w to narrow down our search", "start": 20284.32, "duration": 7.44}, {"text": "so that was able to narrow down our", "start": 20289.44, "duration": 3.6}, {"text": "search to", "start": 20291.76, "duration": 4.08}, {"text": "only these three locations the first two", "start": 20293.04, "duration": 4.72}, {"text": "may not be of interest to us but the", "start": 20295.84, "duration": 3.038}, {"text": "third one", "start": 20297.76, "duration": 3.92}, {"text": "would most likely be something that we", "start": 20298.878, "duration": 5.68}, {"text": "might be interested in so we can do type", "start": 20301.68, "duration": 5.6}, {"text": "and the content says crest to the secret", "start": 20304.558, "duration": 4.08}, {"text": "cave and", "start": 20307.28, "duration": 3.358}, {"text": "it has the user", "start": 20308.638, "duration": 4.962}, {"text": "in mandela and the user's password in", "start": 20310.638, "duration": 4.16}, {"text": "that text", "start": 20313.6, "duration": 5.52}, {"text": "so this is one way that we can obtain", "start": 20314.798, "duration": 4.322}, {"text": "credentials on a compromise machine", "start": 20319.2, "duration": 4.64}, {"text": "another place that we can also find", "start": 20322.16, "duration": 4.478}, {"text": "credentials on a machine is on attend", "start": 20323.84, "duration": 5.52}, {"text": "file or any configuration file more", "start": 20326.638, "duration": 5.602}, {"text": "specifically the honor 10 file is a file", "start": 20329.36, "duration": 6.16}, {"text": "which contains information about", "start": 20332.24, "duration": 5.52}, {"text": "installation for default windows", "start": 20335.52, "duration": 4.4}, {"text": "operating system on a domain now the", "start": 20337.76, "duration": 4.958}, {"text": "reason why this becomes important is if", "start": 20339.92, "duration": 5.68}, {"text": "you are talking about let's say a domain", "start": 20342.718, "duration": 6.962}, {"text": "environment of maybe 10 machines then", "start": 20345.6, "duration": 5.76}, {"text": "the admin", "start": 20349.68, "duration": 3.92}, {"text": "most likely will be able to install", "start": 20351.36, "duration": 5.358}, {"text": "machines manually but if it comes to", "start": 20353.6, "duration": 6.32}, {"text": "let's say an environment of maybe 5 000", "start": 20356.718, "duration": 6.0}, {"text": "or 10 000 or even half a million where", "start": 20359.92, "duration": 5.12}, {"text": "an admin has to install", "start": 20362.718, "duration": 5.522}, {"text": "operating system on individual employees", "start": 20365.04, "duration": 4.4}, {"text": "when they", "start": 20368.24, "duration": 3.52}, {"text": "are employed that is going to be a lot", "start": 20369.44, "duration": 4.56}, {"text": "of work so the most easiest way to do", "start": 20371.76, "duration": 5.038}, {"text": "that is to do what we call an unattend", "start": 20374.0, "duration": 4.878}, {"text": "installation so the honor 10", "start": 20376.798, "duration": 3.522}, {"text": "installation would normally have the", "start": 20378.878, "duration": 4.242}, {"text": "necessary information that can expedite", "start": 20380.32, "duration": 6.638}, {"text": "or automate the process of signing up", "start": 20383.12, "duration": 6.16}, {"text": "image for employees as they are being", "start": 20386.958, "duration": 4.562}, {"text": "onboarded right that is where we can", "start": 20389.28, "duration": 4.08}, {"text": "take advantage of because that file", "start": 20391.52, "duration": 3.84}, {"text": "would normally contain credential for", "start": 20393.36, "duration": 5.04}, {"text": "the domain and for the admin to execute", "start": 20395.36, "duration": 6.0}, {"text": "other administrative functions as and", "start": 20398.4, "duration": 5.6}, {"text": "when the image is being prepared the", "start": 20401.36, "duration": 4.8}, {"text": "file can be located at", "start": 20404.0, "duration": 5.12}, {"text": "the windows panther and it's right here", "start": 20406.16, "duration": 4.798}, {"text": "called unattend what you have to be", "start": 20409.12, "duration": 4.96}, {"text": "aware of is this used to be a gold mine", "start": 20410.958, "duration": 6.162}, {"text": "for most of our pen testers but as and", "start": 20414.08, "duration": 6.478}, {"text": "when changes were made within the", "start": 20417.12, "duration": 5.598}, {"text": "windows os", "start": 20420.558, "duration": 4.962}, {"text": "the credential was redacted but you", "start": 20422.718, "duration": 5.122}, {"text": "never know you know once a while you", "start": 20425.52, "duration": 5.198}, {"text": "might come across an environment where", "start": 20427.84, "duration": 5.36}, {"text": "the owner tent may have password of an", "start": 20430.718, "duration": 6.722}, {"text": "admin in maybe um in a base64 encoded or", "start": 20433.2, "duration": 6.24}, {"text": "some sort of other encode which can", "start": 20437.44, "duration": 4.96}, {"text": "already we can always be retrieved so in", "start": 20439.44, "duration": 4.08}, {"text": "this case", "start": 20442.4, "duration": 3.36}, {"text": "this is where we're looking for right so", "start": 20443.52, "duration": 5.438}, {"text": "if you see we have a credential for the", "start": 20445.76, "duration": 6.08}, {"text": "admin the user admin and this looks like", "start": 20448.958, "duration": 4.722}, {"text": "some sort of a basic for encoder", "start": 20451.84, "duration": 4.08}, {"text": "password which we can take and then", "start": 20453.68, "duration": 4.32}, {"text": "decode it later on and then", "start": 20455.92, "duration": 4.878}, {"text": "get the actual password registry has", "start": 20458.0, "duration": 4.638}, {"text": "some locations where", "start": 20460.798, "duration": 4.402}, {"text": "passwords are normally saved one of my", "start": 20462.638, "duration": 4.16}, {"text": "favorite tools that i normally use for", "start": 20465.2, "duration": 5.518}, {"text": "that is session gother which can pull up", "start": 20466.798, "duration": 7.442}, {"text": "a whole lot of credentials for different", "start": 20470.718, "duration": 8.722}, {"text": "services such as win scp or party or rdp", "start": 20474.24, "duration": 6.08}, {"text": "session", "start": 20479.44, "duration": 3.6}, {"text": "so we have session gotham importer", "start": 20480.32, "duration": 6.638}, {"text": "and we can just type invoke", "start": 20483.04, "duration": 3.918}, {"text": "session author and we just want thorough", "start": 20487.12, "duration": 5.758}, {"text": "so it will look thoroughly for us", "start": 20489.76, "duration": 5.92}, {"text": "and we can already see that this user", "start": 20492.878, "duration": 4.962}, {"text": "had had a session", "start": 20495.68, "duration": 3.44}, {"text": "using win", "start": 20497.84, "duration": 3.2}, {"text": "scp", "start": 20499.12, "duration": 4.48}, {"text": "and connecting to this machine right", "start": 20501.04, "duration": 6.0}, {"text": "here the 10 or 20 the 30 the", "start": 20503.6, "duration": 6.958}, {"text": "14 through some sort of ssh session", "start": 20507.04, "duration": 5.44}, {"text": "so session gotha has", "start": 20510.558, "duration": 3.442}, {"text": "a lot of", "start": 20512.48, "duration": 3.68}, {"text": "services that it tries to pull their", "start": 20514.0, "duration": 3.76}, {"text": "session from", "start": 20516.16, "duration": 3.36}, {"text": "another place that we can also find", "start": 20517.76, "duration": 5.198}, {"text": "credentials is auto logins and there are", "start": 20519.52, "duration": 5.6}, {"text": "two specific locations within their", "start": 20522.958, "duration": 5.202}, {"text": "registry where we can dump some", "start": 20525.12, "duration": 6.24}, {"text": "credentials from for auto logins so to", "start": 20528.16, "duration": 5.28}, {"text": "automate the whole process for us when", "start": 20531.36, "duration": 5.358}, {"text": "it comes to auto log on we can use the", "start": 20533.44, "duration": 6.8}, {"text": "seat belt tool to automate it for us so", "start": 20536.718, "duration": 5.442}, {"text": "seatbelt comes with a whole bunch of", "start": 20540.24, "duration": 4.16}, {"text": "options which i would encourage you to", "start": 20542.16, "duration": 4.718}, {"text": "explore but to look for windows auto", "start": 20544.4, "duration": 4.8}, {"text": "logon we can use the seatbelt and then", "start": 20546.878, "duration": 4.962}, {"text": "windows auto logon and hit enter and if", "start": 20549.2, "duration": 4.96}, {"text": "there are any login credentials and", "start": 20551.84, "duration": 4.16}, {"text": "password it would actually show to us", "start": 20554.16, "duration": 2.718}, {"text": "here", "start": 20556.0, "duration": 3.68}, {"text": "for this one we have the user fluffy but", "start": 20556.878, "duration": 5.362}, {"text": "there's no logon credentials on auto", "start": 20559.68, "duration": 5.278}, {"text": "serving saving here another place where", "start": 20562.24, "duration": 6.08}, {"text": "we can extract credentials and it has", "start": 20564.958, "duration": 5.76}, {"text": "been abused so many times", "start": 20568.32, "duration": 4.238}, {"text": "as lsas", "start": 20570.718, "duration": 4.08}, {"text": "and attack id", "start": 20572.558, "duration": 5.882}, {"text": "is t1003.001", "start": 20574.798, "duration": 3.642}, {"text": "now um access credential materials are", "start": 20580.558, "duration": 6.562}, {"text": "normally stored in a process memory of", "start": 20584.0, "duration": 6.638}, {"text": "what we call the local security", "start": 20587.12, "duration": 6.48}, {"text": "authority subsystem", "start": 20590.638, "duration": 6.482}, {"text": "service the lsas to be short so", "start": 20593.6, "duration": 7.44}, {"text": "essentially what happens is after a user", "start": 20597.12, "duration": 6.4}, {"text": "logs on onto a system", "start": 20601.04, "duration": 5.44}, {"text": "that system generates and stores a", "start": 20603.52, "duration": 5.92}, {"text": "variety of credential materials within", "start": 20606.48, "duration": 6.56}, {"text": "the lsas process memory with", "start": 20609.44, "duration": 7.118}, {"text": "an administrative privilege or a system", "start": 20613.04, "duration": 7.04}, {"text": "privilege a user would be able to", "start": 20616.558, "duration": 7.042}, {"text": "extract this from in-memory and then be", "start": 20620.08, "duration": 6.638}, {"text": "able to use that to leverage further", "start": 20623.6, "duration": 4.16}, {"text": "attacks", "start": 20626.718, "duration": 3.762}, {"text": "i know mimikatz is the best when it", "start": 20627.76, "duration": 3.84}, {"text": "comes to", "start": 20630.48, "duration": 3.76}, {"text": "these credential harvesting but let's", "start": 20631.6, "duration": 5.24}, {"text": "try how we can also use", "start": 20634.24, "duration": 5.52}, {"text": "inbuilt windows", "start": 20636.84, "duration": 6.6}, {"text": "utility on how to actually dump lsas and", "start": 20639.76, "duration": 7.28}, {"text": "then use maybe mimikas offline to", "start": 20643.44, "duration": 6.56}, {"text": "automate our work for us", "start": 20647.04, "duration": 5.758}, {"text": "so let's find out first", "start": 20650.0, "duration": 4.718}, {"text": "the process id", "start": 20652.798, "duration": 4.322}, {"text": "of the lsas", "start": 20654.718, "duration": 6.482}, {"text": "and we can see that the process id is", "start": 20657.12, "duration": 5.838}, {"text": "760.", "start": 20661.2, "duration": 4.16}, {"text": "so now", "start": 20662.958, "duration": 4.322}, {"text": "let's", "start": 20665.36, "duration": 2.88}, {"text": "use", "start": 20667.28, "duration": 1.92}, {"text": "run", "start": 20668.24, "duration": 2.638}, {"text": "dll", "start": 20669.2, "duration": 4.64}, {"text": "and we're going to do a mini dump and", "start": 20670.878, "duration": 6.08}, {"text": "provide this id", "start": 20673.84, "duration": 5.118}, {"text": "and then save this", "start": 20676.958, "duration": 4.162}, {"text": "within let's say the temp folder and", "start": 20678.958, "duration": 5.042}, {"text": "that should save that for us so", "start": 20681.12, "duration": 5.36}, {"text": "if we go into", "start": 20684.0, "duration": 6.08}, {"text": "the temp folder and do ls we should have", "start": 20686.48, "duration": 6.0}, {"text": "this right here we can head over to", "start": 20690.08, "duration": 4.24}, {"text": "mimikatz", "start": 20692.48, "duration": 4.56}, {"text": "one of our favorite two when it comes to", "start": 20694.32, "duration": 4.398}, {"text": "dumping credentials", "start": 20697.04, "duration": 5.28}, {"text": "try to extract the credentials from this", "start": 20698.718, "duration": 6.0}, {"text": "file right here", "start": 20702.32, "duration": 5.76}, {"text": "let me provide this file hit enter and", "start": 20704.718, "duration": 6.642}, {"text": "that should switch it", "start": 20708.08, "duration": 3.28}, {"text": "okay", "start": 20711.76, "duration": 3.6}, {"text": "now we should be able to dump", "start": 20712.958, "duration": 6.0}, {"text": "these credentials from", "start": 20715.36, "duration": 3.598}, {"text": "this lsat", "start": 20719.04, "duration": 3.598}, {"text": "you have to understand that we're", "start": 20720.958, "duration": 4.242}, {"text": "running all these from a higher", "start": 20722.638, "duration": 4.802}, {"text": "privilege right", "start": 20725.2, "duration": 6.08}, {"text": "so that brings us", "start": 20727.44, "duration": 3.84}, {"text": "to", "start": 20731.92, "duration": 1.76}, {"text": "[Music]", "start": 20732.34, "duration": 3.34}, {"text": "the end of", "start": 20733.68, "duration": 4.72}, {"text": "our credential access", "start": 20735.68, "duration": 5.038}, {"text": "techniques", "start": 20738.4, "duration": 5.36}, {"text": "lateral movement is going to be the next", "start": 20740.718, "duration": 5.362}, {"text": "tactic we're going to be talking about", "start": 20743.76, "duration": 4.798}, {"text": "the id number for", "start": 20746.08, "duration": 4.4}, {"text": "lateral movement tactic", "start": 20748.558, "duration": 5.32}, {"text": "is ta00008", "start": 20750.48, "duration": 3.398}, {"text": "and", "start": 20754.08, "duration": 3.28}, {"text": "miter defines", "start": 20755.44, "duration": 4.88}, {"text": "lateral movement as techniques that", "start": 20757.36, "duration": 6.08}, {"text": "adversaries use to enter", "start": 20760.32, "duration": 6.72}, {"text": "and control remote systems on a network", "start": 20763.44, "duration": 5.518}, {"text": "what we are doing when it comes to", "start": 20767.04, "duration": 4.0}, {"text": "lateral movement is", "start": 20768.958, "duration": 4.082}, {"text": "most of the time once we have", "start": 20771.04, "duration": 3.2}, {"text": "accomplished", "start": 20773.04, "duration": 4.08}, {"text": "code execution and we've established", "start": 20774.24, "duration": 4.718}, {"text": "our foothold", "start": 20777.12, "duration": 4.4}, {"text": "the objective we may have or the", "start": 20778.958, "duration": 5.122}, {"text": "objectives for the operation", "start": 20781.52, "duration": 4.64}, {"text": "may not stop there", "start": 20784.08, "duration": 4.16}, {"text": "we may have to move around and", "start": 20786.16, "duration": 3.6}, {"text": "accomplish that", "start": 20788.24, "duration": 3.92}, {"text": "by gaining access to additional", "start": 20789.76, "duration": 5.44}, {"text": "resources or additional", "start": 20792.16, "duration": 6.16}, {"text": "network and lateral movement helps us to", "start": 20795.2, "duration": 7.2}, {"text": "achieve that because we have to possibly", "start": 20798.32, "duration": 6.638}, {"text": "jump from one system to another", "start": 20802.4, "duration": 5.04}, {"text": "from jump jumping from one account to", "start": 20804.958, "duration": 3.442}, {"text": "another", "start": 20807.44, "duration": 4.16}, {"text": "or jumping from one subnet to another to", "start": 20808.4, "duration": 4.558}, {"text": "be able to", "start": 20811.6, "duration": 2.4}, {"text": "achieve", "start": 20812.958, "duration": 2.802}, {"text": "our goals", "start": 20814.0, "duration": 3.84}, {"text": "or the objectives", "start": 20815.76, "duration": 4.08}, {"text": "some of the goals and objectives of", "start": 20817.84, "duration": 4.24}, {"text": "course would have to be defined before", "start": 20819.84, "duration": 4.56}, {"text": "the beginning of the operation", "start": 20822.08, "duration": 4.558}, {"text": "and that is covered under the scope of", "start": 20824.4, "duration": 4.558}, {"text": "the engagement", "start": 20826.638, "duration": 5.442}, {"text": "example operation objective we may have", "start": 20828.958, "duration": 5.84}, {"text": "inherited operations might be achieving", "start": 20832.08, "duration": 5.44}, {"text": "domain admin status", "start": 20834.798, "duration": 4.802}, {"text": "exfoliating data", "start": 20837.52, "duration": 4.56}, {"text": "compromising specific subnet", "start": 20839.6, "duration": 5.038}, {"text": "obtain specific data", "start": 20842.08, "duration": 4.878}, {"text": "so in one of my operations", "start": 20844.638, "duration": 5.122}, {"text": "one of the goal was a bit different", "start": 20846.958, "duration": 6.482}, {"text": "and the objective was us compromising a", "start": 20849.76, "duration": 6.878}, {"text": "specific subnet which was the suck", "start": 20853.44, "duration": 4.56}, {"text": "subnet", "start": 20856.638, "duration": 3.442}, {"text": "and the goal was once you have been able", "start": 20858.0, "duration": 4.958}, {"text": "to infiltrate such a subnet", "start": 20860.08, "duration": 5.84}, {"text": "our job was to identify", "start": 20862.958, "duration": 3.92}, {"text": "the", "start": 20865.92, "duration": 4.24}, {"text": "servers that splunk you know servers", "start": 20866.878, "duration": 4.242}, {"text": "were", "start": 20870.16, "duration": 3.84}, {"text": "data stored for any", "start": 20871.12, "duration": 6.96}, {"text": "reviews or analysis by blue teamers", "start": 20874.0, "duration": 6.4}, {"text": "and see if we can", "start": 20878.08, "duration": 6.0}, {"text": "do some work to delete our activities", "start": 20880.4, "duration": 5.12}, {"text": "on those", "start": 20884.08, "duration": 2.96}, {"text": "you know servers", "start": 20885.52, "duration": 5.6}, {"text": "so that was a very unique operation", "start": 20887.04, "duration": 6.8}, {"text": "the goal objective was a bit unique", "start": 20891.12, "duration": 3.518}, {"text": "right", "start": 20893.84, "duration": 3.038}, {"text": "sometimes you may have", "start": 20894.638, "duration": 4.642}, {"text": "an objective to extract credit card", "start": 20896.878, "duration": 3.68}, {"text": "information", "start": 20899.28, "duration": 2.64}, {"text": "phi", "start": 20900.558, "duration": 3.282}, {"text": "especially when it comes to healthcare", "start": 20901.92, "duration": 4.638}, {"text": "organization so these are some of the", "start": 20903.84, "duration": 5.118}, {"text": "objectives or the goals we may have to", "start": 20906.558, "duration": 3.522}, {"text": "achieve", "start": 20908.958, "duration": 3.76}, {"text": "and lateral movement would have to help", "start": 20910.08, "duration": 4.32}, {"text": "us in that way", "start": 20912.718, "duration": 3.762}, {"text": "now in a course of lateral movement we", "start": 20914.4, "duration": 3.68}, {"text": "also want to make sure that we are", "start": 20916.48, "duration": 4.88}, {"text": "blending in within the network so", "start": 20918.08, "duration": 5.92}, {"text": "typically we take advantage of services", "start": 20921.36, "duration": 6.0}, {"text": "such as smb the remote desktop protocol", "start": 20924.0, "duration": 8.878}, {"text": "rdp vnc ssh ftp wmic so these are the", "start": 20927.36, "duration": 7.84}, {"text": "protocols which you'll find most of the", "start": 20932.878, "duration": 5.282}, {"text": "time within active directory and we want", "start": 20935.2, "duration": 5.438}, {"text": "to use those in the course of our", "start": 20938.16, "duration": 4.638}, {"text": "lateral movement activities", "start": 20940.638, "duration": 4.24}, {"text": "some of the tools and techniques we may", "start": 20942.798, "duration": 4.962}, {"text": "use in the course of that could be ps", "start": 20944.878, "duration": 6.08}, {"text": "exec and also the entire suite of the", "start": 20947.76, "duration": 6.64}, {"text": "cis internals because these tools are", "start": 20950.958, "duration": 5.76}, {"text": "signed by microsoft all right so the", "start": 20954.4, "duration": 4.96}, {"text": "binaries are signed by microsoft so they", "start": 20956.718, "duration": 5.282}, {"text": "are not going to trigger any alert or av", "start": 20959.36, "duration": 4.72}, {"text": "alert on a network", "start": 20962.0, "duration": 6.08}, {"text": "we can also abuse what we call smb relay", "start": 20964.08, "duration": 7.92}, {"text": "we can take advantage of ll mnr nbt ns", "start": 20968.08, "duration": 7.2}, {"text": "poisoning relay and also one thing that", "start": 20972.0, "duration": 6.0}, {"text": "i have also seen in an engagement that", "start": 20975.28, "duration": 5.358}, {"text": "i've been successful in taking advantage", "start": 20978.0, "duration": 4.718}, {"text": "of when it comes to lateral movement is", "start": 20980.638, "duration": 4.722}, {"text": "abusing ipv6 protocol", "start": 20982.718, "duration": 4.962}, {"text": "now as most of you know", "start": 20985.36, "duration": 4.8}, {"text": "ipv4 is being used up right and of", "start": 20987.68, "duration": 4.958}, {"text": "course ipv6 has been out for a minute", "start": 20990.16, "duration": 5.2}, {"text": "but most organizations aren't", "start": 20992.638, "duration": 4.642}, {"text": "necessarily using it especially when it", "start": 20995.36, "duration": 5.198}, {"text": "comes to internal network most of modern", "start": 20997.28, "duration": 7.2}, {"text": "os's have ipv6 enabled by default and", "start": 21000.558, "duration": 6.16}, {"text": "most admins don't really pay attention", "start": 21004.48, "duration": 5.04}, {"text": "to so we can take advantage of that and", "start": 21006.718, "duration": 5.682}, {"text": "actually be able to abuse it to execute", "start": 21009.52, "duration": 5.68}, {"text": "some dns poisoning and then eventually", "start": 21012.4, "duration": 5.84}, {"text": "be able to escalate or move laterally", "start": 21015.2, "duration": 6.4}, {"text": "abusing ipv6 and want to use os built-in", "start": 21018.24, "duration": 5.92}, {"text": "utilities um living of the land binaries", "start": 21021.6, "duration": 4.48}, {"text": "which is something that we most likely", "start": 21024.16, "duration": 4.16}, {"text": "want to use when it comes to lateral", "start": 21026.08, "duration": 5.2}, {"text": "movement so let's jump into a couple of", "start": 21028.32, "duration": 6.16}, {"text": "demos when it comes to lateral movement", "start": 21031.28, "duration": 5.678}, {"text": "so to kick off the lateral movement", "start": 21034.48, "duration": 6.56}, {"text": "demos i would like us to touch base on", "start": 21036.958, "duration": 7.122}, {"text": "the bloodhound exercise we did", "start": 21041.04, "duration": 6.0}, {"text": "previously if you recall we did not", "start": 21044.08, "duration": 5.44}, {"text": "actually use the bloodhound to gather", "start": 21047.04, "duration": 3.678}, {"text": "any data", "start": 21049.52, "duration": 3.84}, {"text": "when we were when we did a setup and i", "start": 21050.718, "duration": 5.762}, {"text": "did that intentionally so that uh we'll", "start": 21053.36, "duration": 5.12}, {"text": "just have our time to work on it later", "start": 21056.48, "duration": 3.6}, {"text": "on along the line", "start": 21058.48, "duration": 4.64}, {"text": "so i went ahead and started running the", "start": 21060.08, "duration": 4.4}, {"text": "you know the shop", "start": 21063.12, "duration": 4.8}, {"text": "hound i mean to to get us some data on", "start": 21064.48, "duration": 4.88}, {"text": "the network", "start": 21067.92, "duration": 5.44}, {"text": "now the success of being able to gather", "start": 21069.36, "duration": 6.48}, {"text": "information or the success of using", "start": 21073.36, "duration": 5.598}, {"text": "bloodhound for lateral movement depends", "start": 21075.84, "duration": 7.118}, {"text": "on how much data you can collect so most", "start": 21078.958, "duration": 6.482}, {"text": "likely of course if you collect data for", "start": 21082.958, "duration": 5.202}, {"text": "maybe a span of five minutes", "start": 21085.44, "duration": 5.68}, {"text": "that may not give you enough information", "start": 21088.16, "duration": 4.718}, {"text": "compared to running it for maybe let's", "start": 21091.12, "duration": 4.64}, {"text": "say 15 minutes because again important", "start": 21092.878, "duration": 5.282}, {"text": "thing about using bloodhound is being", "start": 21095.76, "duration": 5.52}, {"text": "able to collect data a lot of them to be", "start": 21098.16, "duration": 5.36}, {"text": "able to make decision because the more", "start": 21101.28, "duration": 4.8}, {"text": "you can collect the more it can map out", "start": 21103.52, "duration": 5.92}, {"text": "attack for you so i went ahead and run", "start": 21106.08, "duration": 6.558}, {"text": "the sharp hound by there are several", "start": 21109.44, "duration": 4.88}, {"text": "methods for collection and if you can", "start": 21112.638, "duration": 2.802}, {"text": "see here", "start": 21114.32, "duration": 3.6}, {"text": "these are the options when it comes to", "start": 21115.44, "duration": 4.88}, {"text": "collection okay you can collect just for", "start": 21117.92, "duration": 3.28}, {"text": "group", "start": 21120.32, "duration": 4.238}, {"text": "for only sessions logged on trust", "start": 21121.2, "duration": 4.88}, {"text": "and other", "start": 21124.558, "duration": 4.24}, {"text": "methods that you want to collect or if", "start": 21126.08, "duration": 5.04}, {"text": "you want to collect everything you can", "start": 21128.798, "duration": 4.642}, {"text": "just specify just the all", "start": 21131.12, "duration": 4.4}, {"text": "and then it will just collect everything", "start": 21133.44, "duration": 5.68}, {"text": "for you we specify the method type by", "start": 21135.52, "duration": 7.278}, {"text": "using the switch dash c you can see that", "start": 21139.12, "duration": 6.72}, {"text": "i provided a loop here the loop here is", "start": 21142.798, "duration": 5.122}, {"text": "going to keep looping through and then", "start": 21145.84, "duration": 4.64}, {"text": "keep collecting more data as and when", "start": 21147.92, "duration": 4.878}, {"text": "they become available this is very", "start": 21150.48, "duration": 5.04}, {"text": "important because if you just run the", "start": 21152.798, "duration": 5.362}, {"text": "method with a dash ca", "start": 21155.52, "duration": 5.52}, {"text": "it will collect data for you though but", "start": 21158.16, "duration": 5.44}, {"text": "it may not collect enough for you it", "start": 21161.04, "duration": 5.12}, {"text": "will give it to you at a very specific", "start": 21163.6, "duration": 4.0}, {"text": "time point", "start": 21166.16, "duration": 3.36}, {"text": "let's take a quick look here this is the", "start": 21167.6, "duration": 3.198}, {"text": "first", "start": 21169.52, "duration": 4.56}, {"text": "one here the first compression side file", "start": 21170.798, "duration": 6.16}, {"text": "was this one here and then", "start": 21174.08, "duration": 5.12}, {"text": "waited for 30 seconds before starting", "start": 21176.958, "duration": 4.162}, {"text": "another loop so yes so it will keep", "start": 21179.2, "duration": 5.12}, {"text": "looping through every 30 seconds and the", "start": 21181.12, "duration": 5.678}, {"text": "more you let it run the better the", "start": 21184.32, "duration": 5.44}, {"text": "chance of getting more data to be able", "start": 21186.798, "duration": 5.442}, {"text": "to analyze and then be able to map out", "start": 21189.76, "duration": 6.08}, {"text": "attack every 30 seconds it is going to", "start": 21192.24, "duration": 6.398}, {"text": "dump data for us that we can work with", "start": 21195.84, "duration": 3.52}, {"text": "so", "start": 21198.638, "duration": 2.722}, {"text": "once you've run this for maybe i'll say", "start": 21199.36, "duration": 5.278}, {"text": "30 minutes or maybe 45 minutes to", "start": 21201.36, "duration": 5.04}, {"text": "whatever time you want again depending", "start": 21204.638, "duration": 4.482}, {"text": "on the size of the environment you can", "start": 21206.4, "duration": 5.36}, {"text": "kill it and then begin your analysis by", "start": 21209.12, "duration": 6.56}, {"text": "importing it into the bloodhound", "start": 21211.76, "duration": 5.52}, {"text": "dashboard", "start": 21215.68, "duration": 3.36}, {"text": "if you look this is the one with the", "start": 21217.28, "duration": 2.88}, {"text": "largest", "start": 21219.04, "duration": 2.24}, {"text": "input", "start": 21220.16, "duration": 3.6}, {"text": "and then it kept incrementing us and", "start": 21221.28, "duration": 4.48}, {"text": "when we", "start": 21223.76, "duration": 4.878}, {"text": "collected additional data okay so let's", "start": 21225.76, "duration": 5.28}, {"text": "begin by importing the first one which", "start": 21228.638, "duration": 5.682}, {"text": "ends with a 35", "start": 21231.04, "duration": 3.28}, {"text": "so we bring up bloodhound", "start": 21234.718, "duration": 6.322}, {"text": "and then we go to this site here", "start": 21237.92, "duration": 6.798}, {"text": "and we can upload data", "start": 21241.04, "duration": 6.16}, {"text": "and the data is going to be in a zip", "start": 21244.718, "duration": 4.482}, {"text": "file", "start": 21247.2, "duration": 4.4}, {"text": "so the one we want to upload is going to", "start": 21249.2, "duration": 4.4}, {"text": "be the 35 right here", "start": 21251.6, "duration": 4.88}, {"text": "so click open", "start": 21253.6, "duration": 2.88}, {"text": "and as you can see", "start": 21257.92, "duration": 3.44}, {"text": "it is going to upload things in the", "start": 21259.44, "duration": 3.04}, {"text": "groups", "start": 21261.36, "duration": 4.72}, {"text": "users gpus domains", "start": 21262.48, "duration": 7.28}, {"text": "and i think we completed", "start": 21266.08, "duration": 6.08}, {"text": "all right", "start": 21269.76, "duration": 2.4}, {"text": "now once we're done", "start": 21273.68, "duration": 4.878}, {"text": "we can come to this site", "start": 21275.44, "duration": 6.16}, {"text": "and take a look at what we have", "start": 21278.558, "duration": 6.24}, {"text": "and as you can see we have groups which", "start": 21281.6, "duration": 5.358}, {"text": "is 52 and 51", "start": 21284.798, "duration": 4.882}, {"text": "we have only one computer which is not", "start": 21286.958, "duration": 6.0}, {"text": "good and it only gave us zero users", "start": 21289.68, "duration": 5.92}, {"text": "right so that is not good at all", "start": 21292.958, "duration": 3.442}, {"text": "so", "start": 21295.6, "duration": 3.44}, {"text": "let's go back and then bring in the most", "start": 21296.4, "duration": 5.44}, {"text": "recent one", "start": 21299.04, "duration": 2.8}, {"text": "all right", "start": 21303.68, "duration": 2.4}, {"text": "as you can see", "start": 21306.798, "duration": 4.322}, {"text": "now we have more", "start": 21308.638, "duration": 3.602}, {"text": "users", "start": 21311.12, "duration": 3.758}, {"text": "we have one additional data", "start": 21312.24, "duration": 5.04}, {"text": "we have computers we have all us we have", "start": 21314.878, "duration": 4.802}, {"text": "gpos and then we have domains", "start": 21317.28, "duration": 4.88}, {"text": "so again like i said the more you can", "start": 21319.68, "duration": 4.4}, {"text": "collect the longer you can collect the", "start": 21322.16, "duration": 4.32}, {"text": "better if you realize the first one did", "start": 21324.08, "duration": 5.28}, {"text": "not give us much but as and when we kept", "start": 21326.48, "duration": 4.8}, {"text": "looping through and then collecting", "start": 21329.36, "duration": 4.16}, {"text": "we're getting more data if we go all the", "start": 21331.28, "duration": 5.04}, {"text": "way up here we can see we have some acls", "start": 21333.52, "duration": 6.0}, {"text": "here 400 over 400 acls", "start": 21336.32, "duration": 6.8}, {"text": "we have um relationships over 500 we", "start": 21339.52, "duration": 5.92}, {"text": "have sessions which i'm surprised there", "start": 21343.12, "duration": 3.28}, {"text": "aren't", "start": 21345.44, "duration": 3.68}, {"text": "any sessions but this is what we'll see", "start": 21346.4, "duration": 5.28}, {"text": "if there are any sessions on a network", "start": 21349.12, "duration": 5.28}, {"text": "on an actual environment you are going", "start": 21351.68, "duration": 5.52}, {"text": "to see a lot so then what we can do is", "start": 21354.4, "duration": 5.04}, {"text": "you can always come down here down to", "start": 21357.2, "duration": 5.12}, {"text": "the pathfinder", "start": 21359.44, "duration": 2.88}, {"text": "then we can start with a node so let's", "start": 21362.4, "duration": 4.88}, {"text": "say we have a user in mandela for", "start": 21364.958, "duration": 5.68}, {"text": "instance we can click on end mandela", "start": 21367.28, "duration": 4.72}, {"text": "and then we can actually have a node", "start": 21370.638, "duration": 3.442}, {"text": "that we want to target okay so let's say", "start": 21372.0, "duration": 4.878}, {"text": "we want to do let's say domain", "start": 21374.08, "duration": 7.76}, {"text": "admins we want to target domain admins", "start": 21376.878, "duration": 4.962}, {"text": "and if it found any way that there's a", "start": 21382.16, "duration": 4.0}, {"text": "path from", "start": 21384.638, "duration": 4.08}, {"text": "n mandela to the domain admin it would", "start": 21386.16, "duration": 5.36}, {"text": "have given us something out here", "start": 21388.718, "duration": 4.882}, {"text": "these are the filtering that you can", "start": 21391.52, "duration": 5.198}, {"text": "filter for the list of information", "start": 21393.6, "duration": 7.198}, {"text": "and that you want bloodhound to display", "start": 21396.718, "duration": 6.322}, {"text": "we can go to the analysis side and", "start": 21400.798, "duration": 3.602}, {"text": "actually select", "start": 21403.04, "duration": 3.758}, {"text": "some prevail queries so for instance if", "start": 21404.4, "duration": 4.238}, {"text": "you want to find all domain admins we", "start": 21406.798, "duration": 3.76}, {"text": "can just click on that and it will just", "start": 21408.638, "duration": 4.802}, {"text": "give us the list of all domain admins so", "start": 21410.558, "duration": 4.962}, {"text": "in this case we have", "start": 21413.44, "duration": 5.198}, {"text": "p lumumba as a domain admin of the best", "start": 21415.52, "duration": 4.24}, {"text": "domain", "start": 21418.638, "duration": 2.882}, {"text": "and we have the administrator it's also", "start": 21419.76, "duration": 4.0}, {"text": "a domain admin if you want to find the", "start": 21421.52, "duration": 4.16}, {"text": "shortest path to domain admins you can", "start": 21423.76, "duration": 4.32}, {"text": "click on that and then select domain", "start": 21425.68, "duration": 3.52}, {"text": "admin", "start": 21428.08, "duration": 3.44}, {"text": "for the domain and then it will give us", "start": 21429.2, "duration": 4.16}, {"text": "the shortest path if you're looking for", "start": 21431.52, "duration": 5.038}, {"text": "a way to get into a domain admin so for", "start": 21433.36, "duration": 6.72}, {"text": "instance if we were to compromise the", "start": 21436.558, "duration": 5.202}, {"text": "install user", "start": 21440.08, "duration": 4.32}, {"text": "that user is a member of admins", "start": 21441.76, "duration": 4.958}, {"text": "and then that admins is a member of the", "start": 21444.4, "duration": 4.558}, {"text": "domain admins", "start": 21446.718, "duration": 5.522}, {"text": "right and also this use um this user", "start": 21448.958, "duration": 4.802}, {"text": "group", "start": 21452.24, "duration": 5.12}, {"text": "sid has write docker on a domain admins", "start": 21453.76, "duration": 5.68}, {"text": "if you recall we talked about", "start": 21457.36, "duration": 6.0}, {"text": "daca that means a user can add in an ace", "start": 21459.44, "duration": 6.8}, {"text": "entries on a group or on a principal or", "start": 21463.36, "duration": 5.358}, {"text": "an object right so if we have that", "start": 21466.24, "duration": 6.8}, {"text": "privilege we can enter some ac e such as", "start": 21468.718, "duration": 7.202}, {"text": "generic all to be able to modify the", "start": 21473.04, "duration": 6.0}, {"text": "domain admin users we have of course", "start": 21475.92, "duration": 4.4}, {"text": "plumber", "start": 21479.04, "duration": 3.44}, {"text": "and then we have an admin so if you can", "start": 21480.32, "duration": 4.478}, {"text": "take advantage or have compromised any", "start": 21482.48, "duration": 4.478}, {"text": "of these users of course that will lead", "start": 21484.798, "duration": 4.962}, {"text": "us to a domain admin so these are all", "start": 21486.958, "duration": 5.442}, {"text": "options that you can play around with if", "start": 21489.76, "duration": 5.92}, {"text": "we want to look for mapping a trust", "start": 21492.4, "duration": 5.2}, {"text": "so again we'll talk about trust", "start": 21495.68, "duration": 4.4}, {"text": "relationship and how we can abuse it to", "start": 21497.6, "duration": 4.32}, {"text": "own the entire forest", "start": 21500.08, "duration": 5.2}, {"text": "so the wakanda the city is the is a", "start": 21501.92, "duration": 4.56}, {"text": "parent domain", "start": 21505.28, "duration": 4.56}, {"text": "and the bas dot wakanda the city is the", "start": 21506.48, "duration": 5.2}, {"text": "child domain and if you can see the", "start": 21509.84, "duration": 4.958}, {"text": "relationship is is bi-directional right", "start": 21511.68, "duration": 5.36}, {"text": "so bas", "start": 21514.798, "duration": 5.602}, {"text": "is trusted by wakanda the same way is", "start": 21517.04, "duration": 4.56}, {"text": "true for", "start": 21520.4, "duration": 3.68}, {"text": "the wakanda is being trusted by the best", "start": 21521.6, "duration": 3.76}, {"text": "domain", "start": 21524.08, "duration": 3.36}, {"text": "another thing that we can also do is we", "start": 21525.36, "duration": 5.198}, {"text": "can just look for a user so with this", "start": 21527.44, "duration": 5.92}, {"text": "user like let's say l mandela we can", "start": 21530.558, "duration": 5.522}, {"text": "click on that particular user and then", "start": 21533.36, "duration": 5.518}, {"text": "gather more information about the user", "start": 21536.08, "duration": 5.2}, {"text": "in mandela the user only has a first", "start": 21538.878, "duration": 5.202}, {"text": "degree rdp privileges and doesn't really", "start": 21541.28, "duration": 5.12}, {"text": "have much privileges here", "start": 21544.08, "duration": 4.798}, {"text": "we can also right click this user and", "start": 21546.4, "duration": 4.96}, {"text": "always set it as a starting node or we", "start": 21548.878, "duration": 5.442}, {"text": "can even mark it as this user is on so", "start": 21551.36, "duration": 5.438}, {"text": "once we map that as a user is on", "start": 21554.32, "duration": 5.04}, {"text": "whenever we do any search or we try to", "start": 21556.798, "duration": 4.642}, {"text": "find any path bloodhound is going to use", "start": 21559.36, "duration": 4.0}, {"text": "this user and then", "start": 21561.44, "duration": 4.4}, {"text": "design a path from this user to that", "start": 21563.36, "duration": 4.48}, {"text": "particular end object that we're trying", "start": 21565.84, "duration": 4.0}, {"text": "to accomplish so there are so many ways", "start": 21567.84, "duration": 4.958}, {"text": "we can use bloodhound 4. again i don't", "start": 21569.84, "duration": 4.64}, {"text": "want to spend too much time covering all", "start": 21572.798, "duration": 4.08}, {"text": "the uses of it because that would take a", "start": 21574.48, "duration": 4.0}, {"text": "long time to do that", "start": 21576.878, "duration": 5.122}, {"text": "so when ram is a technique that an", "start": 21578.48, "duration": 7.2}, {"text": "attacker can use for lateral movement", "start": 21582.0, "duration": 7.12}, {"text": "and from miter attack framework", "start": 21585.68, "duration": 5.68}, {"text": "the attack id for", "start": 21589.12, "duration": 6.838}, {"text": "win ram is t1021.006", "start": 21591.36, "duration": 4.598}, {"text": "and essentially an attacker can", "start": 21597.68, "duration": 4.48}, {"text": "establish", "start": 21600.638, "duration": 4.0}, {"text": "what we call the ps remoting session", "start": 21602.16, "duration": 5.76}, {"text": "from a compromise system such as the one", "start": 21604.638, "duration": 4.882}, {"text": "that we are here", "start": 21607.92, "duration": 3.76}, {"text": "and then into another and you have", "start": 21609.52, "duration": 5.358}, {"text": "already seen me using that but just for", "start": 21611.68, "duration": 5.44}, {"text": "repetition purposes", "start": 21614.878, "duration": 5.042}, {"text": "this is how we take advantage of ps", "start": 21617.12, "duration": 4.56}, {"text": "remote to", "start": 21619.92, "duration": 5.36}, {"text": "obtain a session on a remote machine so", "start": 21621.68, "duration": 5.92}, {"text": "we use enter ps session", "start": 21625.28, "duration": 4.48}, {"text": "and the name of the computer and we", "start": 21627.6, "duration": 4.72}, {"text": "provide the name of it and then dash", "start": 21629.76, "duration": 5.118}, {"text": "credential so we can provide", "start": 21632.32, "duration": 5.44}, {"text": "the credential for the user that we have", "start": 21634.878, "duration": 6.08}, {"text": "compromised or if the current user that", "start": 21637.76, "duration": 5.198}, {"text": "we have compromised has", "start": 21640.958, "duration": 3.84}, {"text": "let's say", "start": 21642.958, "duration": 4.642}, {"text": "local admin privilege on the remote", "start": 21644.798, "duration": 4.722}, {"text": "machine we don't have to provide a", "start": 21647.6, "duration": 3.118}, {"text": "credential", "start": 21649.52, "duration": 3.278}, {"text": "so once we hit enter it is going to", "start": 21650.718, "duration": 4.0}, {"text": "prompt us for", "start": 21652.798, "duration": 4.962}, {"text": "this user which if you recall we had", "start": 21654.718, "duration": 4.802}, {"text": "changed this user's credential because", "start": 21657.76, "duration": 3.6}, {"text": "we had a generic or", "start": 21659.52, "duration": 5.118}, {"text": "privilege over this account", "start": 21661.36, "duration": 6.48}, {"text": "this is how things work when it comes to", "start": 21664.638, "duration": 6.16}, {"text": "taking advantage of ps remoting so from", "start": 21667.84, "duration": 5.84}, {"text": "here we've been able to establish access", "start": 21670.798, "duration": 5.442}, {"text": "on this machine and we can do whatever", "start": 21673.68, "duration": 4.8}, {"text": "we want here", "start": 21676.24, "duration": 4.478}, {"text": "so the next tool or technique we're", "start": 21678.48, "duration": 3.52}, {"text": "going to use", "start": 21680.718, "duration": 4.642}, {"text": "for lateral movement is ps exec and we", "start": 21682.0, "duration": 6.638}, {"text": "can use that in combination with past", "start": 21685.36, "duration": 4.8}, {"text": "hash the", "start": 21688.638, "duration": 4.642}, {"text": "miter attack framework attack id for", "start": 21690.16, "duration": 7.398}, {"text": "this technique is t1569.002", "start": 21693.28, "duration": 4.278}, {"text": "so there are several ways we can", "start": 21699.68, "duration": 6.08}, {"text": "take advantage of when it comes to ps", "start": 21702.638, "duration": 4.24}, {"text": "exec", "start": 21705.76, "duration": 3.28}, {"text": "we can either use the", "start": 21706.878, "duration": 5.92}, {"text": "sys internal ps exec or we can use it in", "start": 21709.04, "duration": 9.04}, {"text": "packet ps exec so to execute the ps exec", "start": 21712.798, "duration": 7.282}, {"text": "we are going to use the", "start": 21718.08, "duration": 5.36}, {"text": "binary versions of the in packets", "start": 21720.08, "duration": 7.68}, {"text": "ps exec to run that one downside about", "start": 21723.44, "duration": 7.6}, {"text": "pssx which i normally stay away from is", "start": 21727.76, "duration": 7.198}, {"text": "it actually does start a service on the", "start": 21731.04, "duration": 7.598}, {"text": "remote machine and that could trigger an", "start": 21734.958, "duration": 6.562}, {"text": "alert because we normally want to stay", "start": 21738.638, "duration": 6.962}, {"text": "away from writing to disk and what the", "start": 21741.52, "duration": 7.52}, {"text": "ps4 does is it would open a service and", "start": 21745.6, "duration": 6.08}, {"text": "then write file which is randomly", "start": 21749.04, "duration": 5.838}, {"text": "generated onto disk and that of course", "start": 21751.68, "duration": 5.68}, {"text": "is going to leave evidence on a desk and", "start": 21754.878, "duration": 5.362}, {"text": "that is a one downside when it comes to", "start": 21757.36, "duration": 6.0}, {"text": "pssx and why i am not too much of a", "start": 21760.24, "duration": 5.36}, {"text": "super of a support for that you can see", "start": 21763.36, "duration": 4.48}, {"text": "that we have wmi", "start": 21765.6, "duration": 5.118}, {"text": "exec which is normally my favorite here", "start": 21767.84, "duration": 5.28}, {"text": "because it does not build up a service", "start": 21770.718, "duration": 4.802}, {"text": "nevertheless let's try and then use ps", "start": 21773.12, "duration": 4.56}, {"text": "exec and then combine that", "start": 21775.52, "duration": 2.96}, {"text": "with", "start": 21777.68, "duration": 3.68}, {"text": "an empty hash what you have to remember", "start": 21778.48, "duration": 6.0}, {"text": "is for this to succeed the user has to", "start": 21781.36, "duration": 4.08}, {"text": "have", "start": 21784.48, "duration": 3.92}, {"text": "local admin privilege on that machine i", "start": 21785.44, "duration": 5.278}, {"text": "have seen people making that mistake of", "start": 21788.4, "duration": 5.28}, {"text": "thinking that you can run ps exec on any", "start": 21790.718, "duration": 4.322}, {"text": "system", "start": 21793.68, "duration": 3.278}, {"text": "just because you have credentials the", "start": 21795.04, "duration": 4.4}, {"text": "user would have to have a right", "start": 21796.958, "duration": 5.122}, {"text": "privilege and most of the time", "start": 21799.44, "duration": 4.72}, {"text": "it is better if the user has a local", "start": 21802.08, "duration": 3.84}, {"text": "admin because then", "start": 21804.16, "duration": 4.96}, {"text": "you can write to any file on a remote", "start": 21805.92, "duration": 4.16}, {"text": "machine", "start": 21809.12, "duration": 3.598}, {"text": "so let's take a quick look at what is", "start": 21810.08, "duration": 5.44}, {"text": "happening here when you run the ps exec", "start": 21812.718, "duration": 5.602}, {"text": "so we find a writable share at the admin", "start": 21815.52, "duration": 4.24}, {"text": "dollar sign", "start": 21818.32, "duration": 3.36}, {"text": "now some there are some shares default", "start": 21819.76, "duration": 4.48}, {"text": "ones on a local machine that can always", "start": 21821.68, "duration": 5.36}, {"text": "look for for admin right", "start": 21824.24, "duration": 4.96}, {"text": "admin one is one of those and then c", "start": 21827.04, "duration": 4.64}, {"text": "share is another share that a user can", "start": 21829.2, "duration": 3.84}, {"text": "write into", "start": 21831.68, "duration": 3.84}, {"text": "so what is going to happen is ps exec is", "start": 21833.04, "duration": 4.32}, {"text": "going to facilitate check and see if", "start": 21835.52, "duration": 4.64}, {"text": "this user has a right permission", "start": 21837.36, "duration": 5.198}, {"text": "on this particular share and then it is", "start": 21840.16, "duration": 5.84}, {"text": "going to upload a randomly generated", "start": 21842.558, "duration": 5.842}, {"text": "file on that shell", "start": 21846.0, "duration": 4.0}, {"text": "and this is what i was talking about the", "start": 21848.4, "duration": 4.72}, {"text": "fact that i am not a big advocate of", "start": 21850.0, "duration": 6.558}, {"text": "pssx because it is going to run or is", "start": 21853.12, "duration": 7.04}, {"text": "going to upload a file to that machine", "start": 21856.558, "duration": 5.202}, {"text": "and then of course it's going to open", "start": 21860.16, "duration": 4.718}, {"text": "the svc manager on the machine and then", "start": 21861.76, "duration": 5.52}, {"text": "it's going to create a service", "start": 21864.878, "duration": 4.242}, {"text": "again this is going to be a random", "start": 21867.28, "duration": 3.358}, {"text": "service it is going to create on that", "start": 21869.12, "duration": 2.48}, {"text": "machine", "start": 21870.638, "duration": 2.882}, {"text": "and then once it is done we are now", "start": 21871.6, "duration": 4.16}, {"text": "going to start a service and we should", "start": 21873.52, "duration": 4.8}, {"text": "have access on the machine", "start": 21875.76, "duration": 4.72}, {"text": "the good thing is it is going to give us", "start": 21878.32, "duration": 4.72}, {"text": "a direct system level so we are going to", "start": 21880.48, "duration": 5.44}, {"text": "have a higher privilege on that machine", "start": 21883.04, "duration": 6.0}, {"text": "anyway again these are things that you", "start": 21885.92, "duration": 5.36}, {"text": "want to make sure that your tools what", "start": 21889.04, "duration": 5.2}, {"text": "are they leaving behind for you to make", "start": 21891.28, "duration": 5.2}, {"text": "a judgment as to what kind of tool you", "start": 21894.24, "duration": 4.96}, {"text": "want to use or a technique you are going", "start": 21896.48, "duration": 4.8}, {"text": "to use", "start": 21899.2, "duration": 4.72}, {"text": "the next technique is", "start": 21901.28, "duration": 3.678}, {"text": "remote", "start": 21903.92, "duration": 4.0}, {"text": "desktop protocol and the", "start": 21904.958, "duration": 6.562}, {"text": "miter attack framework attack id for", "start": 21907.92, "duration": 8.76}, {"text": "this particular technique is t1021.001", "start": 21911.52, "duration": 5.16}, {"text": "now some lateral movement attacks work", "start": 21919.6, "duration": 5.118}, {"text": "best when we have", "start": 21922.4, "duration": 6.238}, {"text": "an rdp access to the victim's machine as", "start": 21924.718, "duration": 7.042}, {"text": "i currently have on this machine", "start": 21928.638, "duration": 5.602}, {"text": "a lot easier when you have the clear", "start": 21931.76, "duration": 3.92}, {"text": "test credential", "start": 21934.24, "duration": 3.28}, {"text": "of the victims", "start": 21935.68, "duration": 4.08}, {"text": "that is even better because we can just", "start": 21937.52, "duration": 5.6}, {"text": "rdp in with just the username and", "start": 21939.76, "duration": 4.64}, {"text": "password", "start": 21943.12, "duration": 4.56}, {"text": "however sometimes we may only have the", "start": 21944.4, "duration": 7.04}, {"text": "ntlm hash of that particular user so we", "start": 21947.68, "duration": 7.36}, {"text": "have what we call rdp with restricted", "start": 21951.44, "duration": 6.48}, {"text": "admin mode when we have rdp with", "start": 21955.04, "duration": 6.32}, {"text": "restricted admin mode enabled it enables", "start": 21957.92, "duration": 6.718}, {"text": "admins to perform network logging into", "start": 21961.36, "duration": 6.16}, {"text": "systems without providing clear test", "start": 21964.638, "duration": 5.522}, {"text": "credentials so with that restricted", "start": 21967.52, "duration": 5.84}, {"text": "admin mode enabled we are able to have", "start": 21970.16, "duration": 5.92}, {"text": "you know maybe be based on the current", "start": 21973.36, "duration": 5.278}, {"text": "session that we have we can rdp into a", "start": 21976.08, "duration": 5.44}, {"text": "system without providing credential of", "start": 21978.638, "duration": 4.562}, {"text": "course if our current session doesn't", "start": 21981.52, "duration": 3.84}, {"text": "have that privilege then it's not going", "start": 21983.2, "duration": 3.84}, {"text": "to work for us what we have to", "start": 21985.36, "duration": 4.72}, {"text": "understand is rdp with restricted admin", "start": 21987.04, "duration": 6.56}, {"text": "mode is not enabled by default", "start": 21990.08, "duration": 6.558}, {"text": "so we have to somehow have to enable", "start": 21993.6, "duration": 5.84}, {"text": "that on the machine to be able to", "start": 21996.638, "duration": 4.402}, {"text": "authenticate", "start": 21999.44, "duration": 3.518}, {"text": "without providing a clear test", "start": 22001.04, "duration": 4.32}, {"text": "credential let's take a quick look on", "start": 22002.958, "duration": 5.84}, {"text": "how we can actually enable this this", "start": 22005.36, "duration": 5.518}, {"text": "mode on a remote machine", "start": 22008.798, "duration": 3.682}, {"text": "now let's go back", "start": 22010.878, "duration": 5.362}, {"text": "to our kali machine and then demonstrate", "start": 22012.48, "duration": 4.8}, {"text": "how", "start": 22016.24, "duration": 3.76}, {"text": "when we have this enabled we can", "start": 22017.28, "duration": 6.4}, {"text": "authenticate our rdp into a system", "start": 22020.0, "duration": 6.12}, {"text": "by providing just the", "start": 22023.68, "duration": 4.32}, {"text": "anti-hash", "start": 22026.12, "duration": 4.28}, {"text": "this is how we can execute such an", "start": 22028.0, "duration": 4.958}, {"text": "attack so we're going to use the tool", "start": 22030.4, "duration": 3.76}, {"text": "called", "start": 22032.958, "duration": 3.362}, {"text": "x free rdp", "start": 22034.16, "duration": 4.96}, {"text": "we're going to use the switch user from", "start": 22036.32, "duration": 5.44}, {"text": "you and then provide the user name as h", "start": 22039.12, "duration": 3.838}, {"text": "selassie", "start": 22041.76, "duration": 4.72}, {"text": "and then provide the password hash", "start": 22042.958, "duration": 5.76}, {"text": "which is going to be this string right", "start": 22046.48, "duration": 3.2}, {"text": "here", "start": 22048.718, "duration": 1.762}, {"text": "the", "start": 22049.68, "duration": 3.038}, {"text": "target machine is this one and we're", "start": 22050.48, "duration": 5.76}, {"text": "going to ignore a certificate warning", "start": 22052.718, "duration": 6.642}, {"text": "and then we can hit enter we have", "start": 22056.24, "duration": 6.0}, {"text": "access to this machine", "start": 22059.36, "duration": 4.88}, {"text": "through rdp", "start": 22062.24, "duration": 6.08}, {"text": "by just providing the password hash", "start": 22064.24, "duration": 7.6}, {"text": "the next technique which hasn't been", "start": 22068.32, "duration": 7.12}, {"text": "used that much is rdp", "start": 22071.84, "duration": 6.798}, {"text": "as a console so we're going to find a", "start": 22075.44, "duration": 8.0}, {"text": "way to abuse rdp to achieve a remote", "start": 22078.638, "duration": 6.402}, {"text": "code execution", "start": 22083.44, "duration": 5.04}, {"text": "by executing commands through a console", "start": 22085.04, "duration": 6.48}, {"text": "there is an existing tool called sharp", "start": 22088.48, "duration": 4.238}, {"text": "rdp", "start": 22091.52, "duration": 3.52}, {"text": "all you have to do is to compile the", "start": 22092.718, "duration": 3.122}, {"text": "tool", "start": 22095.04, "duration": 3.598}, {"text": "and then run some commands to get it to", "start": 22095.84, "duration": 3.6}, {"text": "work", "start": 22098.638, "duration": 3.122}, {"text": "so let's take a quick look on how", "start": 22099.44, "duration": 3.438}, {"text": "we can", "start": 22101.76, "duration": 5.6}, {"text": "abuse rdp as a console to receive or to", "start": 22102.878, "duration": 7.122}, {"text": "achieve remote code execution", "start": 22107.36, "duration": 3.68}, {"text": "so", "start": 22110.0, "duration": 3.52}, {"text": "i have compiled", "start": 22111.04, "duration": 6.64}, {"text": "my version of the sharp rdp and i have", "start": 22113.52, "duration": 5.92}, {"text": "it right here", "start": 22117.68, "duration": 3.038}, {"text": "and before", "start": 22119.44, "duration": 4.0}, {"text": "we go ahead and show how we can achieve", "start": 22120.718, "duration": 4.722}, {"text": "remote code execution", "start": 22123.44, "duration": 5.358}, {"text": "let's head back to my attackers terminal", "start": 22125.44, "duration": 5.438}, {"text": "and i am going to", "start": 22128.798, "duration": 6.08}, {"text": "generate an msf venon payload and then", "start": 22130.878, "duration": 5.602}, {"text": "once that is done", "start": 22134.878, "duration": 4.322}, {"text": "i'm going to run a server to host that", "start": 22136.48, "duration": 5.44}, {"text": "particular payload and then set up an", "start": 22139.2, "duration": 6.4}, {"text": "endcap listener and we should be ready", "start": 22141.92, "duration": 7.52}, {"text": "now we go back to the machine and this", "start": 22145.6, "duration": 4.88}, {"text": "is how", "start": 22149.44, "duration": 3.278}, {"text": "the command is going to look like to", "start": 22150.48, "duration": 5.52}, {"text": "achieve a remote code execution so we", "start": 22152.718, "duration": 5.362}, {"text": "provide the", "start": 22156.0, "duration": 4.958}, {"text": "name of the computer we have cabi", "start": 22158.08, "duration": 5.76}, {"text": "and the command we want to execute we", "start": 22160.958, "duration": 5.6}, {"text": "provide that here in this case we're", "start": 22163.84, "duration": 4.878}, {"text": "calling out powershell", "start": 22166.558, "duration": 4.562}, {"text": "and using the download cradle", "start": 22168.718, "duration": 3.602}, {"text": "to", "start": 22171.12, "duration": 5.96}, {"text": "create a new object system.net.webclient", "start": 22172.32, "duration": 4.76}, {"text": "and then download a file", "start": 22177.12, "duration": 4.24}, {"text": "from this location which is being hosted", "start": 22179.04, "duration": 6.4}, {"text": "on our kali machine on port 9000", "start": 22181.36, "duration": 6.16}, {"text": "and we are going to download the", "start": 22185.44, "duration": 5.68}, {"text": "executable called bad dot exe", "start": 22187.52, "duration": 5.68}, {"text": "and then we're going to save it into the", "start": 22191.12, "duration": 3.12}, {"text": "windows", "start": 22193.2, "duration": 2.0}, {"text": "task", "start": 22194.24, "duration": 2.16}, {"text": "directory", "start": 22195.2, "duration": 3.358}, {"text": "as bad.exe", "start": 22196.4, "duration": 4.558}, {"text": "once that is done we are now going to", "start": 22198.558, "duration": 4.08}, {"text": "execute", "start": 22200.958, "duration": 3.122}, {"text": "that file", "start": 22202.638, "duration": 3.92}, {"text": "using the username providing the", "start": 22204.08, "duration": 6.0}, {"text": "credentials of the user hclassy", "start": 22206.558, "duration": 6.24}, {"text": "and then the password flyfit123", "start": 22210.08, "duration": 6.44}, {"text": "exclamation mark", "start": 22212.798, "duration": 3.722}, {"text": "okay and as you can see", "start": 22220.48, "duration": 5.84}, {"text": "let's walk through what happened here", "start": 22223.12, "duration": 4.0}, {"text": "so", "start": 22226.32, "duration": 2.96}, {"text": "we were able to connect to", "start": 22227.12, "duration": 4.96}, {"text": "the computer cabi", "start": 22229.28, "duration": 5.76}, {"text": "and then execute it with none proof and", "start": 22232.08, "duration": 6.08}, {"text": "then we run our command remotely", "start": 22235.04, "duration": 5.758}, {"text": "on that machine to download a file", "start": 22238.16, "duration": 4.398}, {"text": "and then execute it", "start": 22240.798, "duration": 5.282}, {"text": "disconnect it and then close our session", "start": 22242.558, "duration": 6.24}, {"text": "and as that was happening a couple of", "start": 22246.08, "duration": 5.6}, {"text": "things were happening behind the scenes", "start": 22248.798, "duration": 6.322}, {"text": "on here it downloaded our file", "start": 22251.68, "duration": 5.92}, {"text": "as instructed", "start": 22255.12, "duration": 5.04}, {"text": "and then once it was done", "start": 22257.6, "duration": 5.118}, {"text": "it did execute and then got us a reverse", "start": 22260.16, "duration": 4.798}, {"text": "shell", "start": 22262.718, "duration": 2.24}, {"text": "the next technique we're going to carry", "start": 22266.558, "duration": 4.24}, {"text": "out for lateral movement", "start": 22268.798, "duration": 5.92}, {"text": "is abusing ipv6 protocol", "start": 22270.798, "duration": 6.562}, {"text": "so we want to first of all identify if", "start": 22274.718, "duration": 5.042}, {"text": "we can find systems on the network and", "start": 22277.36, "duration": 4.0}, {"text": "with smb", "start": 22279.76, "duration": 4.24}, {"text": "signing disabled the next step we're", "start": 22281.36, "duration": 5.84}, {"text": "going to do is we are going to use a two", "start": 22284.0, "duration": 5.84}, {"text": "holes mit", "start": 22287.2, "duration": 6.48}, {"text": "m6 which is essentially a tool that", "start": 22289.84, "duration": 7.118}, {"text": "would allow us to perform dns spoofing", "start": 22293.68, "duration": 6.32}, {"text": "attack against ipv6", "start": 22296.958, "duration": 6.642}, {"text": "so we just type in mit m6", "start": 22300.0, "duration": 6.32}, {"text": "and we're going to provide the interface", "start": 22303.6, "duration": 6.16}, {"text": "dash i and if 0 and we're going to", "start": 22306.32, "duration": 6.8}, {"text": "provide the domain we want to attack in", "start": 22309.76, "duration": 6.64}, {"text": "this case we want to provide dash d", "start": 22313.12, "duration": 4.838}, {"text": "and then best", "start": 22316.4, "duration": 4.238}, {"text": "wakanda.city this is just going to run", "start": 22317.958, "duration": 6.362}, {"text": "the regular or the usual dns poisoning", "start": 22320.638, "duration": 5.522}, {"text": "so essentially what is going to happen", "start": 22324.32, "duration": 3.2}, {"text": "is we're going to poison the entire", "start": 22326.16, "duration": 4.558}, {"text": "network and say our machine is a dns on", "start": 22327.52, "duration": 6.72}, {"text": "a network and it's now going to assign", "start": 22330.718, "duration": 5.122}, {"text": "ipv6", "start": 22334.24, "duration": 3.44}, {"text": "to some boxes", "start": 22335.84, "duration": 4.798}, {"text": "so once we have our", "start": 22337.68, "duration": 4.4}, {"text": "mit", "start": 22340.638, "duration": 2.562}, {"text": "m6", "start": 22342.08, "duration": 4.478}, {"text": "tool running which is going to spoof dns", "start": 22343.2, "duration": 5.12}, {"text": "requests on a wire", "start": 22346.558, "duration": 5.762}, {"text": "we can now execute the ntlm relay attack", "start": 22348.32, "duration": 6.478}, {"text": "using the impact 2", "start": 22352.32, "duration": 5.12}, {"text": "and this is the command which i am going", "start": 22354.798, "duration": 5.362}, {"text": "to run what we doing is we're just going", "start": 22357.44, "duration": 6.56}, {"text": "to use the smb2 support option just in", "start": 22360.16, "duration": 7.44}, {"text": "case smb1 is not enabled on the target", "start": 22364.0, "duration": 4.638}, {"text": "machine", "start": 22367.6, "duration": 4.48}, {"text": "and we're providing the six to tell ntlm", "start": 22368.638, "duration": 6.562}, {"text": "relay to that we are running this relay", "start": 22372.08, "duration": 6.96}, {"text": "attack against ipv6 protocol and we are", "start": 22375.2, "duration": 7.358}, {"text": "going to spoof our machine which in this", "start": 22379.04, "duration": 6.24}, {"text": "case is going to be our local machine or", "start": 22382.558, "duration": 4.4}, {"text": "the attacker's machine", "start": 22385.28, "duration": 4.48}, {"text": "this can be anything you want i just", "start": 22386.958, "duration": 5.362}, {"text": "used it to stay consistent so i use the", "start": 22389.76, "duration": 4.958}, {"text": "actual hostname of my attackers machine", "start": 22392.32, "duration": 4.8}, {"text": "for that and the service we're going to", "start": 22394.718, "duration": 4.482}, {"text": "run against and the target is going to", "start": 22397.12, "duration": 5.678}, {"text": "be on the domain controller i am", "start": 22399.2, "duration": 5.758}, {"text": "rebuilding or replaying things i have", "start": 22402.798, "duration": 4.402}, {"text": "seen in real world engagement i have", "start": 22404.958, "duration": 4.802}, {"text": "been able to abuse this technique to", "start": 22407.2, "duration": 6.24}, {"text": "gain straight domain admin privilege and", "start": 22409.76, "duration": 6.72}, {"text": "i will provide the l to save the stuff", "start": 22413.44, "duration": 6.48}, {"text": "that we obtained into a loot so once we", "start": 22416.48, "duration": 6.0}, {"text": "hit enter what i'm going to do is i'm", "start": 22419.92, "duration": 6.16}, {"text": "going to simulate a user authenticating", "start": 22422.48, "duration": 6.88}, {"text": "to one machine and then their credential", "start": 22426.08, "duration": 6.718}, {"text": "would be relay into this particular", "start": 22429.36, "duration": 4.56}, {"text": "machine", "start": 22432.798, "duration": 4.242}, {"text": "what happens with snmp relay attack or", "start": 22433.92, "duration": 6.32}, {"text": "ntlm relay attack is when systems are", "start": 22437.04, "duration": 6.32}, {"text": "communicating using smb protocol what", "start": 22440.24, "duration": 5.76}, {"text": "happens is there is what we call a", "start": 22443.36, "duration": 5.92}, {"text": "challenge and response process so a", "start": 22446.0, "duration": 5.2}, {"text": "system from let's say", "start": 22449.28, "duration": 4.92}, {"text": "10.20.30.11", "start": 22451.2, "duration": 3.0}, {"text": "or 12 wants to communicate with this", "start": 22455.2, "duration": 5.28}, {"text": "machine what is going to happen is it", "start": 22457.92, "duration": 5.84}, {"text": "will take the packet and then sign that", "start": 22460.48, "duration": 5.52}, {"text": "you know packet and then send it over to", "start": 22463.76, "duration": 3.52}, {"text": "this machine", "start": 22466.0, "duration": 4.08}, {"text": "this machine will take that packet and", "start": 22467.28, "duration": 5.278}, {"text": "then confirm that it has been signed", "start": 22470.08, "duration": 4.96}, {"text": "from the other machine coming through so", "start": 22472.558, "duration": 4.962}, {"text": "it can validate who the", "start": 22475.04, "duration": 3.678}, {"text": "source is", "start": 22477.52, "duration": 4.08}, {"text": "if we don't have signing enabled an", "start": 22478.718, "duration": 5.202}, {"text": "attacker can be in between that", "start": 22481.6, "duration": 3.68}, {"text": "communication", "start": 22483.92, "duration": 4.08}, {"text": "it will pick up let's say the", "start": 22485.28, "duration": 5.518}, {"text": "10.20.30.12", "start": 22488.0, "duration": 4.16}, {"text": "communication", "start": 22490.798, "duration": 4.402}, {"text": "and then relay that to this machine and", "start": 22492.16, "duration": 5.44}, {"text": "it be the middleman in between", "start": 22495.2, "duration": 6.24}, {"text": "so if let's say the dot 12 is trying to", "start": 22497.6, "duration": 6.4}, {"text": "authenticate or request a file from this", "start": 22501.44, "duration": 5.118}, {"text": "machine we will take it and then act", "start": 22504.0, "duration": 5.2}, {"text": "like we are the dot 12 and then pass the", "start": 22506.558, "duration": 5.922}, {"text": "credential and then if that user under", "start": 22509.2, "duration": 5.28}, {"text": "which the request is coming through", "start": 22512.48, "duration": 4.64}, {"text": "has let's say an admin level on this", "start": 22514.48, "duration": 6.238}, {"text": "machine we can achieve code execution so", "start": 22517.12, "duration": 6.08}, {"text": "when the reply is coming from this", "start": 22520.718, "duration": 5.122}, {"text": "target back to the dot 12 we'll just cut", "start": 22523.2, "duration": 5.28}, {"text": "it off so you see that we're getting", "start": 22525.84, "duration": 5.36}, {"text": "some success here but we're getting a", "start": 22528.48, "duration": 5.92}, {"text": "follow-up denied that is normal because", "start": 22531.2, "duration": 6.72}, {"text": "this this account is a system account", "start": 22534.4, "duration": 6.238}, {"text": "and it doesn't have privilege or local", "start": 22537.92, "duration": 4.878}, {"text": "admin on this machine again it's a", "start": 22540.638, "duration": 4.482}, {"text": "domain controller and it's coming from", "start": 22542.798, "duration": 4.562}, {"text": "this machine right here", "start": 22545.12, "duration": 5.92}, {"text": "so let us simulate a situation whereby", "start": 22547.36, "duration": 5.438}, {"text": "let's say an admin", "start": 22551.04, "duration": 4.56}, {"text": "is logging into this machine", "start": 22552.798, "duration": 4.722}, {"text": "and there's interaction between the dot", "start": 22555.6, "duration": 5.358}, {"text": "12 and then a dot 10 and then let's see", "start": 22557.52, "duration": 7.52}, {"text": "how this smb relay can work to a benefit", "start": 22560.958, "duration": 7.6}, {"text": "all right so to simulate this attack i", "start": 22565.04, "duration": 6.4}, {"text": "am going to log into this machine", "start": 22568.558, "duration": 5.922}, {"text": "as the admin on our attacker's machine", "start": 22571.44, "duration": 5.518}, {"text": "this is what is happening right now", "start": 22574.48, "duration": 4.398}, {"text": "so we got this connection", "start": 22576.958, "duration": 3.362}, {"text": "from the admin", "start": 22578.878, "duration": 3.442}, {"text": "and then we're able to", "start": 22580.32, "duration": 4.88}, {"text": "try to target this machine", "start": 22582.32, "duration": 4.72}, {"text": "we try to authenticate", "start": 22585.2, "duration": 3.84}, {"text": "passing the admins", "start": 22587.04, "duration": 4.64}, {"text": "credentials and we're able to succeed on", "start": 22589.04, "duration": 5.36}, {"text": "that now recall that that", "start": 22591.68, "duration": 4.8}, {"text": "authentication was coming from another", "start": 22594.4, "duration": 3.04}, {"text": "system", "start": 22596.48, "duration": 4.478}, {"text": "but we're able to relay that into the", "start": 22597.44, "duration": 5.76}, {"text": "10 machine which is a domain controller", "start": 22600.958, "duration": 3.6}, {"text": "so in a sense", "start": 22603.2, "duration": 2.64}, {"text": "we now have", "start": 22604.558, "duration": 4.08}, {"text": "the hashes of the local admin on a", "start": 22605.84, "duration": 5.36}, {"text": "domain controller which we can use to", "start": 22608.638, "duration": 5.442}, {"text": "perform past the hash to compromise the", "start": 22611.2, "duration": 5.438}, {"text": "domain controller", "start": 22614.08, "duration": 5.12}, {"text": "this is the ip address of that machine", "start": 22616.638, "duration": 4.962}, {"text": "which is not the dot 10", "start": 22619.2, "duration": 4.48}, {"text": "and we've been able to actually assign", "start": 22621.6, "duration": 5.92}, {"text": "it an ipv6 address which is coming from", "start": 22623.68, "duration": 7.76}, {"text": "our spoofed dns so this is how we can", "start": 22627.52, "duration": 7.68}, {"text": "take advantage of the ipv6 protocol on", "start": 22631.44, "duration": 6.0}, {"text": "the network so the good thing with", "start": 22635.2, "duration": 5.598}, {"text": "providing the dash l root is just in", "start": 22637.44, "duration": 6.72}, {"text": "case you miss out from that traffic", "start": 22640.798, "duration": 6.882}, {"text": "which can be a bit too much in a process", "start": 22644.16, "duration": 6.16}, {"text": "it is going to save the hashes", "start": 22647.68, "duration": 5.92}, {"text": "it obtained from this attack in a nice", "start": 22650.32, "duration": 5.28}, {"text": "file for us so", "start": 22653.6, "duration": 5.118}, {"text": "um in the course of the attack if there", "start": 22655.6, "duration": 4.48}, {"text": "are too many traffic going back and", "start": 22658.718, "duration": 3.202}, {"text": "forth and you may have missed out on", "start": 22660.08, "duration": 3.2}, {"text": "something good", "start": 22661.92, "duration": 3.6}, {"text": "you can always come back to", "start": 22663.28, "duration": 5.358}, {"text": "your directory and this is how the loot", "start": 22665.52, "duration": 4.24}, {"text": "happens", "start": 22668.638, "duration": 2.802}, {"text": "it will save everything for you in the", "start": 22669.76, "duration": 4.56}, {"text": "text file for you", "start": 22671.44, "duration": 2.88}, {"text": "so sometimes", "start": 22674.878, "duration": 5.84}, {"text": "the team may only have a password hash", "start": 22676.958, "duration": 7.042}, {"text": "and not the actual password to work with", "start": 22680.718, "duration": 5.762}, {"text": "and we've seen instances where", "start": 22684.0, "duration": 5.28}, {"text": "we had to use just a password hash for", "start": 22686.48, "duration": 5.68}, {"text": "pass the hash or even for a remote", "start": 22689.28, "duration": 5.358}, {"text": "desktop interaction", "start": 22692.16, "duration": 6.08}, {"text": "well for nt lm authentication", "start": 22694.638, "duration": 6.08}, {"text": "we can execute the pass the hash with no", "start": 22698.24, "duration": 6.16}, {"text": "problem but in most modern organization", "start": 22700.718, "duration": 5.122}, {"text": "passive hash", "start": 22704.4, "duration": 3.36}, {"text": "attack is now becoming a little bit", "start": 22705.84, "duration": 3.44}, {"text": "difficult to", "start": 22707.76, "duration": 2.878}, {"text": "execute", "start": 22709.28, "duration": 4.0}, {"text": "due to the restrictions that microsoft", "start": 22710.638, "duration": 5.282}, {"text": "has implemented lately", "start": 22713.28, "duration": 3.76}, {"text": "however", "start": 22715.92, "duration": 4.32}, {"text": "we can do a kerberos authentication", "start": 22717.04, "duration": 6.4}, {"text": "with just an anti-hash", "start": 22720.24, "duration": 6.0}, {"text": "and this attack is what we call the", "start": 22723.44, "duration": 5.038}, {"text": "overpass the hash", "start": 22726.24, "duration": 6.238}, {"text": "so essentially the a s request to get a", "start": 22728.478, "duration": 5.362}, {"text": "tgt", "start": 22732.478, "duration": 5.042}, {"text": "doesn't actually use a password directly", "start": 22733.84, "duration": 6.878}, {"text": "but it encrypts the nonce with the empty", "start": 22737.52, "duration": 7.038}, {"text": "hash of the actual password so we can", "start": 22740.718, "duration": 7.042}, {"text": "request a tgt with only", "start": 22744.558, "duration": 5.522}, {"text": "an empty hash", "start": 22747.76, "duration": 5.36}, {"text": "tool such as in packet has made this", "start": 22750.08, "duration": 6.24}, {"text": "attack a lot easier for us to remotely", "start": 22753.12, "duration": 5.28}, {"text": "request a tgt", "start": 22756.32, "duration": 4.96}, {"text": "so as you can see in this command we are", "start": 22758.4, "duration": 6.238}, {"text": "using the in packet get tgt", "start": 22761.28, "duration": 7.278}, {"text": "and requesting that by supplying the ip", "start": 22764.638, "duration": 6.08}, {"text": "address of the domain controller which", "start": 22768.558, "duration": 5.202}, {"text": "is the key distribution center", "start": 22770.718, "duration": 5.84}, {"text": "and we're providing just nt hash", "start": 22773.76, "duration": 5.08}, {"text": "of the user", "start": 22776.558, "duration": 4.562}, {"text": "hclassy to request", "start": 22778.84, "duration": 5.878}, {"text": "a tgt and that should give us", "start": 22781.12, "duration": 4.48}, {"text": "this", "start": 22784.718, "duration": 2.962}, {"text": "file right here", "start": 22785.6, "duration": 4.958}, {"text": "so now what we can do is let's say we", "start": 22787.68, "duration": 4.56}, {"text": "know a system that", "start": 22790.558, "duration": 4.882}, {"text": "the user h selassie has a local admin", "start": 22792.24, "duration": 4.558}, {"text": "privilege on", "start": 22795.44, "duration": 3.68}, {"text": "we can now achieve a remote code", "start": 22796.798, "duration": 5.282}, {"text": "execution on that particular machine", "start": 22799.12, "duration": 5.04}, {"text": "even though you see that we provided", "start": 22802.08, "duration": 5.04}, {"text": "just the empty hash of the user", "start": 22804.16, "duration": 5.04}, {"text": "that is not the only type of hash we can", "start": 22807.12, "duration": 4.48}, {"text": "use to carry out this attack", "start": 22809.2, "duration": 4.8}, {"text": "we can use the rc4", "start": 22811.6, "duration": 8.24}, {"text": "aes 128 or even aes 256 in modern", "start": 22814.0, "duration": 7.12}, {"text": "environments", "start": 22819.84, "duration": 3.52}, {"text": "so let's go back and then show how we", "start": 22821.12, "duration": 5.2}, {"text": "can now achieve code execution now that", "start": 22823.36, "duration": 4.8}, {"text": "we have this", "start": 22826.32, "duration": 4.08}, {"text": "you know ticket in cache", "start": 22828.16, "duration": 5.12}, {"text": "we can use the export command", "start": 22830.4, "duration": 6.64}, {"text": "to export it into the curve 5", "start": 22833.28, "duration": 4.88}, {"text": "c name", "start": 22837.04, "duration": 3.36}, {"text": "one day in packet ps exec and we're", "start": 22838.16, "duration": 4.638}, {"text": "going to provide the no", "start": 22840.4, "duration": 5.68}, {"text": "password so it doesn't prompt us for", "start": 22842.798, "duration": 6.722}, {"text": "a password but instead use dash k for", "start": 22846.08, "duration": 4.558}, {"text": "kerberos", "start": 22849.52, "duration": 4.16}, {"text": "and we know this user has a local admin", "start": 22850.638, "duration": 7.122}, {"text": "on the system cabi", "start": 22853.68, "duration": 4.08}, {"text": "and that should give us access to the", "start": 22860.718, "duration": 6.08}, {"text": "system again because this is um ps exec", "start": 22863.2, "duration": 7.438}, {"text": "we should be a system on this machine", "start": 22866.798, "duration": 5.92}, {"text": "sometimes you may hear people calling", "start": 22870.638, "duration": 5.682}, {"text": "this as pass the c cache that is always", "start": 22872.718, "duration": 6.322}, {"text": "the same we pass in this", "start": 22876.32, "duration": 4.638}, {"text": "c cache to", "start": 22879.04, "duration": 4.0}, {"text": "execute this attack", "start": 22880.958, "duration": 5.202}, {"text": "in the most modern environments we come", "start": 22883.04, "duration": 5.36}, {"text": "across a situation whereby", "start": 22886.16, "duration": 6.04}, {"text": "the encryption type being used is aes", "start": 22888.4, "duration": 5.6}, {"text": "256", "start": 22892.2, "duration": 4.438}, {"text": "so just for a quick demo on how we can", "start": 22894.0, "duration": 3.68}, {"text": "extract", "start": 22896.638, "duration": 2.32}, {"text": "such keys", "start": 22897.68, "duration": 3.44}, {"text": "we can use mimikats and then once you", "start": 22898.958, "duration": 3.84}, {"text": "set a proper or the appropriate", "start": 22901.12, "duration": 4.8}, {"text": "privileges we can use the command set", "start": 22902.798, "duration": 6.562}, {"text": "you also and then provide the e keys", "start": 22905.92, "duration": 6.798}, {"text": "as then option and um hit enter and that", "start": 22909.36, "duration": 6.48}, {"text": "should extract all the types of keys", "start": 22912.718, "duration": 4.722}, {"text": "and if", "start": 22915.84, "duration": 2.56}, {"text": "the", "start": 22917.44, "duration": 4.8}, {"text": "aes 256 enabled we should see that as an", "start": 22918.4, "duration": 6.8}, {"text": "option if it's not then we are still", "start": 22922.24, "duration": 5.68}, {"text": "good with the rc4 options", "start": 22925.2, "duration": 5.12}, {"text": "um in this case it looks like we don't", "start": 22927.92, "duration": 3.52}, {"text": "have", "start": 22930.32, "duration": 2.8}, {"text": "the aes", "start": 22931.44, "duration": 4.24}, {"text": "keys set up within this", "start": 22933.12, "duration": 5.2}, {"text": "domain of this environment", "start": 22935.68, "duration": 5.278}, {"text": "so the next attack technique for", "start": 22938.32, "duration": 6.158}, {"text": "lateral movement is golden tickets and", "start": 22940.958, "duration": 5.362}, {"text": "for golden ticket the assumption is", "start": 22944.478, "duration": 5.042}, {"text": "you've already obtained a domain admin", "start": 22946.32, "duration": 5.92}, {"text": "status because there are some few", "start": 22949.52, "duration": 5.278}, {"text": "ingredients we need to be able to", "start": 22952.24, "duration": 4.558}, {"text": "execute this attack", "start": 22954.798, "duration": 5.602}, {"text": "for minor attack framework the attack id", "start": 22956.798, "duration": 6.402}, {"text": "for golden tickets st", "start": 22960.4, "duration": 5.8}, {"text": "1558.001", "start": 22963.2, "duration": 3.0}, {"text": "well golden ticket is essentially", "start": 22967.44, "duration": 5.6}, {"text": "when we are able to forge or we are able", "start": 22969.84, "duration": 6.958}, {"text": "to create our own ticket granting ticket", "start": 22973.04, "duration": 7.438}, {"text": "by using the curb tgt", "start": 22976.798, "duration": 6.642}, {"text": "key so the step-by-step process here is", "start": 22980.478, "duration": 5.202}, {"text": "first of all we need to find a way to", "start": 22983.44, "duration": 4.0}, {"text": "forge the tgt", "start": 22985.68, "duration": 4.56}, {"text": "and the included pack and that is going", "start": 22987.44, "duration": 6.32}, {"text": "to require us to obtain the hash of the", "start": 22990.24, "duration": 5.28}, {"text": "curb tgt", "start": 22993.76, "duration": 4.718}, {"text": "account which is the master encryption", "start": 22995.52, "duration": 6.16}, {"text": "key from the domain controller or the", "start": 22998.478, "duration": 6.802}, {"text": "key distribution center now once we have", "start": 23001.68, "duration": 7.198}, {"text": "that key we can use that to request a", "start": 23005.28, "duration": 7.198}, {"text": "tgt from a domain controller in addition", "start": 23008.878, "duration": 6.882}, {"text": "to the curb key we also need the domains", "start": 23012.478, "duration": 6.08}, {"text": "set the good thing about golden ticket", "start": 23015.76, "duration": 4.878}, {"text": "which can also be used for persistence", "start": 23018.558, "duration": 5.122}, {"text": "is it can last for 10 years so that is", "start": 23020.638, "duration": 5.84}, {"text": "what makes this attack much more serious", "start": 23023.68, "duration": 4.878}, {"text": "because we can have a backdoor or", "start": 23026.478, "duration": 3.282}, {"text": "persistence", "start": 23028.558, "duration": 4.482}, {"text": "for 10 years username can be any valid", "start": 23029.76, "duration": 7.44}, {"text": "domain name or even a made up name", "start": 23033.04, "duration": 5.36}, {"text": "so first", "start": 23037.2, "duration": 3.92}, {"text": "we'll use the rpc client command", "start": 23038.4, "duration": 4.158}, {"text": "to request", "start": 23041.12, "duration": 5.04}, {"text": "the set of the domain best", "start": 23042.558, "duration": 6.642}, {"text": "next we are going to use the in packets", "start": 23046.16, "duration": 6.478}, {"text": "secret dump command to dump hashes from", "start": 23049.2, "duration": 6.64}, {"text": "the domain controller so we can get keys", "start": 23052.638, "duration": 7.84}, {"text": "for the curb tgt account", "start": 23055.84, "duration": 7.6}, {"text": "okay so from this case we are now going", "start": 23060.478, "duration": 6.962}, {"text": "to look under the kerberos keys grabbed", "start": 23063.44, "duration": 5.358}, {"text": "and", "start": 23067.44, "duration": 5.038}, {"text": "we are interested in any of these keys", "start": 23068.798, "duration": 4.802}, {"text": "for", "start": 23072.478, "duration": 2.562}, {"text": "the curb", "start": 23073.6, "duration": 6.48}, {"text": "tgt account so to request the tgt", "start": 23075.04, "duration": 7.758}, {"text": "and also at the same time create a", "start": 23080.08, "duration": 4.718}, {"text": "backdoor user", "start": 23082.798, "duration": 4.482}, {"text": "this is the command we can execute so", "start": 23084.798, "duration": 4.562}, {"text": "we're using the impact", "start": 23087.28, "duration": 3.598}, {"text": "dash ticketer", "start": 23089.36, "duration": 5.598}, {"text": "and we passed along the aes key for the", "start": 23090.878, "duration": 7.362}, {"text": "curb tgt account", "start": 23094.958, "duration": 7.122}, {"text": "and this is the set of the domain we", "start": 23098.24, "duration": 5.36}, {"text": "attacking", "start": 23102.08, "duration": 4.16}, {"text": "and of course this is a domain name and", "start": 23103.6, "duration": 5.76}, {"text": "recall that i told you by default the", "start": 23106.24, "duration": 5.92}, {"text": "golden ticket will last for 10 years", "start": 23109.36, "duration": 5.518}, {"text": "that could be suspicious so we want to", "start": 23112.16, "duration": 5.92}, {"text": "have it reduced to just one year and", "start": 23114.878, "duration": 5.92}, {"text": "that is why we provide the duration for", "start": 23118.08, "duration": 3.84}, {"text": "one here", "start": 23120.798, "duration": 3.84}, {"text": "we can create any user we want so we can", "start": 23121.92, "duration": 5.76}, {"text": "make up any username so in this case the", "start": 23124.638, "duration": 5.602}, {"text": "username we're making up is fluffy", "start": 23127.68, "duration": 6.08}, {"text": "wabbit the ticket has been saved as", "start": 23130.24, "duration": 6.478}, {"text": "fluffy wabbit dot c cash", "start": 23133.76, "duration": 5.44}, {"text": "now we have a c cash so we can always", "start": 23136.718, "duration": 5.282}, {"text": "use it at any time and then be able to", "start": 23139.2, "duration": 7.2}, {"text": "achieve remote code execution", "start": 23142.0, "duration": 4.4}, {"text": "the next attack technique which is also", "start": 23149.04, "duration": 5.438}, {"text": "similar to golden tickets is silver", "start": 23151.36, "duration": 4.24}, {"text": "tickets", "start": 23154.478, "duration": 3.922}, {"text": "and the miter attack framework", "start": 23155.6, "duration": 5.68}, {"text": "attack id for this technique", "start": 23158.4, "duration": 6.28}, {"text": "is t1558.002", "start": 23161.28, "duration": 3.4}, {"text": "there are a few differences between", "start": 23166.638, "duration": 4.0}, {"text": "silver tickets and golden tickets first", "start": 23168.4, "duration": 3.2}, {"text": "of all", "start": 23170.638, "duration": 4.24}, {"text": "golden tickets we forge a tgt", "start": 23171.6, "duration": 5.68}, {"text": "for silver ticket we are forging ticket", "start": 23174.878, "duration": 4.962}, {"text": "granted services and second it only", "start": 23177.28, "duration": 5.678}, {"text": "requires machine account key we don't", "start": 23179.84, "duration": 6.16}, {"text": "need the curb tgt account third it can", "start": 23182.958, "duration": 6.722}, {"text": "be used to access any services without", "start": 23186.0, "duration": 6.08}, {"text": "touching the dc because the costs are", "start": 23189.68, "duration": 5.038}, {"text": "not made to the domain controller it is", "start": 23192.08, "duration": 4.96}, {"text": "being made to that particular", "start": 23194.718, "duration": 5.362}, {"text": "machine or the system that we did", "start": 23197.04, "duration": 4.96}, {"text": "extract the machine account password", "start": 23200.08, "duration": 2.718}, {"text": "from", "start": 23202.0, "duration": 3.12}, {"text": "silver tickets can also be considered as", "start": 23202.798, "duration": 5.602}, {"text": "persistence and also lateral movement on", "start": 23205.12, "duration": 6.08}, {"text": "the host machine one key thing to always", "start": 23208.4, "duration": 4.96}, {"text": "think about is silver ticket is", "start": 23211.2, "duration": 4.72}, {"text": "stealthier than gold in ticket because", "start": 23213.36, "duration": 3.68}, {"text": "we are not", "start": 23215.92, "duration": 3.44}, {"text": "actually requesting or we're not making", "start": 23217.04, "duration": 4.48}, {"text": "any requests to the domain controller it", "start": 23219.36, "duration": 4.8}, {"text": "is going directly to the specific", "start": 23221.52, "duration": 5.118}, {"text": "machine that we are requesting the key", "start": 23224.16, "duration": 5.04}, {"text": "from so let's take a quick look on a", "start": 23226.638, "duration": 5.92}, {"text": "demo on how we can execute a silver", "start": 23229.2, "duration": 5.598}, {"text": "ticket attack", "start": 23232.558, "duration": 5.282}, {"text": "so to begin the attack we already know", "start": 23234.798, "duration": 4.482}, {"text": "the", "start": 23237.84, "duration": 3.76}, {"text": "set of the domain", "start": 23239.28, "duration": 5.92}, {"text": "so next is we're going to extract the", "start": 23241.6, "duration": 5.92}, {"text": "the hash for the", "start": 23245.2, "duration": 4.88}, {"text": "machine account and this is going to be", "start": 23247.52, "duration": 5.92}, {"text": "for the machine or the system cabi", "start": 23250.08, "duration": 5.12}, {"text": "and we're going to use that we're going", "start": 23253.44, "duration": 2.96}, {"text": "to extract", "start": 23255.2, "duration": 4.48}, {"text": "such information using the hclassy", "start": 23256.4, "duration": 4.318}, {"text": "account", "start": 23259.68, "duration": 4.56}, {"text": "so what we are interested here", "start": 23260.718, "duration": 6.24}, {"text": "will be anything that has the", "start": 23264.24, "duration": 5.36}, {"text": "dollar sign here that means this is a", "start": 23266.958, "duration": 6.0}, {"text": "computer account or a system or machine", "start": 23269.6, "duration": 4.48}, {"text": "account", "start": 23272.958, "duration": 3.122}, {"text": "so now that we have the basic", "start": 23274.08, "duration": 4.08}, {"text": "information necessary for the silver", "start": 23276.08, "duration": 3.2}, {"text": "ticket", "start": 23278.16, "duration": 4.16}, {"text": "let's use the impact ticketer the same", "start": 23279.28, "duration": 5.518}, {"text": "way that we did with the", "start": 23282.32, "duration": 5.28}, {"text": "golden ticket to request", "start": 23284.798, "duration": 6.322}, {"text": "a tgs so in this case we only did make a", "start": 23287.6, "duration": 5.198}, {"text": "couple of changes", "start": 23291.12, "duration": 3.598}, {"text": "um actually two of them", "start": 23292.798, "duration": 6.0}, {"text": "one is the hash type is nt hash", "start": 23294.718, "duration": 7.522}, {"text": "and we also specify the spn or the", "start": 23298.798, "duration": 6.642}, {"text": "service we want to generate or we want", "start": 23302.24, "duration": 5.92}, {"text": "to request the tgs for", "start": 23305.44, "duration": 5.68}, {"text": "and we created our name or the backdoor", "start": 23308.16, "duration": 7.04}, {"text": "name as fluffy silver we should be able", "start": 23311.12, "duration": 6.8}, {"text": "to accomplish or achieve a remote code", "start": 23315.2, "duration": 4.16}, {"text": "execution", "start": 23317.92, "duration": 4.638}, {"text": "on this machine", "start": 23319.36, "duration": 3.198}, {"text": "that is right and who are we it's going", "start": 23323.28, "duration": 5.04}, {"text": "to be a system", "start": 23325.52, "duration": 2.8}, {"text": "so", "start": 23329.12, "duration": 4.56}, {"text": "this brings us to the end of the", "start": 23330.32, "duration": 7.44}, {"text": "silver tickets attack and silver tickets", "start": 23333.68, "duration": 6.4}, {"text": "and golden tickets are two types of", "start": 23337.76, "duration": 5.118}, {"text": "attacks or techniques we can use to", "start": 23340.08, "duration": 6.798}, {"text": "achieve persistence on a domain", "start": 23342.878, "duration": 8.242}, {"text": "so on most of our red team operations", "start": 23346.878, "duration": 6.562}, {"text": "or offensive operations", "start": 23351.12, "duration": 5.28}, {"text": "we would most likely find ourselves on", "start": 23353.44, "duration": 5.92}, {"text": "large organization and such", "start": 23356.4, "duration": 6.078}, {"text": "institutions may have more than one", "start": 23359.36, "duration": 6.96}, {"text": "domain or forest and to achieve our", "start": 23362.478, "duration": 7.682}, {"text": "actions on objectives we may need to", "start": 23366.32, "duration": 6.88}, {"text": "hop from one domain to another", "start": 23370.16, "duration": 5.28}, {"text": "we may most likely find ourselves on", "start": 23373.2, "duration": 4.56}, {"text": "what we call a child domain which you", "start": 23375.44, "duration": 6.56}, {"text": "have seen so far on best.wakanda.com", "start": 23377.76, "duration": 7.038}, {"text": "city so it is imperative that we", "start": 23382.0, "duration": 6.558}, {"text": "understand how this domain then works", "start": 23384.798, "duration": 7.202}, {"text": "and how relationships are built between", "start": 23388.558, "duration": 5.602}, {"text": "or among domains", "start": 23392.0, "duration": 5.52}, {"text": "and how during your offensive operations", "start": 23394.16, "duration": 5.92}, {"text": "or rating operations or any sort of", "start": 23397.52, "duration": 5.198}, {"text": "attacks you may have to abuse", "start": 23400.08, "duration": 5.68}, {"text": "some of these trust or configurations to", "start": 23402.718, "duration": 5.76}, {"text": "jump from one domain to another", "start": 23405.76, "duration": 5.28}, {"text": "most importantly jump from a child", "start": 23408.478, "duration": 4.722}, {"text": "domain to a forest", "start": 23411.04, "duration": 5.438}, {"text": "so when you create let's say your first", "start": 23413.2, "duration": 4.32}, {"text": "domain", "start": 23416.478, "duration": 3.602}, {"text": "that would normally become the forex for", "start": 23417.52, "duration": 5.358}, {"text": "this example we have the wakanda dot", "start": 23420.08, "duration": 5.44}, {"text": "city and then what happens is", "start": 23422.878, "duration": 5.362}, {"text": "you can create another domain", "start": 23425.52, "duration": 5.68}, {"text": "that will create what we call a link", "start": 23428.24, "duration": 6.478}, {"text": "between the child domain let's say best", "start": 23431.2, "duration": 6.08}, {"text": "and then the forest or the parent domain", "start": 23434.718, "duration": 5.602}, {"text": "called what canada city so what happens", "start": 23437.28, "duration": 5.278}, {"text": "is the trust which is created between", "start": 23440.32, "duration": 4.558}, {"text": "these two domains", "start": 23442.558, "duration": 4.4}, {"text": "happens through what we call", "start": 23444.878, "duration": 5.522}, {"text": "authentication systems that ensure a", "start": 23446.958, "duration": 6.642}, {"text": "flow of traffic between those two", "start": 23450.4, "duration": 4.96}, {"text": "domains", "start": 23453.6, "duration": 5.038}, {"text": "to have this authentication system work", "start": 23455.36, "duration": 4.4}, {"text": "properly", "start": 23458.638, "duration": 5.122}, {"text": "we have to implement some concept or use", "start": 23459.76, "duration": 5.118}, {"text": "a key", "start": 23463.76, "duration": 3.76}, {"text": "to negotiate traffic between these two", "start": 23464.878, "duration": 3.68}, {"text": "domains", "start": 23467.52, "duration": 3.76}, {"text": "and that key is called the inter", "start": 23468.558, "duration": 5.202}, {"text": "realm trust key", "start": 23471.28, "duration": 5.198}, {"text": "essentially that key facilitates", "start": 23473.76, "duration": 5.68}, {"text": "kerberos traffic between these two", "start": 23476.478, "duration": 5.682}, {"text": "domains or other domains", "start": 23479.44, "duration": 4.88}, {"text": "so let's take an example let's say", "start": 23482.16, "duration": 3.52}, {"text": "there's a user", "start": 23484.32, "duration": 3.36}, {"text": "within the child domain that you have", "start": 23485.68, "duration": 3.198}, {"text": "compromised", "start": 23487.68, "duration": 4.24}, {"text": "or any user is on a child domain and", "start": 23488.878, "duration": 6.162}, {"text": "they want to request a resource", "start": 23491.92, "duration": 5.76}, {"text": "but such resource is not on the child", "start": 23495.04, "duration": 5.518}, {"text": "domain but it's on a forest so what is", "start": 23497.68, "duration": 6.08}, {"text": "going to happen is the child domains", "start": 23500.558, "duration": 6.882}, {"text": "domain controller will send a request to", "start": 23503.76, "duration": 6.878}, {"text": "the parent or the forest domain or the", "start": 23507.44, "duration": 4.48}, {"text": "kdc", "start": 23510.638, "duration": 3.202}, {"text": "which is the key", "start": 23511.92, "duration": 3.68}, {"text": "distribution center", "start": 23513.84, "duration": 5.2}, {"text": "or the trusted domain kdc to be able to", "start": 23515.6, "duration": 5.92}, {"text": "request such data", "start": 23519.04, "duration": 5.04}, {"text": "for that to happen they have to use the", "start": 23521.52, "duration": 5.6}, {"text": "intel both domain the requesting one", "start": 23524.08, "duration": 5.44}, {"text": "would have to use what we call the inter", "start": 23527.12, "duration": 3.838}, {"text": "realm key", "start": 23529.52, "duration": 5.6}, {"text": "to sign the inter realm tgt", "start": 23530.958, "duration": 6.642}, {"text": "from the user", "start": 23535.12, "duration": 6.56}, {"text": "so this is just an example of how a", "start": 23537.6, "duration": 7.278}, {"text": "trust can be established between either", "start": 23541.68, "duration": 5.52}, {"text": "domains or forest", "start": 23544.878, "duration": 4.882}, {"text": "very simple so on this left side here we", "start": 23547.2, "duration": 5.04}, {"text": "have theblue.com", "start": 23549.76, "duration": 5.198}, {"text": "and we have the red.com", "start": 23552.24, "duration": 5.52}, {"text": "and each one of them is representing the", "start": 23554.958, "duration": 5.442}, {"text": "forest or the parent domain now these", "start": 23557.76, "duration": 6.16}, {"text": "two can establish the forest trust from", "start": 23560.4, "duration": 6.158}, {"text": "child to parent domain trust it is going", "start": 23563.92, "duration": 4.958}, {"text": "to be this one for instance we have the", "start": 23566.558, "duration": 5.202}, {"text": "sales.blue.com", "start": 23568.878, "duration": 5.202}, {"text": "so by default there is going to be a", "start": 23571.76, "duration": 4.32}, {"text": "trust between this parent and a child", "start": 23574.08, "duration": 3.28}, {"text": "domain here", "start": 23576.08, "duration": 3.6}, {"text": "there could also be a trust between", "start": 23577.36, "duration": 5.118}, {"text": "those two child domains as you can see", "start": 23579.68, "duration": 5.68}, {"text": "here through what we call the tree", "start": 23582.478, "duration": 4.0}, {"text": "domain", "start": 23585.36, "duration": 4.0}, {"text": "so let's say a user is down here and the", "start": 23586.478, "duration": 5.762}, {"text": "user wants to request a resource within", "start": 23589.36, "duration": 5.438}, {"text": "the blue sales.blue.com", "start": 23592.24, "duration": 3.52}, {"text": "but", "start": 23594.798, "duration": 2.882}, {"text": "the resource is not here but it can be", "start": 23595.76, "duration": 3.52}, {"text": "found within the parent domain or the", "start": 23597.68, "duration": 4.4}, {"text": "forest what is going to happen is the", "start": 23599.28, "duration": 5.358}, {"text": "domain controller is going to take this", "start": 23602.08, "duration": 4.32}, {"text": "users tgt", "start": 23604.638, "duration": 4.32}, {"text": "and then take the intel realm key and", "start": 23606.4, "duration": 4.558}, {"text": "then wrap around it and then forward it", "start": 23608.958, "duration": 4.562}, {"text": "over to this domain parent domain i'm", "start": 23610.958, "duration": 4.642}, {"text": "the forest right and because there's a", "start": 23613.52, "duration": 4.32}, {"text": "trust between these two domains we're", "start": 23615.6, "duration": 4.8}, {"text": "going this um the kdc here is going to", "start": 23617.84, "duration": 5.28}, {"text": "take this tgt to make sure that there", "start": 23620.4, "duration": 5.52}, {"text": "are right authentication authorization", "start": 23623.12, "duration": 5.12}, {"text": "and then look around and see if the user", "start": 23625.92, "duration": 5.12}, {"text": "has the proper privilege to access such", "start": 23628.24, "duration": 5.44}, {"text": "a resource and send it back to this", "start": 23631.04, "duration": 5.28}, {"text": "child domain for the user to have access", "start": 23633.68, "duration": 4.958}, {"text": "to such a resource", "start": 23636.32, "duration": 5.2}, {"text": "so let's take a look at some types of", "start": 23638.638, "duration": 6.402}, {"text": "trust we have the automated trust and we", "start": 23641.52, "duration": 5.438}, {"text": "have the manual trust child parent", "start": 23645.04, "duration": 4.08}, {"text": "domain is by default it is what we call", "start": 23646.958, "duration": 5.282}, {"text": "the implicit so whenever you create your", "start": 23649.12, "duration": 5.358}, {"text": "first domain that would be your forest", "start": 23652.24, "duration": 3.68}, {"text": "okay so let's say", "start": 23654.478, "duration": 4.48}, {"text": "uh blue.com becomes the", "start": 23655.92, "duration": 6.16}, {"text": "domain and the forest but any additional", "start": 23658.958, "duration": 5.6}, {"text": "domain that you create that becomes a", "start": 23662.08, "duration": 4.878}, {"text": "child of it we have what we call the", "start": 23664.558, "duration": 5.762}, {"text": "implicit bi-directional relationship", "start": 23666.958, "duration": 6.162}, {"text": "implicit or bi-directional means both", "start": 23670.32, "duration": 4.8}, {"text": "domains trust each other", "start": 23673.12, "duration": 4.0}, {"text": "the same way with the tree", "start": 23675.12, "duration": 5.358}, {"text": "domain can also be created implicitly", "start": 23677.12, "duration": 6.24}, {"text": "bi-directional between whenever you add", "start": 23680.478, "duration": 5.682}, {"text": "a new domain to a tree we can also", "start": 23683.36, "duration": 4.16}, {"text": "create", "start": 23686.16, "duration": 4.96}, {"text": "manual trust between domains the first", "start": 23687.52, "duration": 5.68}, {"text": "one is just a shortcut it's a link", "start": 23691.12, "duration": 4.16}, {"text": "created between a child domain to", "start": 23693.2, "duration": 4.96}, {"text": "improve authentication request we also", "start": 23695.28, "duration": 6.56}, {"text": "have external external is non-transitive", "start": 23698.16, "duration": 6.318}, {"text": "relationship created between two domains", "start": 23701.84, "duration": 5.84}, {"text": "from different forests the realm is a", "start": 23704.478, "duration": 6.4}, {"text": "trust which we create between windows", "start": 23707.68, "duration": 6.6}, {"text": "and non-windows domain to allow", "start": 23710.878, "duration": 6.482}, {"text": "cross-platform interoperability", "start": 23714.28, "duration": 5.08}, {"text": "i have done some operation where", "start": 23717.36, "duration": 4.16}, {"text": "the client had a specific domain which", "start": 23719.36, "duration": 5.278}, {"text": "was all linux machine domain but they", "start": 23721.52, "duration": 5.76}, {"text": "had to create a relationship between", "start": 23724.638, "duration": 4.08}, {"text": "that domain", "start": 23727.28, "duration": 2.72}, {"text": "and also", "start": 23728.718, "duration": 3.76}, {"text": "another domain and that was that is", "start": 23730.0, "duration": 6.718}, {"text": "where the realm type of trust comes in", "start": 23732.478, "duration": 5.922}, {"text": "um the forest is a transitive", "start": 23736.718, "duration": 3.682}, {"text": "relationship which is created between", "start": 23738.4, "duration": 5.04}, {"text": "two forays so if you look at the diagram", "start": 23740.4, "duration": 6.0}, {"text": "here this is going to be the forest to", "start": 23743.44, "duration": 4.96}, {"text": "forest trust", "start": 23746.4, "duration": 4.64}, {"text": "so now once we understand the types or", "start": 23748.4, "duration": 4.88}, {"text": "the different kinds of trust that can be", "start": 23751.04, "duration": 5.28}, {"text": "created between domains let's look at", "start": 23753.28, "duration": 6.32}, {"text": "the direction of flow of information", "start": 23756.32, "duration": 5.28}, {"text": "because sometimes", "start": 23759.6, "duration": 4.878}, {"text": "depending on how the direction is made", "start": 23761.6, "duration": 5.76}, {"text": "it may impact how you can gain access or", "start": 23764.478, "duration": 5.202}, {"text": "jump into another domain when it comes", "start": 23767.36, "duration": 5.198}, {"text": "to moving from one domain to another the", "start": 23769.68, "duration": 6.16}, {"text": "first one is just a one way that means", "start": 23772.558, "duration": 5.92}, {"text": "one domain trust the other let's say we", "start": 23775.84, "duration": 5.52}, {"text": "have the one way domain truss where", "start": 23778.478, "duration": 6.882}, {"text": "domain a trust domain b so that means", "start": 23781.36, "duration": 7.118}, {"text": "traffic will flow from domain a", "start": 23785.36, "duration": 6.16}, {"text": "to domain b and not the other way around", "start": 23788.478, "duration": 5.682}, {"text": "the two way is what you might see a lot", "start": 23791.52, "duration": 5.6}, {"text": "when it comes to a parent child domain", "start": 23794.16, "duration": 5.36}, {"text": "both domain trust each other so traffic", "start": 23797.12, "duration": 4.16}, {"text": "goes either way", "start": 23799.52, "duration": 4.24}, {"text": "transitive is i would say trust by", "start": 23801.28, "duration": 4.8}, {"text": "association so let's say", "start": 23803.76, "duration": 4.798}, {"text": "domain a trust domain b", "start": 23806.08, "duration": 5.04}, {"text": "domain b trust domain c", "start": 23808.558, "duration": 3.602}, {"text": "then", "start": 23811.12, "duration": 3.2}, {"text": "technically domain a is going to trust", "start": 23812.16, "duration": 5.6}, {"text": "domain c because domain a knows that", "start": 23814.32, "duration": 7.6}, {"text": "domain b trusts c so if domain b trusts", "start": 23817.76, "duration": 7.68}, {"text": "domain c then why not trust c as well so", "start": 23821.92, "duration": 6.32}, {"text": "it is just basically i know you and you", "start": 23825.44, "duration": 4.72}, {"text": "know that person that means i'm going to", "start": 23828.24, "duration": 3.84}, {"text": "know that person too that kind of", "start": 23830.16, "duration": 3.68}, {"text": "relationship", "start": 23832.08, "duration": 3.68}, {"text": "um at this point we've been able to", "start": 23833.84, "duration": 4.638}, {"text": "compromise the child domain", "start": 23835.76, "duration": 5.84}, {"text": "our goal right now is how can we jump", "start": 23838.478, "duration": 4.962}, {"text": "into the forest domain which is the", "start": 23841.6, "duration": 4.8}, {"text": "wakanda dot city so let's take a look at", "start": 23843.44, "duration": 5.038}, {"text": "how can we once we on a domain", "start": 23846.4, "duration": 4.8}, {"text": "controller of a child domain", "start": 23848.478, "duration": 5.282}, {"text": "what information do we need to look for", "start": 23851.2, "duration": 5.758}, {"text": "in order to be able to abuse that trust", "start": 23853.76, "duration": 6.24}, {"text": "and then jump into and gain access to", "start": 23856.958, "duration": 5.6}, {"text": "the forest environment", "start": 23860.0, "duration": 4.558}, {"text": "okay so in order to", "start": 23862.558, "duration": 4.882}, {"text": "abuse the forest trust and jump into the", "start": 23864.558, "duration": 3.842}, {"text": "forest", "start": 23867.44, "duration": 4.08}, {"text": "let us begin with some attack approach", "start": 23868.4, "duration": 5.76}, {"text": "and one of them is first of all", "start": 23871.52, "duration": 6.48}, {"text": "mapping the domain trust between this", "start": 23874.16, "duration": 6.718}, {"text": "and the forest right now as you can see", "start": 23878.0, "duration": 5.04}, {"text": "i'm on this server which is the domain", "start": 23880.878, "duration": 5.122}, {"text": "controller and i'm logged in as p", "start": 23883.04, "duration": 6.0}, {"text": "lumumba who is a domain admin on the", "start": 23886.0, "duration": 4.558}, {"text": "child domain", "start": 23889.04, "duration": 4.64}, {"text": "and i have imported power view to help", "start": 23890.558, "duration": 7.202}, {"text": "us in mapping out the domain trust", "start": 23893.68, "duration": 6.64}, {"text": "and we can see that the source is going", "start": 23897.76, "duration": 4.878}, {"text": "to be our child domain", "start": 23900.32, "duration": 4.88}, {"text": "and the target name is going to be", "start": 23902.638, "duration": 3.92}, {"text": "wakanda", "start": 23905.2, "duration": 3.598}, {"text": "and the trust direction", "start": 23906.558, "duration": 5.042}, {"text": "is bi-directional so that means the", "start": 23908.798, "duration": 5.042}, {"text": "domain that we have compromised which is", "start": 23911.6, "duration": 4.878}, {"text": "the bus dot wakanda city", "start": 23913.84, "duration": 6.48}, {"text": "and wakanda city have a bi-directional", "start": 23916.478, "duration": 5.202}, {"text": "trust", "start": 23920.32, "duration": 5.44}, {"text": "so list of domain trust we have wakanda", "start": 23921.68, "duration": 6.958}, {"text": "which is the wakanda city and then we", "start": 23925.76, "duration": 4.24}, {"text": "have bast", "start": 23928.638, "duration": 2.962}, {"text": "which is best", "start": 23930.0, "duration": 3.04}, {"text": "dot wakanda", "start": 23931.6, "duration": 4.72}, {"text": "and we can see that it's a forest tree", "start": 23933.04, "duration": 6.0}, {"text": "root direct outbound", "start": 23936.32, "duration": 6.08}, {"text": "direct inbound from the previous diagram", "start": 23939.04, "duration": 6.48}, {"text": "for the blue.com and the red.com", "start": 23942.4, "duration": 4.88}, {"text": "underneath each one of them there was", "start": 23945.52, "duration": 4.72}, {"text": "more than one domain so what if", "start": 23947.28, "duration": 5.12}, {"text": "bass.wakanda.city", "start": 23950.24, "duration": 4.398}, {"text": "isn't the only domain that the forest", "start": 23952.4, "duration": 6.96}, {"text": "has right so we can type in get", "start": 23954.638, "duration": 6.0}, {"text": "net", "start": 23959.36, "duration": 2.48}, {"text": "forest", "start": 23960.638, "duration": 3.042}, {"text": "domain", "start": 23961.84, "duration": 5.52}, {"text": "and then we specify our forest", "start": 23963.68, "duration": 3.68}, {"text": "hit", "start": 23967.84, "duration": 4.56}, {"text": "enter if there was more than one we", "start": 23968.84, "duration": 6.6}, {"text": "would find those but it looks like", "start": 23972.4, "duration": 5.92}, {"text": "this is a child domain and then this is", "start": 23975.44, "duration": 4.96}, {"text": "the parent and that's it", "start": 23978.32, "duration": 5.68}, {"text": "so now that we've been able to map out", "start": 23980.4, "duration": 5.36}, {"text": "our trust", "start": 23984.0, "duration": 4.958}, {"text": "let's look into how we can abuse this", "start": 23985.76, "duration": 6.718}, {"text": "trust between best and the wakanda", "start": 23988.958, "duration": 4.562}, {"text": "domain", "start": 23992.478, "duration": 3.522}, {"text": "you always almost all the time here", "start": 23993.52, "duration": 4.88}, {"text": "about the domain is not the", "start": 23996.0, "duration": 4.718}, {"text": "trust bundle essentially what he's", "start": 23998.4, "duration": 3.6}, {"text": "saying is", "start": 24000.718, "duration": 3.602}, {"text": "the trust between a child domain and a", "start": 24002.0, "duration": 5.12}, {"text": "parent or between other domains doesn't", "start": 24004.32, "duration": 6.158}, {"text": "necessarily provide any security there's", "start": 24007.12, "duration": 5.598}, {"text": "always going to be a mesh that we are", "start": 24010.478, "duration": 4.4}, {"text": "going to have to unwrap to be able to", "start": 24012.718, "duration": 4.642}, {"text": "jump from one domain to another", "start": 24014.878, "duration": 4.322}, {"text": "all right so essentially with the right", "start": 24017.36, "duration": 4.0}, {"text": "level of access on a domain or a child", "start": 24019.2, "duration": 6.96}, {"text": "domain such as dc sync or domain admin", "start": 24021.36, "duration": 7.518}, {"text": "privilege we can abuse that trust to", "start": 24026.16, "duration": 4.638}, {"text": "compromise the forest", "start": 24028.878, "duration": 3.92}, {"text": "there are several ways to", "start": 24030.798, "duration": 4.482}, {"text": "carry out such an attack depending on", "start": 24032.798, "duration": 4.882}, {"text": "where you find yourself or the domains", "start": 24035.28, "duration": 4.32}, {"text": "that you find yourself in just going to", "start": 24037.68, "duration": 4.08}, {"text": "focus on just two here", "start": 24039.6, "duration": 4.878}, {"text": "one of them is what we call the said", "start": 24041.76, "duration": 5.92}, {"text": "history abuse or let's see it happen for", "start": 24044.478, "duration": 5.762}, {"text": "that matter the another one is forest", "start": 24047.68, "duration": 5.76}, {"text": "membership so let's say in a forest okay", "start": 24050.24, "duration": 6.08}, {"text": "a user object in a child domain can have", "start": 24053.44, "duration": 6.72}, {"text": "the acid history set to help facilitate", "start": 24056.32, "duration": 6.318}, {"text": "migration of users from one domain to", "start": 24060.16, "duration": 5.36}, {"text": "another what this means is most of the", "start": 24062.638, "duration": 3.84}, {"text": "time", "start": 24065.52, "duration": 3.76}, {"text": "when a company acquires another company", "start": 24066.478, "duration": 4.4}, {"text": "and that is the most um one of the", "start": 24069.28, "duration": 3.438}, {"text": "classical example that we find ourselves", "start": 24070.878, "duration": 4.0}, {"text": "when it comes to state history so let's", "start": 24072.718, "duration": 5.92}, {"text": "say company a acquires company b what is", "start": 24074.878, "duration": 5.442}, {"text": "going to happen is they would have to", "start": 24078.638, "duration": 4.722}, {"text": "eventually move the users or all the", "start": 24080.32, "duration": 6.96}, {"text": "assets from company domain b to the", "start": 24083.36, "duration": 6.16}, {"text": "company ace infrastructure", "start": 24087.28, "duration": 4.16}, {"text": "there are two many ways they can do this", "start": 24089.52, "duration": 4.958}, {"text": "they can just burn the entire domain", "start": 24091.44, "duration": 5.038}, {"text": "base infrastructure and then just", "start": 24094.478, "duration": 4.16}, {"text": "essentially rebuild everything or add", "start": 24096.478, "duration": 6.08}, {"text": "all the users into the new domain a", "start": 24098.638, "duration": 6.24}, {"text": "now that could be something easier if", "start": 24102.558, "duration": 4.482}, {"text": "the domain b that had been acquired is", "start": 24104.878, "duration": 5.122}, {"text": "just about two or three users but let's", "start": 24107.04, "duration": 4.64}, {"text": "say you have about", "start": 24110.0, "duration": 4.16}, {"text": "thousands of users in domain b that", "start": 24111.68, "duration": 4.64}, {"text": "you're transitioning or migrating into", "start": 24114.16, "duration": 4.718}, {"text": "the domain a it is going to be a lot of", "start": 24116.32, "duration": 5.84}, {"text": "work um rebuilding everything or adding", "start": 24118.878, "duration": 6.802}, {"text": "all of them into the new domain", "start": 24122.16, "duration": 6.16}, {"text": "so what is going to happen then is we", "start": 24125.68, "duration": 5.278}, {"text": "can configure each of the user objects", "start": 24128.32, "duration": 5.28}, {"text": "in the child domain or the new domain", "start": 24130.958, "duration": 6.322}, {"text": "by setting their seat history to the new", "start": 24133.6, "duration": 6.08}, {"text": "domain that they are being joined into", "start": 24137.28, "duration": 4.72}, {"text": "so we ask yourself how is that relevant", "start": 24139.68, "duration": 4.878}, {"text": "when it comes to you know attacking or", "start": 24142.0, "duration": 4.558}, {"text": "writing operations or trying to abuse", "start": 24144.558, "duration": 4.4}, {"text": "the forest let's say we create our own", "start": 24146.558, "duration": 5.362}, {"text": "user within the chart domain and then", "start": 24148.958, "duration": 5.92}, {"text": "set the set of that user to an", "start": 24151.92, "duration": 6.718}, {"text": "enterprise admin set then that user is", "start": 24154.878, "duration": 7.202}, {"text": "going to have the privileges or access", "start": 24158.638, "duration": 6.16}, {"text": "similar to the enterprise admin an", "start": 24162.08, "duration": 6.24}, {"text": "enterprise admin is mostly the person or", "start": 24164.798, "duration": 6.16}, {"text": "the user which is inside of the has a", "start": 24168.32, "duration": 5.84}, {"text": "privilege within the entire forest so if", "start": 24170.958, "duration": 5.122}, {"text": "we can have the", "start": 24174.16, "duration": 4.398}, {"text": "privileges of an enterprise admin", "start": 24176.08, "duration": 4.798}, {"text": "automatically we have now compromised", "start": 24178.558, "duration": 5.042}, {"text": "the entire forest so even though the", "start": 24180.878, "duration": 6.0}, {"text": "seat history is a protected attribute", "start": 24183.6, "duration": 7.038}, {"text": "we are able to modify a user's seat", "start": 24186.878, "duration": 8.0}, {"text": "history if we can forge a golden ticket", "start": 24190.638, "duration": 6.722}, {"text": "which you have demonstrated in one of", "start": 24194.878, "duration": 4.562}, {"text": "our persistence it is essentially the", "start": 24197.36, "duration": 5.598}, {"text": "same thing here we just modified a user", "start": 24199.44, "duration": 6.08}, {"text": "sit with a new one", "start": 24202.958, "duration": 5.122}, {"text": "which is equivalent to an enterprise", "start": 24205.52, "duration": 3.52}, {"text": "admin", "start": 24208.08, "duration": 2.0}, {"text": "so", "start": 24209.04, "duration": 3.918}, {"text": "let us take a look at the step-by-step", "start": 24210.08, "duration": 6.0}, {"text": "process on how we can", "start": 24212.958, "duration": 6.562}, {"text": "abuse safe harping to compromise a", "start": 24216.08, "duration": 4.798}, {"text": "forest", "start": 24219.52, "duration": 4.56}, {"text": "so sit hopping the miter attack", "start": 24220.878, "duration": 4.322}, {"text": "framework", "start": 24224.08, "duration": 3.44}, {"text": "attack id number", "start": 24225.2, "duration": 5.598}, {"text": "for this technique is t", "start": 24227.52, "duration": 7.92}, {"text": "one one three four dot zero zero five", "start": 24230.798, "duration": 5.84}, {"text": "so", "start": 24235.44, "duration": 3.76}, {"text": "to carry out this attack i have taken", "start": 24236.638, "duration": 4.962}, {"text": "liberty to", "start": 24239.2, "duration": 4.64}, {"text": "make some notes on", "start": 24241.6, "duration": 4.48}, {"text": "things that we need to do to carry out", "start": 24243.84, "duration": 3.76}, {"text": "this attack", "start": 24246.08, "duration": 5.12}, {"text": "so let's start with the child domains", "start": 24247.6, "duration": 4.878}, {"text": "said", "start": 24251.2, "duration": 4.8}, {"text": "we need the enterprise admins sit", "start": 24252.478, "duration": 7.122}, {"text": "and we have the enterprise", "start": 24256.0, "duration": 6.878}, {"text": "admins sit here", "start": 24259.6, "duration": 6.878}, {"text": "next is we need a child domains curve", "start": 24262.878, "duration": 7.202}, {"text": "tgt nt hash", "start": 24266.478, "duration": 6.4}, {"text": "so we're going to use mimikat's", "start": 24270.08, "duration": 4.798}, {"text": "dc sync option", "start": 24272.878, "duration": 4.482}, {"text": "to extract the", "start": 24274.878, "duration": 3.362}, {"text": "curb", "start": 24277.36, "duration": 3.358}, {"text": "tgt's hash", "start": 24278.24, "duration": 3.6}, {"text": "from the", "start": 24280.718, "duration": 3.042}, {"text": "child domain which is the best dot", "start": 24281.84, "duration": 4.0}, {"text": "wakanda the city", "start": 24283.76, "duration": 4.4}, {"text": "and this is what we're looking for so", "start": 24285.84, "duration": 3.84}, {"text": "copy that", "start": 24288.16, "duration": 3.6}, {"text": "so we should have all the necessary", "start": 24289.68, "duration": 3.44}, {"text": "ingredients", "start": 24291.76, "duration": 4.32}, {"text": "to carry out this attack", "start": 24293.12, "duration": 4.88}, {"text": "so let's head back to", "start": 24296.08, "duration": 3.44}, {"text": "our terminal", "start": 24298.0, "duration": 4.4}, {"text": "and this is the entire", "start": 24299.52, "duration": 5.6}, {"text": "command that we need", "start": 24302.4, "duration": 5.84}, {"text": "to execute this attack first of all", "start": 24305.12, "duration": 5.04}, {"text": "let's identify", "start": 24308.24, "duration": 3.6}, {"text": "the list of computers", "start": 24310.16, "duration": 4.638}, {"text": "currently on this domain all right so", "start": 24311.84, "duration": 4.56}, {"text": "currently there are only two machines", "start": 24314.798, "duration": 3.84}, {"text": "here charla is going to be the current", "start": 24316.4, "duration": 4.8}, {"text": "domain control and this most likely", "start": 24318.638, "duration": 5.362}, {"text": "would be just a host machine in that", "start": 24321.2, "duration": 3.84}, {"text": "forest", "start": 24324.0, "duration": 3.04}, {"text": "and as you can see yes", "start": 24325.04, "duration": 4.4}, {"text": "this is domain controller so", "start": 24327.04, "duration": 3.678}, {"text": "now that", "start": 24329.44, "duration": 4.16}, {"text": "we are ready to carry out the attack", "start": 24330.718, "duration": 6.562}, {"text": "let's replace this with our information", "start": 24333.6, "duration": 5.358}, {"text": "okay so", "start": 24337.28, "duration": 5.278}, {"text": "we should be all set right now", "start": 24338.958, "duration": 4.962}, {"text": "we're going to", "start": 24342.558, "duration": 3.602}, {"text": "paste this and let's run through the", "start": 24343.92, "duration": 4.638}, {"text": "command again we're going to run the", "start": 24346.16, "duration": 6.0}, {"text": "golden ticket technique using memocats", "start": 24348.558, "duration": 6.16}, {"text": "we're creating our own user called real", "start": 24352.16, "duration": 3.52}, {"text": "evil", "start": 24354.718, "duration": 2.642}, {"text": "this is the child domain we have", "start": 24355.68, "duration": 3.198}, {"text": "compromised", "start": 24357.36, "duration": 4.4}, {"text": "this is a set of the child domain we", "start": 24358.878, "duration": 6.642}, {"text": "have the anti-hash of the curb tgt", "start": 24361.76, "duration": 5.118}, {"text": "account", "start": 24365.52, "duration": 3.358}, {"text": "and then we also have the set of the", "start": 24366.878, "duration": 4.482}, {"text": "enterprise admin and we are running the", "start": 24368.878, "duration": 5.282}, {"text": "pass ticket attack so first of all let", "start": 24371.36, "duration": 5.92}, {"text": "us confirm we don't have access to", "start": 24374.16, "duration": 6.478}, {"text": "the forest domain controller", "start": 24377.28, "duration": 5.358}, {"text": "we have access denied", "start": 24380.638, "duration": 3.762}, {"text": "let's bring up", "start": 24382.638, "duration": 3.282}, {"text": "mimikatz", "start": 24384.4, "duration": 3.76}, {"text": "and now let's run", "start": 24385.92, "duration": 3.76}, {"text": "the attack", "start": 24388.16, "duration": 4.638}, {"text": "and we can see that a golden ticket", "start": 24389.68, "duration": 5.76}, {"text": "for rail at best", "start": 24392.798, "duration": 6.562}, {"text": "that's what canada city was successful", "start": 24395.44, "duration": 3.92}, {"text": "we can now access", "start": 24402.32, "duration": 4.318}, {"text": "the domain controller", "start": 24404.4, "duration": 4.318}, {"text": "on the forest", "start": 24406.638, "duration": 4.802}, {"text": "so we've been able to abuse the forest", "start": 24408.718, "duration": 4.562}, {"text": "right now", "start": 24411.44, "duration": 3.92}, {"text": "the next attack technique we're going to", "start": 24413.28, "duration": 4.08}, {"text": "carry out to", "start": 24415.36, "duration": 5.278}, {"text": "jump into the forest is what we call the", "start": 24417.36, "duration": 5.598}, {"text": "foreign member", "start": 24420.638, "duration": 5.442}, {"text": "what happens is within the child domain", "start": 24422.958, "duration": 7.042}, {"text": "there will usually be a user or a group", "start": 24426.08, "duration": 6.638}, {"text": "that is allowed to access", "start": 24430.0, "duration": 4.718}, {"text": "one of the domains it can either be a", "start": 24432.718, "duration": 5.042}, {"text": "bi-directional or just one way", "start": 24434.718, "duration": 4.962}, {"text": "so what happens is", "start": 24437.76, "duration": 4.4}, {"text": "we want to first of all map out all the", "start": 24439.68, "duration": 4.958}, {"text": "trusts both in the forest and domain", "start": 24442.16, "duration": 5.12}, {"text": "that we can reach from our child domain", "start": 24444.638, "duration": 4.722}, {"text": "we're going to look within our child", "start": 24447.28, "duration": 5.358}, {"text": "domain and find out if there's any user", "start": 24449.36, "duration": 6.4}, {"text": "or any group that has access", "start": 24452.638, "duration": 6.24}, {"text": "to resources in let's say the parent", "start": 24455.76, "duration": 6.24}, {"text": "domain which is the wakanda city", "start": 24458.878, "duration": 6.162}, {"text": "so let's jump into a demo and look at", "start": 24462.0, "duration": 5.44}, {"text": "how we can map out the domain that we", "start": 24465.04, "duration": 5.04}, {"text": "have compromised and find out if there", "start": 24467.44, "duration": 6.0}, {"text": "is any link through a user or group that", "start": 24470.08, "duration": 7.28}, {"text": "we can use to reach the forest domain", "start": 24473.44, "duration": 7.038}, {"text": "right now we are still on the domain", "start": 24477.36, "duration": 4.48}, {"text": "controller", "start": 24480.478, "duration": 4.962}, {"text": "of the best.wakanda.city", "start": 24481.84, "duration": 5.92}, {"text": "which is a child domain we want to find", "start": 24485.44, "duration": 5.6}, {"text": "out which users belong to any group", "start": 24487.76, "duration": 6.16}, {"text": "outside of this current domain so it", "start": 24491.04, "duration": 4.88}, {"text": "looks like the user", "start": 24493.92, "duration": 4.4}, {"text": "t sankara", "start": 24495.92, "duration": 4.798}, {"text": "who happens to be within our current", "start": 24498.32, "duration": 3.52}, {"text": "domain", "start": 24500.718, "duration": 3.522}, {"text": "belongs to a group within this parent", "start": 24501.84, "duration": 6.08}, {"text": "domain and the group's name is hattut z", "start": 24504.24, "duration": 7.28}, {"text": "razi so this group is actually not", "start": 24507.92, "duration": 6.558}, {"text": "within this best it is actually part of", "start": 24511.52, "duration": 5.76}, {"text": "this another command we can do is to", "start": 24514.478, "duration": 4.24}, {"text": "also find", "start": 24517.28, "duration": 2.8}, {"text": "all the groups", "start": 24518.718, "duration": 5.522}, {"text": "with users who are outside of the best", "start": 24520.08, "duration": 7.28}, {"text": "dot wakanda.city domain so we can", "start": 24524.24, "duration": 4.638}, {"text": "type get", "start": 24527.36, "duration": 3.76}, {"text": "domain", "start": 24528.878, "duration": 4.08}, {"text": "foreign group", "start": 24531.12, "duration": 5.12}, {"text": "and this time we are going to specify", "start": 24532.958, "duration": 6.642}, {"text": "the parent or the target domain", "start": 24536.24, "duration": 6.318}, {"text": "and again a confirmation here is this is", "start": 24539.6, "duration": 6.24}, {"text": "a target domain and this is the group", "start": 24542.558, "duration": 6.0}, {"text": "and we can see that the", "start": 24545.84, "duration": 5.28}, {"text": "member domain is this", "start": 24548.558, "duration": 4.08}, {"text": "the child domain", "start": 24551.12, "duration": 4.72}, {"text": "and the name that we found was the t", "start": 24552.638, "duration": 7.042}, {"text": "sankara next we want to confirm that we", "start": 24555.84, "duration": 6.08}, {"text": "can't even hit this box we don't have", "start": 24559.68, "duration": 4.48}, {"text": "any access so we're going to find out", "start": 24561.92, "duration": 5.44}, {"text": "how can we abuse the", "start": 24564.16, "duration": 6.398}, {"text": "foreign group membership or the foreign", "start": 24567.36, "duration": 5.04}, {"text": "user membership", "start": 24570.558, "duration": 4.962}, {"text": "and be able to gain access later on into", "start": 24572.4, "duration": 6.078}, {"text": "this box", "start": 24575.52, "duration": 2.958}, {"text": "so what we have just done is", "start": 24579.76, "duration": 7.68}, {"text": "we have to extract the ntlm hash of", "start": 24582.958, "duration": 7.122}, {"text": "the tsankara user because we know this", "start": 24587.44, "duration": 5.358}, {"text": "user has a relationship between our", "start": 24590.08, "duration": 7.2}, {"text": "child domain and the forest so if we can", "start": 24592.798, "duration": 7.76}, {"text": "act as this user we might be able to", "start": 24597.28, "duration": 6.72}, {"text": "access resources on the forest domain", "start": 24600.558, "duration": 5.362}, {"text": "so we're going to copy", "start": 24604.0, "duration": 5.92}, {"text": "t sankara's ntlm hash", "start": 24605.92, "duration": 5.84}, {"text": "and of course we use", "start": 24609.92, "duration": 5.28}, {"text": "mimikaz to dump the", "start": 24611.76, "duration": 6.718}, {"text": "ntlm hash of tsankara because we have a", "start": 24615.2, "duration": 6.16}, {"text": "domain admin privilege on this child", "start": 24618.478, "duration": 5.922}, {"text": "domain and we use the dc sync", "start": 24621.36, "duration": 7.118}, {"text": "to extract the ntlm hash of this user", "start": 24624.4, "duration": 6.558}, {"text": "next we are going to execute a pass the", "start": 24628.478, "duration": 5.202}, {"text": "hash attack", "start": 24630.958, "duration": 5.122}, {"text": "so this is going to be the command we", "start": 24633.68, "duration": 6.4}, {"text": "will run to execute a pass a hash attack", "start": 24636.08, "duration": 5.52}, {"text": "to pop", "start": 24640.08, "duration": 2.638}, {"text": "cmd", "start": 24641.6, "duration": 2.24}, {"text": "for us", "start": 24642.718, "duration": 4.08}, {"text": "so this is going to pop a cmd", "start": 24643.84, "duration": 4.16}, {"text": "for us", "start": 24646.798, "duration": 3.282}, {"text": "and that the", "start": 24648.0, "duration": 5.44}, {"text": "session of the user t sankara so if you", "start": 24650.08, "duration": 4.878}, {"text": "can look", "start": 24653.44, "duration": 3.518}, {"text": "this is a user", "start": 24654.958, "duration": 3.76}, {"text": "this is a domain", "start": 24656.958, "duration": 4.482}, {"text": "and we pop the cmd", "start": 24658.718, "duration": 6.24}, {"text": "and we injected the ntlm hash", "start": 24661.44, "duration": 5.6}, {"text": "into the process", "start": 24664.958, "duration": 3.84}, {"text": "and as you can see", "start": 24667.04, "duration": 3.918}, {"text": "now we are able to", "start": 24668.798, "duration": 5.76}, {"text": "list the sea share on the ramonda dot", "start": 24670.958, "duration": 5.84}, {"text": "wakanda the city", "start": 24674.558, "duration": 5.92}, {"text": "so now we've been able to abuse", "start": 24676.798, "duration": 6.08}, {"text": "we've been able to hack from the child", "start": 24680.478, "duration": 6.16}, {"text": "domain into the forest let's take it a", "start": 24682.878, "duration": 6.162}, {"text": "step further and then try", "start": 24686.638, "duration": 5.84}, {"text": "and see if we can use", "start": 24689.04, "duration": 3.438}, {"text": "ps remote in here", "start": 24692.798, "duration": 6.482}, {"text": "so right now we are on the best domain", "start": 24694.958, "duration": 8.242}, {"text": "as the user sankara", "start": 24699.28, "duration": 3.92}, {"text": "let's see if we can", "start": 24704.0, "duration": 6.0}, {"text": "achieve remote code execution", "start": 24705.92, "duration": 7.12}, {"text": "on the ramonda box since we have the", "start": 24710.0, "duration": 7.04}, {"text": "hash of t sankara we can execute pass a", "start": 24713.04, "duration": 7.598}, {"text": "hash attack directly using the ps exec", "start": 24717.04, "duration": 4.4}, {"text": "to", "start": 24720.638, "duration": 3.762}, {"text": "obtain remote code execution", "start": 24721.44, "duration": 5.6}, {"text": "and we can either specify the fully", "start": 24724.4, "duration": 5.92}, {"text": "qualified domain name of the ramonda box", "start": 24727.04, "duration": 5.838}, {"text": "or we can specify the ip address which", "start": 24730.32, "duration": 3.92}, {"text": "in this case", "start": 24732.878, "duration": 4.76}, {"text": "is 192.168.100.100.", "start": 24734.24, "duration": 3.398}, {"text": "and", "start": 24740.08, "duration": 4.878}, {"text": "if everything works successfully", "start": 24741.28, "duration": 6.32}, {"text": "we should be able to obtain a shell on", "start": 24744.958, "duration": 6.282}, {"text": "the ramonda box", "start": 24747.6, "duration": 3.64}, {"text": "fantastic", "start": 24754.32, "duration": 5.04}, {"text": "so our next goal is let's see if we can", "start": 24755.68, "duration": 7.118}, {"text": "move from this box and compromise the", "start": 24759.36, "duration": 6.72}, {"text": "forest primary domain controller which", "start": 24762.798, "duration": 5.92}, {"text": "is going to be the challa box we have", "start": 24766.08, "duration": 5.52}, {"text": "mimi cats here so i am going to run", "start": 24768.718, "duration": 4.16}, {"text": "mimikatz", "start": 24771.6, "duration": 3.118}, {"text": "from the ramonda box", "start": 24772.878, "duration": 5.282}, {"text": "so essentially we want to see if we", "start": 24774.718, "duration": 6.482}, {"text": "might be able to extract any", "start": 24778.16, "duration": 6.16}, {"text": "passwords from in-memory on this ramon", "start": 24781.2, "duration": 6.4}, {"text": "the box and hopefully we may find a high", "start": 24784.32, "duration": 6.238}, {"text": "privilege user credentials on this box", "start": 24787.6, "duration": 5.52}, {"text": "and most likely use that to jump into", "start": 24790.558, "duration": 6.122}, {"text": "the domain controller", "start": 24793.12, "duration": 3.56}, {"text": "so we have", "start": 24797.6, "duration": 2.24}, {"text": "quite", "start": 24798.958, "duration": 3.362}, {"text": "a number of stuff coming out here so", "start": 24799.84, "duration": 5.118}, {"text": "let's go through", "start": 24802.32, "duration": 5.92}, {"text": "so we have the ntlm hash of this user", "start": 24804.958, "duration": 7.202}, {"text": "okay in chroma and this is the domain", "start": 24808.24, "duration": 6.8}, {"text": "and these are the hashes", "start": 24812.16, "duration": 4.96}, {"text": "and if we recall", "start": 24815.04, "duration": 4.4}, {"text": "this user is a member of the domain", "start": 24817.12, "duration": 4.56}, {"text": "admins on the forest", "start": 24819.44, "duration": 6.72}, {"text": "and also if we bring up and we look at", "start": 24821.68, "duration": 6.958}, {"text": "enterprise admin", "start": 24826.16, "duration": 5.36}, {"text": "that user is also a member of enterprise", "start": 24828.638, "duration": 4.962}, {"text": "admin", "start": 24831.52, "duration": 4.72}, {"text": "so what we're going to do is since now", "start": 24833.6, "duration": 5.92}, {"text": "we have the ntlm hash of the user k in", "start": 24836.24, "duration": 4.718}, {"text": "chroma", "start": 24839.52, "duration": 3.52}, {"text": "we can execute", "start": 24840.958, "duration": 6.882}, {"text": "pssec with the ntlm hash of that user", "start": 24843.04, "duration": 7.04}, {"text": "and then provide a username", "start": 24847.84, "duration": 6.48}, {"text": "and this is the domain controller", "start": 24850.08, "duration": 7.92}, {"text": "for the forest", "start": 24854.32, "duration": 3.68}, {"text": "we should now be on the domain", "start": 24858.16, "duration": 3.2}, {"text": "controller", "start": 24860.08, "duration": 3.2}, {"text": "so this is where", "start": 24861.36, "duration": 4.16}, {"text": "everything that we have done", "start": 24863.28, "duration": 5.76}, {"text": "from the beginning of the operation", "start": 24865.52, "duration": 5.92}, {"text": "going to create an impact", "start": 24869.04, "duration": 5.438}, {"text": "on our client the objectives would", "start": 24871.44, "duration": 6.4}, {"text": "define the actions we carry out", "start": 24874.478, "duration": 4.882}, {"text": "in this phase", "start": 24877.84, "duration": 3.44}, {"text": "to achieve the objectives of the", "start": 24879.36, "duration": 5.278}, {"text": "operations and also demonstrate impact", "start": 24881.28, "duration": 4.24}, {"text": "of", "start": 24884.638, "duration": 2.882}, {"text": "a successful breach", "start": 24885.52, "duration": 4.64}, {"text": "the red team operation or the offensive", "start": 24887.52, "duration": 7.358}, {"text": "operators would execute some activities", "start": 24890.16, "duration": 6.638}, {"text": "which may include", "start": 24894.878, "duration": 5.282}, {"text": "testing to see if they can collect data", "start": 24896.798, "duration": 7.282}, {"text": "by accessing sensitive data", "start": 24900.16, "duration": 6.96}, {"text": "they can also try to test the company's", "start": 24904.08, "duration": 5.2}, {"text": "detection capabilities", "start": 24907.12, "duration": 6.0}, {"text": "by simulating data exfiltration try to", "start": 24909.28, "duration": 7.198}, {"text": "see if we can create dummy data and then", "start": 24913.12, "duration": 6.72}, {"text": "try to exfoliate and see how the", "start": 24916.478, "duration": 6.08}, {"text": "company's blue team or the defenders", "start": 24919.84, "duration": 5.36}, {"text": "will be able to detect our actions and", "start": 24922.558, "duration": 5.842}, {"text": "catch us in an act the other", "start": 24925.2, "duration": 6.4}, {"text": "activity which is becoming a little bit", "start": 24928.4, "duration": 5.84}, {"text": "of a newer concept is target", "start": 24931.6, "duration": 4.08}, {"text": "manipulation", "start": 24934.24, "duration": 4.638}, {"text": "which had been recently added by the", "start": 24935.68, "duration": 6.32}, {"text": "mitre attack frameworks and that is", "start": 24938.878, "duration": 5.042}, {"text": "basically how can we make some", "start": 24942.0, "duration": 4.718}, {"text": "modification to the target that we have", "start": 24943.92, "duration": 4.558}, {"text": "compromised", "start": 24946.718, "duration": 3.76}, {"text": "i have seen this on some of my", "start": 24948.478, "duration": 4.4}, {"text": "engagements in fact i had one of my", "start": 24950.478, "duration": 4.24}, {"text": "engagements where", "start": 24952.878, "duration": 3.76}, {"text": "uh one of our objectives was", "start": 24954.718, "duration": 5.442}, {"text": "specifically to destroy and impair some", "start": 24956.638, "duration": 6.16}, {"text": "systems and see if the company will be", "start": 24960.16, "duration": 6.318}, {"text": "able to recover from such an attack so", "start": 24962.798, "duration": 6.802}, {"text": "don't be surprised if you see rating", "start": 24966.478, "duration": 4.24}, {"text": "operation", "start": 24969.6, "duration": 3.52}, {"text": "that has one of the objectives as", "start": 24970.718, "duration": 4.962}, {"text": "manipulating a system or even causing", "start": 24973.12, "duration": 6.16}, {"text": "harm to the system in case they become a", "start": 24975.68, "duration": 6.56}, {"text": "victim of let's say ransomware how can", "start": 24979.28, "duration": 6.48}, {"text": "the company get out of that situation", "start": 24982.24, "duration": 7.2}, {"text": "the miter attack framework id associated", "start": 24985.76, "duration": 6.08}, {"text": "with data exfiltration", "start": 24989.44, "duration": 5.8}, {"text": "is ta0010", "start": 24991.84, "duration": 3.4}, {"text": "and by definition exfiltration consists", "start": 24996.4, "duration": 6.0}, {"text": "of techniques that adversaries may use", "start": 24999.68, "duration": 5.92}, {"text": "to steal data from your network", "start": 25002.4, "duration": 6.398}, {"text": "this is everything that attackers", "start": 25005.6, "duration": 7.118}, {"text": "apts red teamers ethical hackers", "start": 25008.798, "duration": 6.242}, {"text": "penetration testers and whoever is", "start": 25012.718, "duration": 5.522}, {"text": "carrying out any offensive operation", "start": 25015.04, "duration": 4.56}, {"text": "will use", "start": 25018.24, "duration": 4.718}, {"text": "to exfoliate or move data", "start": 25019.6, "duration": 6.64}, {"text": "from the target's environment to that of", "start": 25022.958, "duration": 4.482}, {"text": "the", "start": 25026.24, "duration": 4.638}, {"text": "attackers environment every adversary", "start": 25027.44, "duration": 6.08}, {"text": "would have their own objective when it", "start": 25030.878, "duration": 5.202}, {"text": "comes to attacking an organization some", "start": 25033.52, "duration": 5.84}, {"text": "may be for personal financial gain some", "start": 25036.08, "duration": 5.36}, {"text": "may be for political", "start": 25039.36, "duration": 5.198}, {"text": "social reasons essentially anything that", "start": 25041.44, "duration": 5.038}, {"text": "the company holds dear", "start": 25044.558, "duration": 3.842}, {"text": "that is where the attacker", "start": 25046.478, "duration": 4.722}, {"text": "wants to hit the hardest so let's look", "start": 25048.4, "duration": 6.238}, {"text": "at some sources of how or where we can", "start": 25051.2, "duration": 4.96}, {"text": "collect data", "start": 25054.638, "duration": 5.042}, {"text": "storage locations you know share drives", "start": 25056.16, "duration": 6.08}, {"text": "nas you know send all these are", "start": 25059.68, "duration": 5.68}, {"text": "locations that are used for storage and", "start": 25062.24, "duration": 6.318}, {"text": "we can look for and collect data we can", "start": 25065.36, "duration": 5.518}, {"text": "also set up a back door for input", "start": 25068.558, "duration": 4.562}, {"text": "capture through key login", "start": 25070.878, "duration": 4.562}, {"text": "and even capture screenshot you also", "start": 25073.12, "duration": 5.598}, {"text": "want to pick up protocol that would also", "start": 25075.44, "duration": 6.0}, {"text": "fit in within normal traffic so for", "start": 25078.718, "duration": 5.76}, {"text": "instance https is going to be a normal", "start": 25081.44, "duration": 6.56}, {"text": "traffic on a wire dns is going to be a", "start": 25084.478, "duration": 5.842}, {"text": "normal traffic on a wire because there", "start": 25088.0, "duration": 4.798}, {"text": "is going to be a ton of dns requests on", "start": 25090.32, "duration": 3.6}, {"text": "the network", "start": 25092.798, "duration": 4.642}, {"text": "so you have to measure which protocols", "start": 25093.92, "duration": 5.84}, {"text": "are most likely used a lot on your", "start": 25097.44, "duration": 5.278}, {"text": "targets network to take advantage a", "start": 25099.76, "duration": 5.198}, {"text": "screenshot here is", "start": 25102.718, "duration": 6.24}, {"text": "an example of covenant c2 that can be", "start": 25104.958, "duration": 6.642}, {"text": "used to take a screenshot of your", "start": 25108.958, "duration": 5.6}, {"text": "vitamix machine so here you can see that", "start": 25111.6, "duration": 4.24}, {"text": "i have used", "start": 25114.558, "duration": 4.24}, {"text": "the carbonyl c to take a screenshot of a", "start": 25115.84, "duration": 5.118}, {"text": "compromise machine which is one of our", "start": 25118.798, "duration": 4.16}, {"text": "demo systems", "start": 25120.958, "duration": 5.042}, {"text": "we can also use a download command on", "start": 25122.958, "duration": 6.082}, {"text": "the um any session with kavanaugh to", "start": 25126.0, "duration": 6.16}, {"text": "download a file you can also go into the", "start": 25129.04, "duration": 5.518}, {"text": "data side of your", "start": 25132.16, "duration": 5.2}, {"text": "cabinet and then be able to view your", "start": 25134.558, "duration": 5.602}, {"text": "screenshot and everything else that was", "start": 25137.36, "duration": 4.08}, {"text": "collected", "start": 25140.16, "duration": 3.36}, {"text": "so let's take a look at", "start": 25141.44, "duration": 6.16}, {"text": "one protocol which has become well known", "start": 25143.52, "duration": 4.88}, {"text": "for", "start": 25147.6, "duration": 4.24}, {"text": "moving data from victims environment to", "start": 25148.4, "duration": 6.558}, {"text": "systems controlled by the attacker and", "start": 25151.84, "duration": 5.28}, {"text": "that is dns", "start": 25154.958, "duration": 4.722}, {"text": "now the reason why dns is a lot you know", "start": 25157.12, "duration": 4.56}, {"text": "it's becoming more prominent when it", "start": 25159.68, "duration": 4.24}, {"text": "comes to data exploration", "start": 25161.68, "duration": 5.6}, {"text": "it's because dns is allowed even in the", "start": 25163.92, "duration": 6.08}, {"text": "most restricted environment because", "start": 25167.28, "duration": 5.438}, {"text": "every machine on a network is going to", "start": 25170.0, "duration": 6.4}, {"text": "have to do some dns resolution so dns", "start": 25172.718, "duration": 6.882}, {"text": "tunneling is used most of the time to", "start": 25176.4, "duration": 4.398}, {"text": "bypass", "start": 25179.6, "duration": 3.52}, {"text": "controls such as proxies", "start": 25180.798, "duration": 5.602}, {"text": "firewalls and ips filtering now the", "start": 25183.12, "duration": 7.838}, {"text": "downside of dns tunneling is it is slow", "start": 25186.4, "duration": 5.44}, {"text": "so", "start": 25190.958, "duration": 3.362}, {"text": "we have to limit the amount of data that", "start": 25191.84, "duration": 5.76}, {"text": "can be transmitted per dns packet", "start": 25194.32, "duration": 6.08}, {"text": "what we have to also do is we need to", "start": 25197.6, "duration": 6.4}, {"text": "control both end of the communication so", "start": 25200.4, "duration": 6.158}, {"text": "we need to have the setup on our c2", "start": 25204.0, "duration": 6.32}, {"text": "server and also run the client on a", "start": 25206.558, "duration": 6.482}, {"text": "victim's machine lucky enough we have a", "start": 25210.32, "duration": 6.398}, {"text": "tool called dns cat 2 that can be used", "start": 25213.04, "duration": 7.28}, {"text": "for data exfiltration through dns", "start": 25216.718, "duration": 7.122}, {"text": "traffic so let's jump into a quick demo", "start": 25220.32, "duration": 7.92}, {"text": "on how we can set up dns tunneling on", "start": 25223.84, "duration": 8.0}, {"text": "our kali machine and x will put data", "start": 25228.24, "duration": 6.718}, {"text": "from our compromised vectors machine to", "start": 25231.84, "duration": 6.16}, {"text": "our kali so to get up and running with", "start": 25234.958, "duration": 7.122}, {"text": "dns catch 2 we can install that on kali", "start": 25238.0, "duration": 6.558}, {"text": "with this command right here", "start": 25242.08, "duration": 4.718}, {"text": "and then once we have that installed we", "start": 25244.558, "duration": 6.4}, {"text": "can stand up the server dns cat2", "start": 25246.798, "duration": 5.122}, {"text": "server", "start": 25250.958, "duration": 3.122}, {"text": "and then provide our fully qualified", "start": 25251.92, "duration": 5.12}, {"text": "domain name of our kali machine", "start": 25254.08, "duration": 5.04}, {"text": "and then just hit enter and what it's", "start": 25257.04, "duration": 5.2}, {"text": "going to do is it is going to give us a", "start": 25259.12, "duration": 4.96}, {"text": "secret", "start": 25262.24, "duration": 4.8}, {"text": "so we can type this exactly as it is on", "start": 25264.08, "duration": 5.12}, {"text": "our client machine", "start": 25267.04, "duration": 4.56}, {"text": "so i'm going to copy this", "start": 25269.2, "duration": 3.358}, {"text": "secret", "start": 25271.6, "duration": 3.118}, {"text": "and if you take a look here it is going", "start": 25272.558, "duration": 4.482}, {"text": "to give us some information down here", "start": 25274.718, "duration": 4.562}, {"text": "and again the most important aspect of", "start": 25277.04, "duration": 4.88}, {"text": "this is all connections must be", "start": 25279.28, "duration": 5.12}, {"text": "encrypted and to ensure that there is no", "start": 25281.92, "duration": 5.44}, {"text": "spoofing attack going on that is why we", "start": 25284.4, "duration": 4.158}, {"text": "use this", "start": 25287.36, "duration": 4.56}, {"text": "secret to create a handshake to ensure", "start": 25288.558, "duration": 6.642}, {"text": "our traffic is not be intercepted", "start": 25291.92, "duration": 5.92}, {"text": "so i can take this and then go back to", "start": 25295.2, "duration": 4.48}, {"text": "our victims machine", "start": 25297.84, "duration": 4.08}, {"text": "i already have the dns cad client", "start": 25299.68, "duration": 5.038}, {"text": "running i have set up the dns server", "start": 25301.92, "duration": 4.4}, {"text": "which is going to be", "start": 25304.718, "duration": 3.522}, {"text": "the kali linux", "start": 25306.32, "duration": 3.84}, {"text": "which in this case is going to be our", "start": 25308.24, "duration": 3.92}, {"text": "attacker's control machine", "start": 25310.16, "duration": 5.36}, {"text": "it is of course going to run on port 53", "start": 25312.16, "duration": 4.88}, {"text": "and then we're going to provide the", "start": 25315.52, "duration": 3.84}, {"text": "secret number", "start": 25317.04, "duration": 5.438}, {"text": "and if all is good and well we should", "start": 25319.36, "duration": 6.24}, {"text": "have a session established", "start": 25322.478, "duration": 5.842}, {"text": "okay and then it says appear verified", "start": 25325.6, "duration": 4.72}, {"text": "with pressured secret", "start": 25328.32, "duration": 4.238}, {"text": "so we should be good now", "start": 25330.32, "duration": 5.12}, {"text": "so to interact with the session we just", "start": 25332.558, "duration": 4.562}, {"text": "type in session", "start": 25335.44, "duration": 7.198}, {"text": "dash i and then the number is one", "start": 25337.12, "duration": 7.758}, {"text": "all right so as we can see we've now", "start": 25342.638, "duration": 3.762}, {"text": "dropped on that", "start": 25344.878, "duration": 2.802}, {"text": "victim", "start": 25346.4, "duration": 4.72}, {"text": "and we can type in shell", "start": 25347.68, "duration": 6.56}, {"text": "now we have a new window created so we", "start": 25351.12, "duration": 5.678}, {"text": "can type in the session", "start": 25354.24, "duration": 3.68}, {"text": "dash i", "start": 25356.798, "duration": 3.602}, {"text": "and then two", "start": 25357.92, "duration": 5.36}, {"text": "and we should now have a full shell can", "start": 25360.4, "duration": 4.238}, {"text": "now type in", "start": 25363.28, "duration": 2.72}, {"text": "who am i", "start": 25364.638, "duration": 4.24}, {"text": "and that will give us the name of the", "start": 25366.0, "duration": 5.04}, {"text": "victim we are communicating with this", "start": 25368.878, "duration": 6.562}, {"text": "victim over dns protocol so with dns", "start": 25371.04, "duration": 6.72}, {"text": "interaction what is going to happen on a", "start": 25375.44, "duration": 5.84}, {"text": "wire is even if anyone from the", "start": 25377.76, "duration": 5.52}, {"text": "defensive side are looking through", "start": 25381.28, "duration": 4.08}, {"text": "traffic all they are going to see is a", "start": 25383.28, "duration": 5.678}, {"text": "dns traffic going back and forth and", "start": 25385.36, "duration": 7.118}, {"text": "most likely most network admins are", "start": 25388.958, "duration": 5.6}, {"text": "going to pay too much attention", "start": 25392.478, "duration": 5.042}, {"text": "on traffic which are dns in nature the", "start": 25394.558, "duration": 6.0}, {"text": "next protocol we are going to use or", "start": 25397.52, "duration": 4.72}, {"text": "demonstrate how we can", "start": 25400.558, "duration": 4.24}, {"text": "transfer file is open", "start": 25402.24, "duration": 4.08}, {"text": "ssl", "start": 25404.798, "duration": 6.042}, {"text": "now open ssl is a very robust and highly", "start": 25406.32, "duration": 9.28}, {"text": "featured toolkit for the tls and ssl", "start": 25410.84, "duration": 6.118}, {"text": "protocols", "start": 25415.6, "duration": 3.278}, {"text": "we can however", "start": 25416.958, "duration": 4.402}, {"text": "use this openssl", "start": 25418.878, "duration": 6.162}, {"text": "in a different way to exfiltrate data", "start": 25421.36, "duration": 7.68}, {"text": "to our attacker's machine over a tcp", "start": 25425.04, "duration": 6.0}, {"text": "connection let's take a quick look on", "start": 25429.04, "duration": 5.28}, {"text": "how that can be done so on our kali", "start": 25431.04, "duration": 6.32}, {"text": "machine which is our tarkis machine", "start": 25434.32, "duration": 7.398}, {"text": "let's see the into temp folder", "start": 25437.36, "duration": 4.358}, {"text": "and we first of all going to generate", "start": 25442.0, "duration": 7.76}, {"text": "keepers with open ssl and set up a", "start": 25445.68, "duration": 7.118}, {"text": "listener so we're going to use the op", "start": 25449.76, "duration": 7.118}, {"text": "ssl command to request a new certificate", "start": 25452.798, "duration": 6.882}, {"text": "or key pairs we're going to save the key", "start": 25456.878, "duration": 4.962}, {"text": "into key.pem", "start": 25459.68, "duration": 5.36}, {"text": "and then our assert on start.pam", "start": 25461.84, "duration": 6.08}, {"text": "and we're going to give it 365 days when", "start": 25465.04, "duration": 5.12}, {"text": "it comes to expiration or the longevity", "start": 25467.92, "duration": 4.24}, {"text": "of the key and that should give us our", "start": 25470.16, "duration": 3.84}, {"text": "key", "start": 25472.16, "duration": 3.92}, {"text": "the next is we are going to set up a", "start": 25474.0, "duration": 3.44}, {"text": "listener", "start": 25476.08, "duration": 3.52}, {"text": "so with this command we are just going", "start": 25477.44, "duration": 3.76}, {"text": "to use", "start": 25479.6, "duration": 2.8}, {"text": "ssl", "start": 25481.2, "duration": 3.04}, {"text": "to stand up a server", "start": 25482.4, "duration": 4.0}, {"text": "we're going to provide it with the key", "start": 25484.24, "duration": 3.52}, {"text": "of the keypad", "start": 25486.4, "duration": 3.52}, {"text": "dot pam and then our certificate we just", "start": 25487.76, "duration": 3.118}, {"text": "created", "start": 25489.92, "duration": 4.0}, {"text": "and we're going to listen on port 443", "start": 25490.878, "duration": 5.442}, {"text": "and save everything that comes in into", "start": 25493.92, "duration": 5.038}, {"text": "this file and let's go ahead and", "start": 25496.32, "duration": 6.72}, {"text": "simulate the fact that we are on a linux", "start": 25498.958, "duration": 5.84}, {"text": "machine that we have compromised a", "start": 25503.04, "duration": 3.36}, {"text": "victim's machine", "start": 25504.798, "duration": 3.202}, {"text": "we are running this on our victims", "start": 25506.4, "duration": 2.558}, {"text": "machine", "start": 25508.0, "duration": 2.718}, {"text": "which is a shuri", "start": 25508.958, "duration": 4.722}, {"text": "and we're using openssl client", "start": 25510.718, "duration": 6.962}, {"text": "utility connect to our attackers machine", "start": 25513.68, "duration": 6.64}, {"text": "which is listed on port 443", "start": 25517.68, "duration": 4.798}, {"text": "and we are transferring this file over", "start": 25520.32, "duration": 5.04}, {"text": "to our kali machine or to our attacker's", "start": 25522.478, "duration": 5.522}, {"text": "machine this file contains the list of", "start": 25525.36, "duration": 6.0}, {"text": "users on a linux machine of course this", "start": 25528.0, "duration": 6.16}, {"text": "is just for demo purposes the downside", "start": 25531.36, "duration": 5.438}, {"text": "here is we would now be able to tell as", "start": 25534.16, "duration": 4.24}, {"text": "to when it's done", "start": 25536.798, "duration": 3.84}, {"text": "so we just have to give it some time", "start": 25538.4, "duration": 5.44}, {"text": "and then we can kill a session and then", "start": 25540.638, "duration": 6.24}, {"text": "go back to our box and then look for", "start": 25543.84, "duration": 6.718}, {"text": "that data so let's do ctrl c on our kali", "start": 25546.878, "duration": 5.522}, {"text": "machine", "start": 25550.558, "duration": 6.962}, {"text": "and see if this file was created and yes", "start": 25552.4, "duration": 7.28}, {"text": "we received a file from", "start": 25557.52, "duration": 4.08}, {"text": "our victims machine", "start": 25559.68, "duration": 3.038}, {"text": "so", "start": 25561.6, "duration": 4.08}, {"text": "this is another way that you can", "start": 25562.718, "duration": 6.322}, {"text": "transfer file or exfiltrate data from a", "start": 25565.68, "duration": 5.6}, {"text": "victim's machine", "start": 25569.04, "duration": 4.64}, {"text": "to your attacker's machine", "start": 25571.28, "duration": 5.92}, {"text": "using open ssl", "start": 25573.68, "duration": 7.6}, {"text": "all reg team operations or offensive", "start": 25577.2, "duration": 7.04}, {"text": "operations would have to come to an end", "start": 25581.28, "duration": 4.32}, {"text": "at some point", "start": 25584.24, "duration": 4.8}, {"text": "and the post engagement phase is where", "start": 25585.6, "duration": 4.48}, {"text": "we", "start": 25589.04, "duration": 4.16}, {"text": "intend to wrap up the engagement and all", "start": 25590.08, "duration": 6.32}, {"text": "the activities we conduct in wrapping up", "start": 25593.2, "duration": 4.48}, {"text": "the engagement", "start": 25596.4, "duration": 4.478}, {"text": "is what we classify post engagement", "start": 25597.68, "duration": 4.16}, {"text": "phase", "start": 25600.878, "duration": 3.6}, {"text": "during the exercise closure we're going", "start": 25601.84, "duration": 5.28}, {"text": "to make sure that we collect as much", "start": 25604.478, "duration": 6.722}, {"text": "evidence as possible i cannot stress on", "start": 25607.12, "duration": 6.72}, {"text": "that enough the worst", "start": 25611.2, "duration": 3.518}, {"text": "thing", "start": 25613.84, "duration": 5.6}, {"text": "is executing any offensive operation or", "start": 25614.718, "duration": 7.282}, {"text": "red team engagement and during your", "start": 25619.44, "duration": 5.358}, {"text": "reports you might be missing out a key", "start": 25622.0, "duration": 4.638}, {"text": "piece of evidence", "start": 25624.798, "duration": 2.722}, {"text": "so", "start": 25626.638, "duration": 3.282}, {"text": "take as many", "start": 25627.52, "duration": 4.64}, {"text": "evidence as possible", "start": 25629.92, "duration": 6.638}, {"text": "log everything as much as possible and", "start": 25632.16, "duration": 7.68}, {"text": "all the data from the writing operation", "start": 25636.558, "duration": 4.4}, {"text": "must be", "start": 25639.84, "duration": 3.44}, {"text": "aggregated so", "start": 25640.958, "duration": 4.402}, {"text": "the exercise closure", "start": 25643.28, "duration": 4.16}, {"text": "is where the team goes through all of", "start": 25645.36, "duration": 3.358}, {"text": "our events", "start": 25647.44, "duration": 3.84}, {"text": "and then aggregate all of our logs and", "start": 25648.718, "duration": 4.722}, {"text": "then collect evidence", "start": 25651.28, "duration": 4.8}, {"text": "most c2 framework", "start": 25653.44, "duration": 4.88}, {"text": "have some of these things", "start": 25656.08, "duration": 4.08}, {"text": "built in already", "start": 25658.32, "duration": 4.318}, {"text": "but it doesn't hurt to also learn to do", "start": 25660.16, "duration": 4.96}, {"text": "most of these manually", "start": 25662.638, "duration": 4.562}, {"text": "where you don't have a tool to automate", "start": 25665.12, "duration": 3.28}, {"text": "it for you", "start": 25667.2, "duration": 4.64}, {"text": "if the team did make any changes to any", "start": 25668.4, "duration": 4.558}, {"text": "system", "start": 25671.84, "duration": 3.92}, {"text": "this is a time for us to revert those", "start": 25672.958, "duration": 5.92}, {"text": "systems to the original state", "start": 25675.76, "duration": 5.84}, {"text": "we have to kill all sessions we may have", "start": 25678.878, "duration": 3.6}, {"text": "had", "start": 25681.6, "duration": 2.56}, {"text": "on systems", "start": 25682.478, "duration": 4.48}, {"text": "the worst thing you want to do is you as", "start": 25684.16, "duration": 4.558}, {"text": "a consultant company", "start": 25686.958, "duration": 5.202}, {"text": "leaving a back door after your operation", "start": 25688.718, "duration": 5.122}, {"text": "that is not a good thing at all to", "start": 25692.16, "duration": 3.04}, {"text": "happen to you", "start": 25693.84, "duration": 4.0}, {"text": "so we want to make sure that we've", "start": 25695.2, "duration": 4.8}, {"text": "killed all of our sessions", "start": 25697.84, "duration": 6.08}, {"text": "we've removed any account we created", "start": 25700.0, "duration": 5.12}, {"text": "the", "start": 25703.92, "duration": 4.48}, {"text": "exercise closure also includes", "start": 25705.12, "duration": 6.24}, {"text": "the red team and the blue team", "start": 25708.4, "duration": 5.76}, {"text": "and any other stakeholders who were", "start": 25711.36, "duration": 4.72}, {"text": "involved in a process", "start": 25714.16, "duration": 4.88}, {"text": "to come together and then discuss", "start": 25716.08, "duration": 7.12}, {"text": "the exercise that was conducted", "start": 25719.04, "duration": 6.08}, {"text": "the blue teammates will have a chance to", "start": 25723.2, "duration": 4.88}, {"text": "sit side by side with the red teamers", "start": 25725.12, "duration": 5.678}, {"text": "and then review the activities the red", "start": 25728.08, "duration": 4.0}, {"text": "team has", "start": 25730.798, "duration": 2.482}, {"text": "executed", "start": 25732.08, "duration": 3.04}, {"text": "and then compare that with their", "start": 25733.28, "duration": 3.92}, {"text": "detection or compare that with their", "start": 25735.12, "duration": 3.12}, {"text": "notes", "start": 25737.2, "duration": 4.32}, {"text": "and the goal here is again emphasize on", "start": 25738.24, "duration": 6.238}, {"text": "one of the overall goals of red teaming", "start": 25741.52, "duration": 6.16}, {"text": "which is to help train the blue teamers", "start": 25744.478, "duration": 4.0}, {"text": "so", "start": 25747.68, "duration": 2.72}, {"text": "the blue teamers would have the chance", "start": 25748.478, "duration": 4.32}, {"text": "to sit with a red teamers and then", "start": 25750.4, "duration": 5.04}, {"text": "compare notes and then find out where", "start": 25752.798, "duration": 4.0}, {"text": "they did well", "start": 25755.44, "duration": 3.68}, {"text": "and where they missed things so they can", "start": 25756.798, "duration": 3.362}, {"text": "go back", "start": 25759.12, "duration": 2.16}, {"text": "and then", "start": 25760.16, "duration": 3.12}, {"text": "tweak some of their tools", "start": 25761.28, "duration": 4.8}, {"text": "their process or their procedure it may", "start": 25763.28, "duration": 5.598}, {"text": "be catching the attacks in the future", "start": 25766.08, "duration": 4.878}, {"text": "now once that is done", "start": 25768.878, "duration": 4.482}, {"text": "we are now going to also set up or", "start": 25770.958, "duration": 5.122}, {"text": "create what we call a remediation and", "start": 25773.36, "duration": 5.598}, {"text": "action plans during the discussion we", "start": 25776.08, "duration": 4.718}, {"text": "are going to sit down with a team and", "start": 25778.958, "duration": 4.882}, {"text": "then we go back and forth with how we", "start": 25780.798, "duration": 6.562}, {"text": "executed our attacks the ttps we use", "start": 25783.84, "duration": 6.0}, {"text": "which ones the blue teamers missed which", "start": 25787.36, "duration": 4.0}, {"text": "ones they caught us", "start": 25789.84, "duration": 3.76}, {"text": "and the ones that they missed how can", "start": 25791.36, "duration": 5.04}, {"text": "they or how could they have caught us", "start": 25793.6, "duration": 5.118}, {"text": "and then build that into the remediation", "start": 25796.4, "duration": 5.92}, {"text": "and action plans to improve the people", "start": 25798.718, "duration": 7.122}, {"text": "the process and technology car controls", "start": 25802.32, "duration": 7.36}, {"text": "to reduce the success rate of any future", "start": 25805.84, "duration": 5.76}, {"text": "rating operation", "start": 25809.68, "duration": 5.52}, {"text": "so once we're done with this discussion", "start": 25811.6, "duration": 6.8}, {"text": "now it's time for us to present our work", "start": 25815.2, "duration": 5.438}, {"text": "in a formal report", "start": 25818.4, "duration": 4.0}, {"text": "now one thing that you should be aware", "start": 25820.638, "duration": 5.522}, {"text": "of is there isn't any specific way to", "start": 25822.4, "duration": 5.44}, {"text": "write a good", "start": 25826.16, "duration": 3.52}, {"text": "rating report", "start": 25827.84, "duration": 2.56}, {"text": "so", "start": 25829.68, "duration": 4.0}, {"text": "don't worry about maybe there's a better", "start": 25830.4, "duration": 6.158}, {"text": "way to write a red team report however", "start": 25833.68, "duration": 5.038}, {"text": "there are some key things that you may", "start": 25836.558, "duration": 4.882}, {"text": "want your reports to contain and i have", "start": 25838.718, "duration": 4.962}, {"text": "put down some of the minimum things that", "start": 25841.44, "duration": 5.68}, {"text": "you can think of or you can add on your", "start": 25843.68, "duration": 6.878}, {"text": "report if you don't already have one", "start": 25847.12, "duration": 6.28}, {"text": "the executive summary this is where the", "start": 25850.558, "duration": 6.482}, {"text": "non-technical stakeholders want to see", "start": 25853.4, "duration": 5.158}, {"text": "the overall", "start": 25857.04, "duration": 4.16}, {"text": "operation that was conducted so the", "start": 25858.558, "duration": 4.802}, {"text": "executive summary is going to give the", "start": 25861.2, "duration": 4.72}, {"text": "goals and objectives and the summary and", "start": 25863.36, "duration": 5.76}, {"text": "recommendations in a very high level for", "start": 25865.92, "duration": 6.32}, {"text": "the non-tech individuals or stakeholders", "start": 25869.12, "duration": 5.838}, {"text": "to get a bigger picture we also want to", "start": 25872.24, "duration": 6.0}, {"text": "provide the methodology or the framework", "start": 25874.958, "duration": 6.402}, {"text": "we use for the operation", "start": 25878.24, "duration": 6.16}, {"text": "whether it was minor attack framework we", "start": 25881.36, "duration": 5.92}, {"text": "used whether we use our own custom-made", "start": 25884.4, "duration": 6.478}, {"text": "or any of the methodology you had used", "start": 25887.28, "duration": 5.12}, {"text": "for the operation", "start": 25890.878, "duration": 3.122}, {"text": "you would want to have that in your", "start": 25892.4, "duration": 4.398}, {"text": "report so that your readers will know", "start": 25894.0, "duration": 5.52}, {"text": "that you went through a well-defined", "start": 25896.798, "duration": 5.122}, {"text": "method or framework to execute the", "start": 25899.52, "duration": 4.72}, {"text": "exercise we also want to have the", "start": 25901.92, "duration": 4.48}, {"text": "planning phase we want to have the list", "start": 25904.24, "duration": 4.88}, {"text": "of the scenarios and the scope details", "start": 25906.4, "duration": 5.04}, {"text": "for each scenario in our report to", "start": 25909.12, "duration": 3.678}, {"text": "reaffirm", "start": 25911.44, "duration": 5.198}, {"text": "what guided our operation the scenarios", "start": 25912.798, "duration": 6.242}, {"text": "the goals and the scope of it and then", "start": 25916.638, "duration": 4.722}, {"text": "for each we are now going to have the", "start": 25919.04, "duration": 4.32}, {"text": "attack narrative", "start": 25921.36, "duration": 5.278}, {"text": "we want to walk through the activities", "start": 25923.36, "duration": 6.56}, {"text": "we executed to accomplish our goal we", "start": 25926.638, "duration": 6.16}, {"text": "may include both the ones we succeeded", "start": 25929.92, "duration": 4.878}, {"text": "and the ones we failed because at the", "start": 25932.798, "duration": 4.482}, {"text": "end of the day we also want to give the", "start": 25934.798, "duration": 5.602}, {"text": "blue teamers credit for where we fell", "start": 25937.28, "duration": 5.678}, {"text": "short and where they exceeded in making", "start": 25940.4, "duration": 4.8}, {"text": "our work difficult and then we can go", "start": 25942.958, "duration": 4.962}, {"text": "into detailed findings of the issues we", "start": 25945.2, "duration": 6.8}, {"text": "had identified including our ttps we use", "start": 25947.92, "duration": 7.92}, {"text": "and also evidence evidence i mean by a", "start": 25952.0, "duration": 5.68}, {"text": "snippet of code", "start": 25955.84, "duration": 5.2}, {"text": "pocs screenshots whatever that we can", "start": 25957.68, "duration": 5.84}, {"text": "provide to help the blue teamers", "start": 25961.04, "duration": 4.8}, {"text": "remediate or help them in their action", "start": 25963.52, "duration": 3.198}, {"text": "plan", "start": 25965.84, "duration": 3.038}, {"text": "that will fall under the detailed", "start": 25966.718, "duration": 4.802}, {"text": "findings and then of course we have a", "start": 25968.878, "duration": 4.08}, {"text": "recommendation", "start": 25971.52, "duration": 3.76}, {"text": "and the action plan section which is", "start": 25972.958, "duration": 4.962}, {"text": "going to be specific actions or", "start": 25975.28, "duration": 5.598}, {"text": "considerations for improving the blue", "start": 25977.92, "duration": 4.638}, {"text": "team's detection", "start": 25980.878, "duration": 4.722}, {"text": "or even implementing other viable", "start": 25982.558, "duration": 6.562}, {"text": "mitigating strategies so this is just a", "start": 25985.6, "duration": 6.24}, {"text": "high level or writing a report for your", "start": 25989.12, "duration": 4.96}, {"text": "red team operation", "start": 25991.84, "duration": 5.28}, {"text": "so one thing that i keep referring or", "start": 25994.08, "duration": 6.478}, {"text": "telling people is in our line of work", "start": 25997.12, "duration": 7.2}, {"text": "there is no need to reinvent the wheel", "start": 26000.558, "duration": 4.962}, {"text": "because", "start": 26004.32, "duration": 4.72}, {"text": "most problems that you may have during", "start": 26005.52, "duration": 5.84}, {"text": "your work somebody may have encountered", "start": 26009.04, "duration": 5.36}, {"text": "that and may have provided a solution", "start": 26011.36, "duration": 6.0}, {"text": "so i always advise people", "start": 26014.4, "duration": 6.96}, {"text": "use research and then maybe modify that", "start": 26017.36, "duration": 6.88}, {"text": "to your taste with that said if you are", "start": 26021.36, "duration": 6.08}, {"text": "looking for a template to maybe start", "start": 26024.24, "duration": 5.28}, {"text": "off when it comes to writing your red", "start": 26027.44, "duration": 5.76}, {"text": "team report this could be a good website", "start": 26029.52, "duration": 5.118}, {"text": "to go to", "start": 26033.2, "duration": 3.12}, {"text": "redteam.guide", "start": 26034.638, "duration": 5.442}, {"text": "have a nice template or a breakdown of", "start": 26036.32, "duration": 6.398}, {"text": "how a report can look like", "start": 26040.08, "duration": 5.36}, {"text": "it's a little bit dated but i think it", "start": 26042.718, "duration": 4.962}, {"text": "will be a very good starting point for", "start": 26045.44, "duration": 6.24}, {"text": "you if you don't have any report to", "start": 26047.68, "duration": 7.198}, {"text": "start with with this particular template", "start": 26051.68, "duration": 5.6}, {"text": "this is how it looks like essentially", "start": 26054.878, "duration": 5.6}, {"text": "the executive summary and then you can", "start": 26057.28, "duration": 5.198}, {"text": "have your team's name here or the", "start": 26060.478, "duration": 3.522}, {"text": "company's name here", "start": 26062.478, "duration": 3.762}, {"text": "the executive summary would contain the", "start": 26064.0, "duration": 5.36}, {"text": "goals and even observations", "start": 26066.24, "duration": 6.238}, {"text": "so this is going to be a place for again", "start": 26069.36, "duration": 6.48}, {"text": "the non-tech stakeholders and now we can", "start": 26072.478, "duration": 6.802}, {"text": "go into our methodology and goals and", "start": 26075.84, "duration": 5.92}, {"text": "then we can now go into the scenario and", "start": 26079.28, "duration": 4.16}, {"text": "scope details", "start": 26081.76, "duration": 4.24}, {"text": "so i think this template can be a very", "start": 26083.44, "duration": 4.56}, {"text": "good starting point for", "start": 26086.0, "duration": 4.718}, {"text": "someone who hasn't done red to me before", "start": 26088.0, "duration": 4.798}, {"text": "or who wants to just beef up their", "start": 26090.718, "duration": 4.402}, {"text": "reports can also download the report", "start": 26092.798, "duration": 6.0}, {"text": "template and then work off on that", "start": 26095.12, "duration": 8.64}, {"text": "so this brings us to the end of our", "start": 26098.798, "duration": 7.84}, {"text": "writing for beginners", "start": 26103.76, "duration": 6.0}, {"text": "course i hope you learned one or two", "start": 26106.638, "duration": 7.522}, {"text": "things from this training thank you", "start": 26109.76, "duration": 4.4}]]
